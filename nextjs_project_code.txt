

// === File: compile_project.js ===

const fs = require('fs');
const path = require('path');

// Configuration
const outputFile = 'nextjs_project_code.txt';
const rootDir = process.cwd(); // Current working directory (run from project root)
const excludeDirs = ['node_modules', '.next', '.git', 'public', 'cache']; // Exclude these directory names anywhere (add more if needed)
const excludePaths = ['src/data']; // Exclude these specific relative paths (normalized to '/')
const includeExtensions = ['.js', '.jsx', '.ts', '.tsx', '.css', '.scss', '.json', '.md', '.yml', '.yaml']; // File types to include

// Function to check if a file should be included
function shouldInclude(filePath) {
  const ext = path.extname(filePath);
  return includeExtensions.includes(ext);
}

// Function to recursively walk the directory
function walkDir(dir, callback) {
  fs.readdir(dir, { withFileTypes: true }, (err, entries) => {
    if (err) {
      console.error(`Error reading directory ${dir}:`, err);
      return;
    }
    entries.forEach(entry => {
      const fullPath = path.join(dir, entry.name);
      if (entry.isDirectory()) {
        const dirName = entry.name;
        const relativeDir = path.relative(rootDir, fullPath).replace(/\\/g, '/');
        if (!excludeDirs.includes(dirName) && !excludePaths.includes(relativeDir)) {
          walkDir(fullPath, callback);
        }
      } else if (shouldInclude(fullPath)) {
        callback(fullPath);
      }
    });
  });
}

// Clear the output file if it exists
fs.writeFileSync(outputFile, '');

// Walk the directory and append files
walkDir(rootDir, (filePath) => {
  try {
    const relativePath = path.relative(rootDir, filePath);
    const content = fs.readFileSync(filePath, 'utf8');
    const separator = `\n\n// === File: ${relativePath} ===\n\n`;
    fs.appendFileSync(outputFile, separator + content);
    console.log(`Appended: ${relativePath}`);
  } catch (err) {
    console.error(`Error processing file ${filePath}:`, err);
  }
});

console.log(`\nAll files compiled into ${outputFile}`);

// === File: next-env.d.ts ===

/// <reference types="next" />
/// <reference types="next/image-types/global" />

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.


// === File: next.config.js ===

/** @type {import('next').NextConfig} */
const nextConfig = {
  experimental: {},
  images: {
    domains: ['img.youtube.com', 'i.ytimg.com'],
    formats: ['image/avif', 'image/webp'],
    minimumCacheTTL: 60 * 60 * 24 * 7, // 1 week
    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048, 3840],
    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384],
  },
  compress: true,
  poweredByHeader: false,
  reactStrictMode: true,
  compiler: {
    removeConsole: process.env.NODE_ENV === 'production',
  },
  // Enable static optimization and compression
  output: 'standalone',
  // Bundle analyzer for production builds
  ...(process.env.ANALYZE === 'true' && {
    webpack: (config) => {
      config.plugins.push(
        new (require('@next/bundle-analyzer'))({
          enabled: process.env.ANALYZE === 'true',
        })
      );
      return config;
    },
  }),
  // Cache optimization
  headers: async () => {
    return [
      {
        source: '/(.*)',
        headers: [
          {
            key: 'X-Content-Type-Options',
            value: 'nosniff',
          },
          {
            key: 'X-Frame-Options',
            value: 'DENY',
          },
          {
            key: 'X-XSS-Protection',
            value: '1; mode=block',
          },
        ],
      },
      {
        source: '/api/casualties',
        headers: [
          {
            key: 'Cache-Control',
            value: 's-maxage=3600, stale-while-revalidate=7200', // Cache for 1 hour, serve stale for 2 hours
          },
        ],
      },
    ];
  },
}

module.exports = nextConfig


// === File: package-lock.json ===

{
  "name": "ukrwarlosses",
  "version": "1.0.0",
  "lockfileVersion": 3,
  "requires": true,
  "packages": {
    "": {
      "name": "ukrwarlosses",
      "version": "1.0.0",
      "license": "ISC",
      "dependencies": {
        "@playwright/test": "^1.54.2",
        "@tailwindcss/postcss": "^4.1.12",
        "@tailwindcss/typography": "^0.5.15",
        "@types/cheerio": "^0.22.35",
        "@types/node": "^22.8.1",
        "@types/react": "^18.3.12",
        "@types/react-dom": "^18.3.1",
        "@vercel/blob": "^0.23.4",
        "autoprefixer": "^10.4.20",
        "cheerio": "^1.1.2",
        "date-fns": "^4.1.0",
        "lucide-react": "^0.451.0",
        "next": "^15.4.6",
        "playwright": "^1.54.2",
        "postcss": "^8.5.1",
        "puppeteer": "^23.11.1",
        "react": "^18.3.1",
        "react-dom": "^18.3.1",
        "recharts": "^2.13.3",
        "tailwindcss": "^3.4.14",
        "typescript": "^5.6.3"
      },
      "devDependencies": {
        "tsx": "^4.20.4"
      }
    },
    "node_modules/@alloc/quick-lru": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/@alloc/quick-lru/-/quick-lru-5.2.0.tgz",
      "integrity": "sha512-UrcABB+4bUrFABwbluTIBErXwvbsU/V7TZWfmbgJfbkwiBuziS9gxdODUyuiecfdGQ85jglMW6juS3+z5TsKLw==",
      "license": "MIT",
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/@babel/code-frame": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
      "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
      "license": "MIT",
      "dependencies": {
        "@babel/helper-validator-identifier": "^7.27.1",
        "js-tokens": "^4.0.0",
        "picocolors": "^1.1.1"
      },
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/helper-validator-identifier": {
      "version": "7.27.1",
      "resolved": "https://registry.npmjs.org/@babel/helper-validator-identifier/-/helper-validator-identifier-7.27.1.tgz",
      "integrity": "sha512-D2hP9eA+Sqx1kBZgzxZh0y1trbuU+JoDkiEwqhQ36nodYqJwyEIhPSdMNd7lOm/4io72luTPWH20Yda0xOuUow==",
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@babel/runtime": {
      "version": "7.28.3",
      "resolved": "https://registry.npmjs.org/@babel/runtime/-/runtime-7.28.3.tgz",
      "integrity": "sha512-9uIQ10o0WGdpP6GDhXcdOJPJuDgFtIDtN/9+ArJQ2NAfAmiuhTQdzkaTGR33v43GYS2UrSA0eX2pPPHoFVvpxA==",
      "license": "MIT",
      "engines": {
        "node": ">=6.9.0"
      }
    },
    "node_modules/@emnapi/runtime": {
      "version": "1.4.5",
      "resolved": "https://registry.npmjs.org/@emnapi/runtime/-/runtime-1.4.5.tgz",
      "integrity": "sha512-++LApOtY0pEEz1zrd9vy1/zXVaVJJ/EbAF3u0fXIzPJEDtnITsBGbbK0EkM72amhl/R5b+5xx0Y/QhcVOpuulg==",
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "tslib": "^2.4.0"
      }
    },
    "node_modules/@esbuild/aix-ppc64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/aix-ppc64/-/aix-ppc64-0.25.9.tgz",
      "integrity": "sha512-OaGtL73Jck6pBKjNIe24BnFE6agGl+6KxDtTfHhy1HmhthfKouEcOhqpSL64K4/0WCtbKFLOdzD/44cJ4k9opA==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "aix"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-arm": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm/-/android-arm-0.25.9.tgz",
      "integrity": "sha512-5WNI1DaMtxQ7t7B6xa572XMXpHAaI/9Hnhk8lcxF4zVN4xstUgTlvuGDorBguKEnZO70qwEcLpfifMLoxiPqHQ==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/android-arm64/-/android-arm64-0.25.9.tgz",
      "integrity": "sha512-IDrddSmpSv51ftWslJMvl3Q2ZT98fUSL2/rlUXuVqRXHCs5EUF1/f+jbjF5+NG9UffUDMCiTyh8iec7u8RlTLg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/android-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/android-x64/-/android-x64-0.25.9.tgz",
      "integrity": "sha512-I853iMZ1hWZdNllhVZKm34f4wErd4lMyeV7BLzEExGEIZYsOzqDWDf+y082izYUE8gtJnYHdeDpN/6tUdwvfiw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/darwin-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-arm64/-/darwin-arm64-0.25.9.tgz",
      "integrity": "sha512-XIpIDMAjOELi/9PB30vEbVMs3GV1v2zkkPnuyRRURbhqjyzIINwj+nbQATh4H9GxUgH1kFsEyQMxwiLFKUS6Rg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/darwin-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/darwin-x64/-/darwin-x64-0.25.9.tgz",
      "integrity": "sha512-jhHfBzjYTA1IQu8VyrjCX4ApJDnH+ez+IYVEoJHeqJm9VhG9Dh2BYaJritkYK3vMaXrf7Ogr/0MQ8/MeIefsPQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/freebsd-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-arm64/-/freebsd-arm64-0.25.9.tgz",
      "integrity": "sha512-z93DmbnY6fX9+KdD4Ue/H6sYs+bhFQJNCPZsi4XWJoYblUqT06MQUdBCpcSfuiN72AbqeBFu5LVQTjfXDE2A6Q==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/freebsd-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/freebsd-x64/-/freebsd-x64-0.25.9.tgz",
      "integrity": "sha512-mrKX6H/vOyo5v71YfXWJxLVxgy1kyt1MQaD8wZJgJfG4gq4DpQGpgTB74e5yBeQdyMTbgxp0YtNj7NuHN0PoZg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-arm": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm/-/linux-arm-0.25.9.tgz",
      "integrity": "sha512-HBU2Xv78SMgaydBmdor38lg8YDnFKSARg1Q6AT0/y2ezUAKiZvc211RDFHlEZRFNRVhcMamiToo7bDx3VEOYQw==",
      "cpu": [
        "arm"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-arm64/-/linux-arm64-0.25.9.tgz",
      "integrity": "sha512-BlB7bIcLT3G26urh5Dmse7fiLmLXnRlopw4s8DalgZ8ef79Jj4aUcYbk90g8iCa2467HX8SAIidbL7gsqXHdRw==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-ia32": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ia32/-/linux-ia32-0.25.9.tgz",
      "integrity": "sha512-e7S3MOJPZGp2QW6AK6+Ly81rC7oOSerQ+P8L0ta4FhVi+/j/v2yZzx5CqqDaWjtPFfYz21Vi1S0auHrap3Ma3A==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-loong64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-loong64/-/linux-loong64-0.25.9.tgz",
      "integrity": "sha512-Sbe10Bnn0oUAB2AalYztvGcK+o6YFFA/9829PhOCUS9vkJElXGdphz0A3DbMdP8gmKkqPmPcMJmJOrI3VYB1JQ==",
      "cpu": [
        "loong64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-mips64el": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-mips64el/-/linux-mips64el-0.25.9.tgz",
      "integrity": "sha512-YcM5br0mVyZw2jcQeLIkhWtKPeVfAerES5PvOzaDxVtIyZ2NUBZKNLjC5z3/fUlDgT6w89VsxP2qzNipOaaDyA==",
      "cpu": [
        "mips64el"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-ppc64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-ppc64/-/linux-ppc64-0.25.9.tgz",
      "integrity": "sha512-++0HQvasdo20JytyDpFvQtNrEsAgNG2CY1CLMwGXfFTKGBGQT3bOeLSYE2l1fYdvML5KUuwn9Z8L1EWe2tzs1w==",
      "cpu": [
        "ppc64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-riscv64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-riscv64/-/linux-riscv64-0.25.9.tgz",
      "integrity": "sha512-uNIBa279Y3fkjV+2cUjx36xkx7eSjb8IvnL01eXUKXez/CBHNRw5ekCGMPM0BcmqBxBcdgUWuUXmVWwm4CH9kg==",
      "cpu": [
        "riscv64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-s390x": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-s390x/-/linux-s390x-0.25.9.tgz",
      "integrity": "sha512-Mfiphvp3MjC/lctb+7D287Xw1DGzqJPb/J2aHHcHxflUo+8tmN/6d4k6I2yFR7BVo5/g7x2Monq4+Yew0EHRIA==",
      "cpu": [
        "s390x"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/linux-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/linux-x64/-/linux-x64-0.25.9.tgz",
      "integrity": "sha512-iSwByxzRe48YVkmpbgoxVzn76BXjlYFXC7NvLYq+b+kDjyyk30J0JY47DIn8z1MO3K0oSl9fZoRmZPQI4Hklzg==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/netbsd-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-arm64/-/netbsd-arm64-0.25.9.tgz",
      "integrity": "sha512-9jNJl6FqaUG+COdQMjSCGW4QiMHH88xWbvZ+kRVblZsWrkXlABuGdFJ1E9L7HK+T0Yqd4akKNa/lO0+jDxQD4Q==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/netbsd-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/netbsd-x64/-/netbsd-x64-0.25.9.tgz",
      "integrity": "sha512-RLLdkflmqRG8KanPGOU7Rpg829ZHu8nFy5Pqdi9U01VYtG9Y0zOG6Vr2z4/S+/3zIyOxiK6cCeYNWOFR9QP87g==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "netbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openbsd-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-arm64/-/openbsd-arm64-0.25.9.tgz",
      "integrity": "sha512-YaFBlPGeDasft5IIM+CQAhJAqS3St3nJzDEgsgFixcfZeyGPCd6eJBWzke5piZuZ7CtL656eOSYKk4Ls2C0FRQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openbsd-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/openbsd-x64/-/openbsd-x64-0.25.9.tgz",
      "integrity": "sha512-1MkgTCuvMGWuqVtAvkpkXFmtL8XhWy+j4jaSO2wxfJtilVCi0ZE37b8uOdMItIHz4I6z1bWWtEX4CJwcKYLcuA==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openbsd"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/openharmony-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/openharmony-arm64/-/openharmony-arm64-0.25.9.tgz",
      "integrity": "sha512-4Xd0xNiMVXKh6Fa7HEJQbrpP3m3DDn43jKxMjxLLRjWnRsfxjORYJlXPO4JNcXtOyfajXorRKY9NkOpTHptErg==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "openharmony"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/sunos-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/sunos-x64/-/sunos-x64-0.25.9.tgz",
      "integrity": "sha512-WjH4s6hzo00nNezhp3wFIAfmGZ8U7KtrJNlFMRKxiI9mxEK1scOMAaa9i4crUtu+tBr+0IN6JCuAcSBJZfnphw==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "sunos"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-arm64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-arm64/-/win32-arm64-0.25.9.tgz",
      "integrity": "sha512-mGFrVJHmZiRqmP8xFOc6b84/7xa5y5YvR1x8djzXpJBSv/UsNK6aqec+6JDjConTgvvQefdGhFDAs2DLAds6gQ==",
      "cpu": [
        "arm64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-ia32": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-ia32/-/win32-ia32-0.25.9.tgz",
      "integrity": "sha512-b33gLVU2k11nVx1OhX3C8QQP6UHQK4ZtN56oFWvVXvz2VkDoe6fbG8TOgHFxEvqeqohmRnIHe5A1+HADk4OQww==",
      "cpu": [
        "ia32"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@esbuild/win32-x64": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/@esbuild/win32-x64/-/win32-x64-0.25.9.tgz",
      "integrity": "sha512-PPOl1mi6lpLNQxnGoyAfschAodRFYXJ+9fs6WHXz7CSWKbOqiMZsubC+BQsVKuul+3vKLuwTHsS2c2y9EoKwxQ==",
      "cpu": [
        "x64"
      ],
      "dev": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@fastify/busboy": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/@fastify/busboy/-/busboy-2.1.1.tgz",
      "integrity": "sha512-vBZP4NlzfOlerQTnba4aqZoMhE/a9HY7HRqoOPaETQcSQuWEIyZMHGfVu6w9wGtGK5fED5qRs2DteVCjOH60sA==",
      "license": "MIT",
      "engines": {
        "node": ">=14"
      }
    },
    "node_modules/@img/sharp-darwin-arm64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-darwin-arm64/-/sharp-darwin-arm64-0.34.3.tgz",
      "integrity": "sha512-ryFMfvxxpQRsgZJqBd4wsttYQbCxsJksrv9Lw/v798JcQ8+w84mBWuXwl+TT0WJ/WrYOLaYpwQXi3sA9nTIaIg==",
      "cpu": [
        "arm64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-darwin-arm64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-darwin-x64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-darwin-x64/-/sharp-darwin-x64-0.34.3.tgz",
      "integrity": "sha512-yHpJYynROAj12TA6qil58hmPmAwxKKC7reUqtGLzsOHfP7/rniNGTL8tjWX6L3CTV4+5P4ypcS7Pp+7OB+8ihA==",
      "cpu": [
        "x64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-darwin-x64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-libvips-darwin-arm64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-darwin-arm64/-/sharp-libvips-darwin-arm64-1.2.0.tgz",
      "integrity": "sha512-sBZmpwmxqwlqG9ueWFXtockhsxefaV6O84BMOrhtg/YqbTaRdqDE7hxraVE3y6gVM4eExmfzW4a8el9ArLeEiQ==",
      "cpu": [
        "arm64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "darwin"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-darwin-x64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-darwin-x64/-/sharp-libvips-darwin-x64-1.2.0.tgz",
      "integrity": "sha512-M64XVuL94OgiNHa5/m2YvEQI5q2cl9d/wk0qFTDVXcYzi43lxuiFTftMR1tOnFQovVXNZJ5TURSDK2pNe9Yzqg==",
      "cpu": [
        "x64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "darwin"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-arm": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-arm/-/sharp-libvips-linux-arm-1.2.0.tgz",
      "integrity": "sha512-mWd2uWvDtL/nvIzThLq3fr2nnGfyr/XMXlq8ZJ9WMR6PXijHlC3ksp0IpuhK6bougvQrchUAfzRLnbsen0Cqvw==",
      "cpu": [
        "arm"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-arm64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-arm64/-/sharp-libvips-linux-arm64-1.2.0.tgz",
      "integrity": "sha512-RXwd0CgG+uPRX5YYrkzKyalt2OJYRiJQ8ED/fi1tq9WQW2jsQIn0tqrlR5l5dr/rjqq6AHAxURhj2DVjyQWSOA==",
      "cpu": [
        "arm64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-ppc64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-ppc64/-/sharp-libvips-linux-ppc64-1.2.0.tgz",
      "integrity": "sha512-Xod/7KaDDHkYu2phxxfeEPXfVXFKx70EAFZ0qyUdOjCcxbjqyJOEUpDe6RIyaunGxT34Anf9ue/wuWOqBW2WcQ==",
      "cpu": [
        "ppc64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-s390x": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-s390x/-/sharp-libvips-linux-s390x-1.2.0.tgz",
      "integrity": "sha512-eMKfzDxLGT8mnmPJTNMcjfO33fLiTDsrMlUVcp6b96ETbnJmd4uvZxVJSKPQfS+odwfVaGifhsB07J1LynFehw==",
      "cpu": [
        "s390x"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linux-x64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linux-x64/-/sharp-libvips-linux-x64-1.2.0.tgz",
      "integrity": "sha512-ZW3FPWIc7K1sH9E3nxIGB3y3dZkpJlMnkk7z5tu1nSkBoCgw2nSRTFHI5pB/3CQaJM0pdzMF3paf9ckKMSE9Tg==",
      "cpu": [
        "x64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linuxmusl-arm64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-arm64/-/sharp-libvips-linuxmusl-arm64-1.2.0.tgz",
      "integrity": "sha512-UG+LqQJbf5VJ8NWJ5Z3tdIe/HXjuIdo4JeVNADXBFuG7z9zjoegpzzGIyV5zQKi4zaJjnAd2+g2nna8TZvuW9Q==",
      "cpu": [
        "arm64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-libvips-linuxmusl-x64": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/@img/sharp-libvips-linuxmusl-x64/-/sharp-libvips-linuxmusl-x64-1.2.0.tgz",
      "integrity": "sha512-SRYOLR7CXPgNze8akZwjoGBoN1ThNZoqpOgfnOxmWsklTGVfJiGJoC/Lod7aNMGA1jSsKWM1+HRX43OP6p9+6Q==",
      "cpu": [
        "x64"
      ],
      "license": "LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "linux"
      ],
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-linux-arm": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-arm/-/sharp-linux-arm-0.34.3.tgz",
      "integrity": "sha512-oBK9l+h6KBN0i3dC8rYntLiVfW8D8wH+NPNT3O/WBHeW0OQWCjfWksLUaPidsrDKpJgXp3G3/hkmhptAW0I3+A==",
      "cpu": [
        "arm"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-arm": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linux-arm64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-arm64/-/sharp-linux-arm64-0.34.3.tgz",
      "integrity": "sha512-QdrKe3EvQrqwkDrtuTIjI0bu6YEJHTgEeqdzI3uWJOH6G1O8Nl1iEeVYRGdj1h5I21CqxSvQp1Yv7xeU3ZewbA==",
      "cpu": [
        "arm64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-arm64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linux-ppc64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-ppc64/-/sharp-linux-ppc64-0.34.3.tgz",
      "integrity": "sha512-GLtbLQMCNC5nxuImPR2+RgrviwKwVql28FWZIW1zWruy6zLgA5/x2ZXk3mxj58X/tszVF69KK0Is83V8YgWhLA==",
      "cpu": [
        "ppc64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-ppc64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linux-s390x": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-s390x/-/sharp-linux-s390x-0.34.3.tgz",
      "integrity": "sha512-3gahT+A6c4cdc2edhsLHmIOXMb17ltffJlxR0aC2VPZfwKoTGZec6u5GrFgdR7ciJSsHT27BD3TIuGcuRT0KmQ==",
      "cpu": [
        "s390x"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-s390x": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linux-x64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linux-x64/-/sharp-linux-x64-0.34.3.tgz",
      "integrity": "sha512-8kYso8d806ypnSq3/Ly0QEw90V5ZoHh10yH0HnrzOCr6DKAPI6QVHvwleqMkVQ0m+fc7EH8ah0BB0QPuWY6zJQ==",
      "cpu": [
        "x64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linux-x64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linuxmusl-arm64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linuxmusl-arm64/-/sharp-linuxmusl-arm64-0.34.3.tgz",
      "integrity": "sha512-vAjbHDlr4izEiXM1OTggpCcPg9tn4YriK5vAjowJsHwdBIdx0fYRsURkxLG2RLm9gyBq66gwtWI8Gx0/ov+JKQ==",
      "cpu": [
        "arm64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linuxmusl-arm64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-linuxmusl-x64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-linuxmusl-x64/-/sharp-linuxmusl-x64-0.34.3.tgz",
      "integrity": "sha512-gCWUn9547K5bwvOn9l5XGAEjVTTRji4aPTqLzGXHvIr6bIDZKNTA34seMPgM0WmSf+RYBH411VavCejp3PkOeQ==",
      "cpu": [
        "x64"
      ],
      "license": "Apache-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-libvips-linuxmusl-x64": "1.2.0"
      }
    },
    "node_modules/@img/sharp-wasm32": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-wasm32/-/sharp-wasm32-0.34.3.tgz",
      "integrity": "sha512-+CyRcpagHMGteySaWos8IbnXcHgfDn7pO2fiC2slJxvNq9gDipYBN42/RagzctVRKgxATmfqOSulgZv5e1RdMg==",
      "cpu": [
        "wasm32"
      ],
      "license": "Apache-2.0 AND LGPL-3.0-or-later AND MIT",
      "optional": true,
      "dependencies": {
        "@emnapi/runtime": "^1.4.4"
      },
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-win32-arm64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-win32-arm64/-/sharp-win32-arm64-0.34.3.tgz",
      "integrity": "sha512-MjnHPnbqMXNC2UgeLJtX4XqoVHHlZNd+nPt1kRPmj63wURegwBhZlApELdtxM2OIZDRv/DFtLcNhVbd1z8GYXQ==",
      "cpu": [
        "arm64"
      ],
      "license": "Apache-2.0 AND LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-win32-ia32": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-win32-ia32/-/sharp-win32-ia32-0.34.3.tgz",
      "integrity": "sha512-xuCdhH44WxuXgOM714hn4amodJMZl3OEvf0GVTm0BEyMeA2to+8HEdRPShH0SLYptJY1uBw+SCFP9WVQi1Q/cw==",
      "cpu": [
        "ia32"
      ],
      "license": "Apache-2.0 AND LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@img/sharp-win32-x64": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/@img/sharp-win32-x64/-/sharp-win32-x64-0.34.3.tgz",
      "integrity": "sha512-OWwz05d++TxzLEv4VnsTz5CmZ6mI6S05sfQGEMrNrQcOEERbX46332IvE7pO/EUiw7jUrrS40z/M7kPyjfl04g==",
      "cpu": [
        "x64"
      ],
      "license": "Apache-2.0 AND LGPL-3.0-or-later",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      }
    },
    "node_modules/@isaacs/cliui": {
      "version": "8.0.2",
      "resolved": "https://registry.npmjs.org/@isaacs/cliui/-/cliui-8.0.2.tgz",
      "integrity": "sha512-O8jcjabXaleOG9DQ0+ARXWZBTfnP4WNAqzuiJK7ll44AmxGKv/J2M4TPjxjY3znBCfvBXFzucm1twdyFybFqEA==",
      "license": "ISC",
      "dependencies": {
        "string-width": "^5.1.2",
        "string-width-cjs": "npm:string-width@^4.2.0",
        "strip-ansi": "^7.0.1",
        "strip-ansi-cjs": "npm:strip-ansi@^6.0.1",
        "wrap-ansi": "^8.1.0",
        "wrap-ansi-cjs": "npm:wrap-ansi@^7.0.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/@isaacs/fs-minipass": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/@isaacs/fs-minipass/-/fs-minipass-4.0.1.tgz",
      "integrity": "sha512-wgm9Ehl2jpeqP3zw/7mo3kRHFp5MEDhqAdwy1fTGkHAwnkGOVsgpvQhL8B5n1qlb01jV3n/bI0ZfZp5lWA1k4w==",
      "license": "ISC",
      "dependencies": {
        "minipass": "^7.0.4"
      },
      "engines": {
        "node": ">=18.0.0"
      }
    },
    "node_modules/@jridgewell/gen-mapping": {
      "version": "0.3.13",
      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.0",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/remapping": {
      "version": "2.3.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/remapping/-/remapping-2.3.5.tgz",
      "integrity": "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==",
      "license": "MIT",
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.5",
        "@jridgewell/trace-mapping": "^0.3.24"
      }
    },
    "node_modules/@jridgewell/resolve-uri": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
      "integrity": "sha512-bRISgCIjP20/tbWSPWMEi54QVPRZExkuD9lJL+UIxUKtwVJA8wW1Trb1jMs1RFXo1CBTNZ/5hpC9QvmKWdopKw==",
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/@jridgewell/sourcemap-codec": {
      "version": "1.5.5",
      "resolved": "https://registry.npmjs.org/@jridgewell/sourcemap-codec/-/sourcemap-codec-1.5.5.tgz",
      "integrity": "sha512-cYQ9310grqxueWbl+WuIUIaiUaDcj7WOq5fVhEljNVgRfOUhY9fy2zTvfoqWsnebh8Sl70VScFbICvJnLKB0Og==",
      "license": "MIT"
    },
    "node_modules/@jridgewell/trace-mapping": {
      "version": "0.3.30",
      "resolved": "https://registry.npmjs.org/@jridgewell/trace-mapping/-/trace-mapping-0.3.30.tgz",
      "integrity": "sha512-GQ7Nw5G2lTu/BtHTKfXhKHok2WGetd4XYcVKGx00SjAk8GMwgJM3zr6zORiPGuOE+/vkc90KtTosSSvaCjKb2Q==",
      "license": "MIT",
      "dependencies": {
        "@jridgewell/resolve-uri": "^3.1.0",
        "@jridgewell/sourcemap-codec": "^1.4.14"
      }
    },
    "node_modules/@next/env": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/env/-/env-15.4.6.tgz",
      "integrity": "sha512-yHDKVTcHrZy/8TWhj0B23ylKv5ypocuCwey9ZqPyv4rPdUdRzpGCkSi03t04KBPyU96kxVtUqx6O3nE1kpxASQ==",
      "license": "MIT"
    },
    "node_modules/@next/swc-darwin-arm64": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-darwin-arm64/-/swc-darwin-arm64-15.4.6.tgz",
      "integrity": "sha512-667R0RTP4DwxzmrqTs4Lr5dcEda9OxuZsVFsjVtxVMVhzSpo6nLclXejJVfQo2/g7/Z9qF3ETDmN3h65mTjpTQ==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-darwin-x64": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-darwin-x64/-/swc-darwin-x64-15.4.6.tgz",
      "integrity": "sha512-KMSFoistFkaiQYVQQnaU9MPWtp/3m0kn2Xed1Ces5ll+ag1+rlac20sxG+MqhH2qYWX1O2GFOATQXEyxKiIscg==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-arm64-gnu": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-arm64-gnu/-/swc-linux-arm64-gnu-15.4.6.tgz",
      "integrity": "sha512-PnOx1YdO0W7m/HWFeYd2A6JtBO8O8Eb9h6nfJia2Dw1sRHoHpNf6lN1U4GKFRzRDBi9Nq2GrHk9PF3Vmwf7XVw==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-arm64-musl": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-arm64-musl/-/swc-linux-arm64-musl-15.4.6.tgz",
      "integrity": "sha512-XBbuQddtY1p5FGPc2naMO0kqs4YYtLYK/8aPausI5lyOjr4J77KTG9mtlU4P3NwkLI1+OjsPzKVvSJdMs3cFaw==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-x64-gnu": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-x64-gnu/-/swc-linux-x64-gnu-15.4.6.tgz",
      "integrity": "sha512-+WTeK7Qdw82ez3U9JgD+igBAP75gqZ1vbK6R8PlEEuY0OIe5FuYXA4aTjL811kWPf7hNeslD4hHK2WoM9W0IgA==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-linux-x64-musl": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-linux-x64-musl/-/swc-linux-x64-musl-15.4.6.tgz",
      "integrity": "sha512-XP824mCbgQsK20jlXKrUpZoh/iO3vUWhMpxCz8oYeagoiZ4V0TQiKy0ASji1KK6IAe3DYGfj5RfKP6+L2020OQ==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-win32-arm64-msvc": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-win32-arm64-msvc/-/swc-win32-arm64-msvc-15.4.6.tgz",
      "integrity": "sha512-FxrsenhUz0LbgRkNWx6FRRJIPe/MI1JRA4W4EPd5leXO00AZ6YU8v5vfx4MDXTvN77lM/EqsE3+6d2CIeF5NYg==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@next/swc-win32-x64-msvc": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/@next/swc-win32-x64-msvc/-/swc-win32-x64-msvc-15.4.6.tgz",
      "integrity": "sha512-T4ufqnZ4u88ZheczkBTtOF+eKaM14V8kbjud/XrAakoM5DKQWjW09vD6B9fsdsWS2T7D5EY31hRHdta7QKWOng==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@nodelib/fs.scandir": {
      "version": "2.1.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.scandir/-/fs.scandir-2.1.5.tgz",
      "integrity": "sha512-vq24Bq3ym5HEQm2NKCr3yXDwjc7vTsEThRDnkp2DK9p1uqLR+DHurm/NOTo0KG7HYHU7eppKZj3MyqYuMBf62g==",
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.stat": "2.0.5",
        "run-parallel": "^1.1.9"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.stat": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.stat/-/fs.stat-2.0.5.tgz",
      "integrity": "sha512-RkhPPp2zrqDAQA/2jNhnztcPAlv64XdhIp7a7454A5ovI7Bukxgt7MX7udwAu3zg1DcpPU0rz3VV1SeaqvY4+A==",
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@nodelib/fs.walk": {
      "version": "1.2.8",
      "resolved": "https://registry.npmjs.org/@nodelib/fs.walk/-/fs.walk-1.2.8.tgz",
      "integrity": "sha512-oGB+UxlgWcgQkgwo8GcEGwemoTFt3FIO9ababBmaGwXIoBKZ+GTy0pP185beGg7Llih/NSHSV2XAs1lnznocSg==",
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.scandir": "2.1.5",
        "fastq": "^1.6.0"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/@pkgjs/parseargs": {
      "version": "0.11.0",
      "resolved": "https://registry.npmjs.org/@pkgjs/parseargs/-/parseargs-0.11.0.tgz",
      "integrity": "sha512-+1VkjdD0QBLPodGrJUeqarH8VAIvQODIbwh9XpP5Syisf7YoQgsJKPNFoqqLQlu+VQ/tVSshMR6loPMn8U+dPg==",
      "license": "MIT",
      "optional": true,
      "engines": {
        "node": ">=14"
      }
    },
    "node_modules/@playwright/test": {
      "version": "1.54.2",
      "resolved": "https://registry.npmjs.org/@playwright/test/-/test-1.54.2.tgz",
      "integrity": "sha512-A+znathYxPf+72riFd1r1ovOLqsIIB0jKIoPjyK2kqEIe30/6jF6BC7QNluHuwUmsD2tv1XZVugN8GqfTMOxsA==",
      "license": "Apache-2.0",
      "dependencies": {
        "playwright": "1.54.2"
      },
      "bin": {
        "playwright": "cli.js"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@puppeteer/browsers": {
      "version": "2.6.1",
      "resolved": "https://registry.npmjs.org/@puppeteer/browsers/-/browsers-2.6.1.tgz",
      "integrity": "sha512-aBSREisdsGH890S2rQqK82qmQYU3uFpSH8wcZWHgHzl3LfzsxAKbLNiAG9mO8v1Y0UICBeClICxPJvyr0rcuxg==",
      "license": "Apache-2.0",
      "dependencies": {
        "debug": "^4.4.0",
        "extract-zip": "^2.0.1",
        "progress": "^2.0.3",
        "proxy-agent": "^6.5.0",
        "semver": "^7.6.3",
        "tar-fs": "^3.0.6",
        "unbzip2-stream": "^1.4.3",
        "yargs": "^17.7.2"
      },
      "bin": {
        "browsers": "lib/cjs/main-cli.js"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/@swc/helpers": {
      "version": "0.5.15",
      "resolved": "https://registry.npmjs.org/@swc/helpers/-/helpers-0.5.15.tgz",
      "integrity": "sha512-JQ5TuMi45Owi4/BIMAJBoSQoOJu12oOk/gADqlcUL9JEdHB8vyjUSsxqeNXnmXHjYKMi2WcYtezGEEhqUI/E2g==",
      "license": "Apache-2.0",
      "dependencies": {
        "tslib": "^2.8.0"
      }
    },
    "node_modules/@tailwindcss/node": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/node/-/node-4.1.12.tgz",
      "integrity": "sha512-3hm9brwvQkZFe++SBt+oLjo4OLDtkvlE8q2WalaD/7QWaeM7KEJbAiY/LJZUaCs7Xa8aUu4xy3uoyX4q54UVdQ==",
      "license": "MIT",
      "dependencies": {
        "@jridgewell/remapping": "^2.3.4",
        "enhanced-resolve": "^5.18.3",
        "jiti": "^2.5.1",
        "lightningcss": "1.30.1",
        "magic-string": "^0.30.17",
        "source-map-js": "^1.2.1",
        "tailwindcss": "4.1.12"
      }
    },
    "node_modules/@tailwindcss/node/node_modules/tailwindcss": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-4.1.12.tgz",
      "integrity": "sha512-DzFtxOi+7NsFf7DBtI3BJsynR+0Yp6etH+nRPTbpWnS2pZBaSksv/JGctNwSWzbFjp0vxSqknaUylseZqMDGrA==",
      "license": "MIT"
    },
    "node_modules/@tailwindcss/oxide": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide/-/oxide-4.1.12.tgz",
      "integrity": "sha512-gM5EoKHW/ukmlEtphNwaGx45fGoEmP10v51t9unv55voWh6WrOL19hfuIdo2FjxIaZzw776/BUQg7Pck++cIVw==",
      "hasInstallScript": true,
      "license": "MIT",
      "dependencies": {
        "detect-libc": "^2.0.4",
        "tar": "^7.4.3"
      },
      "engines": {
        "node": ">= 10"
      },
      "optionalDependencies": {
        "@tailwindcss/oxide-android-arm64": "4.1.12",
        "@tailwindcss/oxide-darwin-arm64": "4.1.12",
        "@tailwindcss/oxide-darwin-x64": "4.1.12",
        "@tailwindcss/oxide-freebsd-x64": "4.1.12",
        "@tailwindcss/oxide-linux-arm-gnueabihf": "4.1.12",
        "@tailwindcss/oxide-linux-arm64-gnu": "4.1.12",
        "@tailwindcss/oxide-linux-arm64-musl": "4.1.12",
        "@tailwindcss/oxide-linux-x64-gnu": "4.1.12",
        "@tailwindcss/oxide-linux-x64-musl": "4.1.12",
        "@tailwindcss/oxide-wasm32-wasi": "4.1.12",
        "@tailwindcss/oxide-win32-arm64-msvc": "4.1.12",
        "@tailwindcss/oxide-win32-x64-msvc": "4.1.12"
      }
    },
    "node_modules/@tailwindcss/oxide-android-arm64": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-android-arm64/-/oxide-android-arm64-4.1.12.tgz",
      "integrity": "sha512-oNY5pq+1gc4T6QVTsZKwZaGpBb2N1H1fsc1GD4o7yinFySqIuRZ2E4NvGasWc6PhYJwGK2+5YT1f9Tp80zUQZQ==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "android"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-darwin-arm64": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-darwin-arm64/-/oxide-darwin-arm64-4.1.12.tgz",
      "integrity": "sha512-cq1qmq2HEtDV9HvZlTtrj671mCdGB93bVY6J29mwCyaMYCP/JaUBXxrQQQm7Qn33AXXASPUb2HFZlWiiHWFytw==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-darwin-x64": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-darwin-x64/-/oxide-darwin-x64-4.1.12.tgz",
      "integrity": "sha512-6UCsIeFUcBfpangqlXay9Ffty9XhFH1QuUFn0WV83W8lGdX8cD5/+2ONLluALJD5+yJ7k8mVtwy3zMZmzEfbLg==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-freebsd-x64": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-freebsd-x64/-/oxide-freebsd-x64-4.1.12.tgz",
      "integrity": "sha512-JOH/f7j6+nYXIrHobRYCtoArJdMJh5zy5lr0FV0Qu47MID/vqJAY3r/OElPzx1C/wdT1uS7cPq+xdYYelny1ww==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm-gnueabihf": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm-gnueabihf/-/oxide-linux-arm-gnueabihf-4.1.12.tgz",
      "integrity": "sha512-v4Ghvi9AU1SYgGr3/j38PD8PEe6bRfTnNSUE3YCMIRrrNigCFtHZ2TCm8142X8fcSqHBZBceDx+JlFJEfNg5zQ==",
      "cpu": [
        "arm"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm64-gnu": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm64-gnu/-/oxide-linux-arm64-gnu-4.1.12.tgz",
      "integrity": "sha512-YP5s1LmetL9UsvVAKusHSyPlzSRqYyRB0f+Kl/xcYQSPLEw/BvGfxzbH+ihUciePDjiXwHh+p+qbSP3SlJw+6g==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-arm64-musl": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-arm64-musl/-/oxide-linux-arm64-musl-4.1.12.tgz",
      "integrity": "sha512-V8pAM3s8gsrXcCv6kCHSuwyb/gPsd863iT+v1PGXC4fSL/OJqsKhfK//v8P+w9ThKIoqNbEnsZqNy+WDnwQqCA==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-x64-gnu": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-x64-gnu/-/oxide-linux-x64-gnu-4.1.12.tgz",
      "integrity": "sha512-xYfqYLjvm2UQ3TZggTGrwxjYaLB62b1Wiysw/YE3Yqbh86sOMoTn0feF98PonP7LtjsWOWcXEbGqDL7zv0uW8Q==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-linux-x64-musl": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-linux-x64-musl/-/oxide-linux-x64-musl-4.1.12.tgz",
      "integrity": "sha512-ha0pHPamN+fWZY7GCzz5rKunlv9L5R8kdh+YNvP5awe3LtuXb5nRi/H27GeL2U+TdhDOptU7T6Is7mdwh5Ar3A==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-wasm32-wasi": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-wasm32-wasi/-/oxide-wasm32-wasi-4.1.12.tgz",
      "integrity": "sha512-4tSyu3dW+ktzdEpuk6g49KdEangu3eCYoqPhWNsZgUhyegEda3M9rG0/j1GV/JjVVsj+lG7jWAyrTlLzd/WEBg==",
      "bundleDependencies": [
        "@napi-rs/wasm-runtime",
        "@emnapi/core",
        "@emnapi/runtime",
        "@tybys/wasm-util",
        "@emnapi/wasi-threads",
        "tslib"
      ],
      "cpu": [
        "wasm32"
      ],
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "@emnapi/core": "^1.4.5",
        "@emnapi/runtime": "^1.4.5",
        "@emnapi/wasi-threads": "^1.0.4",
        "@napi-rs/wasm-runtime": "^0.2.12",
        "@tybys/wasm-util": "^0.10.0",
        "tslib": "^2.8.0"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/@tailwindcss/oxide-win32-arm64-msvc": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-win32-arm64-msvc/-/oxide-win32-arm64-msvc-4.1.12.tgz",
      "integrity": "sha512-iGLyD/cVP724+FGtMWslhcFyg4xyYyM+5F4hGvKA7eifPkXHRAUDFaimu53fpNg9X8dfP75pXx/zFt/jlNF+lg==",
      "cpu": [
        "arm64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/oxide-win32-x64-msvc": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/oxide-win32-x64-msvc/-/oxide-win32-x64-msvc-4.1.12.tgz",
      "integrity": "sha512-NKIh5rzw6CpEodv/++r0hGLlfgT/gFN+5WNdZtvh6wpU2BpGNgdjvj6H2oFc8nCM839QM1YOhjpgbAONUb4IxA==",
      "cpu": [
        "x64"
      ],
      "license": "MIT",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 10"
      }
    },
    "node_modules/@tailwindcss/postcss": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/@tailwindcss/postcss/-/postcss-4.1.12.tgz",
      "integrity": "sha512-5PpLYhCAwf9SJEeIsSmCDLgyVfdBhdBpzX1OJ87anT9IVR0Z9pjM0FNixCAUAHGnMBGB8K99SwAheXrT0Kh6QQ==",
      "license": "MIT",
      "dependencies": {
        "@alloc/quick-lru": "^5.2.0",
        "@tailwindcss/node": "4.1.12",
        "@tailwindcss/oxide": "4.1.12",
        "postcss": "^8.4.41",
        "tailwindcss": "4.1.12"
      }
    },
    "node_modules/@tailwindcss/postcss/node_modules/tailwindcss": {
      "version": "4.1.12",
      "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-4.1.12.tgz",
      "integrity": "sha512-DzFtxOi+7NsFf7DBtI3BJsynR+0Yp6etH+nRPTbpWnS2pZBaSksv/JGctNwSWzbFjp0vxSqknaUylseZqMDGrA==",
      "license": "MIT"
    },
    "node_modules/@tailwindcss/typography": {
      "version": "0.5.16",
      "resolved": "https://registry.npmjs.org/@tailwindcss/typography/-/typography-0.5.16.tgz",
      "integrity": "sha512-0wDLwCVF5V3x3b1SGXPCDcdsbDHMBe+lkFzBRaHeLvNi+nrrnZ1lA18u+OTWO8iSWU2GxUOCvlXtDuqftc1oiA==",
      "license": "MIT",
      "dependencies": {
        "lodash.castarray": "^4.4.0",
        "lodash.isplainobject": "^4.0.6",
        "lodash.merge": "^4.6.2",
        "postcss-selector-parser": "6.0.10"
      },
      "peerDependencies": {
        "tailwindcss": ">=3.0.0 || insiders || >=4.0.0-alpha.20 || >=4.0.0-beta.1"
      }
    },
    "node_modules/@tootallnate/quickjs-emscripten": {
      "version": "0.23.0",
      "resolved": "https://registry.npmjs.org/@tootallnate/quickjs-emscripten/-/quickjs-emscripten-0.23.0.tgz",
      "integrity": "sha512-C5Mc6rdnsaJDjO3UpGW/CQTHtCKaYlScZTly4JIu97Jxo/odCiH0ITnDXSJPTOrEKk/ycSZ0AOgTmkDtkOsvIA==",
      "license": "MIT"
    },
    "node_modules/@types/cheerio": {
      "version": "0.22.35",
      "resolved": "https://registry.npmjs.org/@types/cheerio/-/cheerio-0.22.35.tgz",
      "integrity": "sha512-yD57BchKRvTV+JD53UZ6PD8KWY5g5rvvMLRnZR3EQBCZXiDT/HR+pKpMzFGlWNhFrXlo7VPZXtKvIEwZkAWOIA==",
      "license": "MIT",
      "dependencies": {
        "@types/node": "*"
      }
    },
    "node_modules/@types/d3-array": {
      "version": "3.2.1",
      "resolved": "https://registry.npmjs.org/@types/d3-array/-/d3-array-3.2.1.tgz",
      "integrity": "sha512-Y2Jn2idRrLzUfAKV2LyRImR+y4oa2AntrgID95SHJxuMUrkNXmanDSed71sRNZysveJVt1hLLemQZIady0FpEg==",
      "license": "MIT"
    },
    "node_modules/@types/d3-color": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/@types/d3-color/-/d3-color-3.1.3.tgz",
      "integrity": "sha512-iO90scth9WAbmgv7ogoq57O9YpKmFBbmoEoCHDB2xMBY0+/KVrqAaCDyCE16dUspeOvIxFFRI+0sEtqDqy2b4A==",
      "license": "MIT"
    },
    "node_modules/@types/d3-ease": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/@types/d3-ease/-/d3-ease-3.0.2.tgz",
      "integrity": "sha512-NcV1JjO5oDzoK26oMzbILE6HW7uVXOHLQvHshBUW4UMdZGfiY6v5BeQwh9a9tCzv+CeefZQHJt5SRgK154RtiA==",
      "license": "MIT"
    },
    "node_modules/@types/d3-interpolate": {
      "version": "3.0.4",
      "resolved": "https://registry.npmjs.org/@types/d3-interpolate/-/d3-interpolate-3.0.4.tgz",
      "integrity": "sha512-mgLPETlrpVV1YRJIglr4Ez47g7Yxjl1lj7YKsiMCb27VJH9W8NVM6Bb9d8kkpG/uAQS5AmbA48q2IAolKKo1MA==",
      "license": "MIT",
      "dependencies": {
        "@types/d3-color": "*"
      }
    },
    "node_modules/@types/d3-path": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/@types/d3-path/-/d3-path-3.1.1.tgz",
      "integrity": "sha512-VMZBYyQvbGmWyWVea0EHs/BwLgxc+MKi1zLDCONksozI4YJMcTt8ZEuIR4Sb1MMTE8MMW49v0IwI5+b7RmfWlg==",
      "license": "MIT"
    },
    "node_modules/@types/d3-scale": {
      "version": "4.0.9",
      "resolved": "https://registry.npmjs.org/@types/d3-scale/-/d3-scale-4.0.9.tgz",
      "integrity": "sha512-dLmtwB8zkAeO/juAMfnV+sItKjlsw2lKdZVVy6LRr0cBmegxSABiLEpGVmSJJ8O08i4+sGR6qQtb6WtuwJdvVw==",
      "license": "MIT",
      "dependencies": {
        "@types/d3-time": "*"
      }
    },
    "node_modules/@types/d3-shape": {
      "version": "3.1.7",
      "resolved": "https://registry.npmjs.org/@types/d3-shape/-/d3-shape-3.1.7.tgz",
      "integrity": "sha512-VLvUQ33C+3J+8p+Daf+nYSOsjB4GXp19/S/aGo60m9h1v6XaxjiT82lKVWJCfzhtuZ3yD7i/TPeC/fuKLLOSmg==",
      "license": "MIT",
      "dependencies": {
        "@types/d3-path": "*"
      }
    },
    "node_modules/@types/d3-time": {
      "version": "3.0.4",
      "resolved": "https://registry.npmjs.org/@types/d3-time/-/d3-time-3.0.4.tgz",
      "integrity": "sha512-yuzZug1nkAAaBlBBikKZTgzCeA+k1uy4ZFwWANOfKw5z5LRhV0gNA7gNkKm7HoK+HRN0wX3EkxGk0fpbWhmB7g==",
      "license": "MIT"
    },
    "node_modules/@types/d3-timer": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/@types/d3-timer/-/d3-timer-3.0.2.tgz",
      "integrity": "sha512-Ps3T8E8dZDam6fUyNiMkekK3XUsaUEik+idO9/YjPtfj2qruF8tFBXS7XhtE4iIXBLxhmLjP3SXpLhVf21I9Lw==",
      "license": "MIT"
    },
    "node_modules/@types/node": {
      "version": "22.17.2",
      "resolved": "https://registry.npmjs.org/@types/node/-/node-22.17.2.tgz",
      "integrity": "sha512-gL6z5N9Jm9mhY+U2KXZpteb+09zyffliRkZyZOHODGATyC5B1Jt/7TzuuiLkFsSUMLbS1OLmlj/E+/3KF4Q/4w==",
      "license": "MIT",
      "dependencies": {
        "undici-types": "~6.21.0"
      }
    },
    "node_modules/@types/prop-types": {
      "version": "15.7.15",
      "resolved": "https://registry.npmjs.org/@types/prop-types/-/prop-types-15.7.15.tgz",
      "integrity": "sha512-F6bEyamV9jKGAFBEmlQnesRPGOQqS2+Uwi0Em15xenOxHaf2hv6L8YCVn3rPdPJOiJfPiCnLIRyvwVaqMY3MIw==",
      "license": "MIT"
    },
    "node_modules/@types/react": {
      "version": "18.3.23",
      "resolved": "https://registry.npmjs.org/@types/react/-/react-18.3.23.tgz",
      "integrity": "sha512-/LDXMQh55EzZQ0uVAZmKKhfENivEvWz6E+EYzh+/MCjMhNsotd+ZHhBGIjFDTi6+fz0OhQQQLbTgdQIxxCsC0w==",
      "license": "MIT",
      "dependencies": {
        "@types/prop-types": "*",
        "csstype": "^3.0.2"
      }
    },
    "node_modules/@types/react-dom": {
      "version": "18.3.7",
      "resolved": "https://registry.npmjs.org/@types/react-dom/-/react-dom-18.3.7.tgz",
      "integrity": "sha512-MEe3UeoENYVFXzoXEWsvcpg6ZvlrFNlOQ7EOsvhI3CfAXwzPfO8Qwuxd40nepsYKqyyVQnTdEfv68q91yLcKrQ==",
      "license": "MIT",
      "peerDependencies": {
        "@types/react": "^18.0.0"
      }
    },
    "node_modules/@types/yauzl": {
      "version": "2.10.3",
      "resolved": "https://registry.npmjs.org/@types/yauzl/-/yauzl-2.10.3.tgz",
      "integrity": "sha512-oJoftv0LSuaDZE3Le4DbKX+KS9G36NzOeSap90UIK0yMA/NhKJhqlSGtNDORNRaIbQfzjXDrQa0ytJ6mNRGz/Q==",
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "@types/node": "*"
      }
    },
    "node_modules/@vercel/blob": {
      "version": "0.23.4",
      "resolved": "https://registry.npmjs.org/@vercel/blob/-/blob-0.23.4.tgz",
      "integrity": "sha512-cOU2e01RWZXFyc/OVRq+zZg38m34bcxpQk5insKp3Td9akNWThrXiF2URFHpRlm4fbaQ/l7pPSOB5nkLq+t6pw==",
      "license": "Apache-2.0",
      "dependencies": {
        "async-retry": "^1.3.3",
        "bytes": "^3.1.2",
        "is-buffer": "^2.0.5",
        "is-plain-object": "^5.0.0",
        "undici": "^5.28.4"
      },
      "engines": {
        "node": ">=16.14"
      }
    },
    "node_modules/agent-base": {
      "version": "7.1.4",
      "resolved": "https://registry.npmjs.org/agent-base/-/agent-base-7.1.4.tgz",
      "integrity": "sha512-MnA+YT8fwfJPgBx3m60MNqakm30XOkyIoH1y6huTQvC0PwZG7ki8NacLBcrPbNoo8vEZy7Jpuk7+jMO+CUovTQ==",
      "license": "MIT",
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/ansi-regex": {
      "version": "6.2.0",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-6.2.0.tgz",
      "integrity": "sha512-TKY5pyBkHyADOPYlRT9Lx6F544mPl0vS5Ew7BJ45hA08Q+t3GjbueLliBWN3sMICk6+y7HdyxSzC4bWS8baBdg==",
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-regex?sponsor=1"
      }
    },
    "node_modules/ansi-styles": {
      "version": "6.2.1",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-6.2.1.tgz",
      "integrity": "sha512-bN798gFfQX+viw3R7yrGWRqnrN2oRkEkUjjl4JNn4E8GxxbjtG3FbrEIIY3l8/hrwUwIeCZvi4QuOTP4MErVug==",
      "license": "MIT",
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/any-promise": {
      "version": "1.3.0",
      "resolved": "https://registry.npmjs.org/any-promise/-/any-promise-1.3.0.tgz",
      "integrity": "sha512-7UvmKalWRt1wgjL1RrGxoSJW/0QZFIegpeGvZG9kjp8vrRu55XTHbwnqq2GpXm9uLbcuhxm3IqX9OB4MZR1b2A==",
      "license": "MIT"
    },
    "node_modules/anymatch": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/anymatch/-/anymatch-3.1.3.tgz",
      "integrity": "sha512-KMReFUr0B4t+D+OBkjR3KYqvocp2XaSzO55UcB6mgQMd3KbcE+mWTyvVV7D/zsdEbNnV6acZUutkiHQXvTr1Rw==",
      "license": "ISC",
      "dependencies": {
        "normalize-path": "^3.0.0",
        "picomatch": "^2.0.4"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/arg": {
      "version": "5.0.2",
      "resolved": "https://registry.npmjs.org/arg/-/arg-5.0.2.tgz",
      "integrity": "sha512-PYjyFOLKQ9y57JvQ6QLo8dAgNqswh8M1RMJYdQduT6xbWSgK36P/Z/v+p888pM69jMMfS8Xd8F6I1kQ/I9HUGg==",
      "license": "MIT"
    },
    "node_modules/argparse": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/argparse/-/argparse-2.0.1.tgz",
      "integrity": "sha512-8+9WqebbFzpX9OR+Wa6O29asIogeRMzcGtAINdpMHHyAg10f05aSFVBbcEqGf/PXw1EjAZ+q2/bEBg3DvurK3Q==",
      "license": "Python-2.0"
    },
    "node_modules/ast-types": {
      "version": "0.13.4",
      "resolved": "https://registry.npmjs.org/ast-types/-/ast-types-0.13.4.tgz",
      "integrity": "sha512-x1FCFnFifvYDDzTaLII71vG5uvDwgtmDTEVWAxrgeiR8VjMONcCXJx7E+USjDtHlwFmt9MysbqgF9b9Vjr6w+w==",
      "license": "MIT",
      "dependencies": {
        "tslib": "^2.0.1"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/async-retry": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/async-retry/-/async-retry-1.3.3.tgz",
      "integrity": "sha512-wfr/jstw9xNi/0teMHrRW7dsz3Lt5ARhYNZ2ewpadnhaIp5mbALhOAP+EAdsC7t4Z6wqsDVv9+W6gm1Dk9mEyw==",
      "license": "MIT",
      "dependencies": {
        "retry": "0.13.1"
      }
    },
    "node_modules/autoprefixer": {
      "version": "10.4.21",
      "resolved": "https://registry.npmjs.org/autoprefixer/-/autoprefixer-10.4.21.tgz",
      "integrity": "sha512-O+A6LWV5LDHSJD3LjHYoNi4VLsj/Whi7k6zG12xTYaU4cQ8oxQGckXNX8cRHK5yOZ/ppVHe0ZBXGzSV9jXdVbQ==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/autoprefixer"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "browserslist": "^4.24.4",
        "caniuse-lite": "^1.0.30001702",
        "fraction.js": "^4.3.7",
        "normalize-range": "^0.1.2",
        "picocolors": "^1.1.1",
        "postcss-value-parser": "^4.2.0"
      },
      "bin": {
        "autoprefixer": "bin/autoprefixer"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      },
      "peerDependencies": {
        "postcss": "^8.1.0"
      }
    },
    "node_modules/b4a": {
      "version": "1.6.7",
      "resolved": "https://registry.npmjs.org/b4a/-/b4a-1.6.7.tgz",
      "integrity": "sha512-OnAYlL5b7LEkALw87fUVafQw5rVR9RjwGd4KUwNQ6DrrNmaVaUCgLipfVlzrPQ4tWOR9P0IXGNOx50jYCCdSJg==",
      "license": "Apache-2.0"
    },
    "node_modules/balanced-match": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
      "integrity": "sha512-3oSeUO0TMV67hN1AmbXsK4yaqU7tjiHlbxRDZOpH0KW9+CeX4bRAaX0Anxt0tx2MrpRpWwQaPwIlISEJhYU5Pw==",
      "license": "MIT"
    },
    "node_modules/bare-events": {
      "version": "2.6.1",
      "resolved": "https://registry.npmjs.org/bare-events/-/bare-events-2.6.1.tgz",
      "integrity": "sha512-AuTJkq9XmE6Vk0FJVNq5QxETrSA/vKHarWVBG5l/JbdCL1prJemiyJqUS0jrlXO0MftuPq4m3YVYhoNc5+aE/g==",
      "license": "Apache-2.0",
      "optional": true
    },
    "node_modules/bare-fs": {
      "version": "4.2.0",
      "resolved": "https://registry.npmjs.org/bare-fs/-/bare-fs-4.2.0.tgz",
      "integrity": "sha512-oRfrw7gwwBVAWx9S5zPMo2iiOjxyiZE12DmblmMQREgcogbNO0AFaZ+QBxxkEXiPspcpvO/Qtqn8LabUx4uYXg==",
      "license": "Apache-2.0",
      "optional": true,
      "dependencies": {
        "bare-events": "^2.5.4",
        "bare-path": "^3.0.0",
        "bare-stream": "^2.6.4"
      },
      "engines": {
        "bare": ">=1.16.0"
      },
      "peerDependencies": {
        "bare-buffer": "*"
      },
      "peerDependenciesMeta": {
        "bare-buffer": {
          "optional": true
        }
      }
    },
    "node_modules/bare-os": {
      "version": "3.6.1",
      "resolved": "https://registry.npmjs.org/bare-os/-/bare-os-3.6.1.tgz",
      "integrity": "sha512-uaIjxokhFidJP+bmmvKSgiMzj2sV5GPHaZVAIktcxcpCyBFFWO+YlikVAdhmUo2vYFvFhOXIAlldqV29L8126g==",
      "license": "Apache-2.0",
      "optional": true,
      "engines": {
        "bare": ">=1.14.0"
      }
    },
    "node_modules/bare-path": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/bare-path/-/bare-path-3.0.0.tgz",
      "integrity": "sha512-tyfW2cQcB5NN8Saijrhqn0Zh7AnFNsnczRcuWODH0eYAXBsJ5gVxAUuNr7tsHSC6IZ77cA0SitzT+s47kot8Mw==",
      "license": "Apache-2.0",
      "optional": true,
      "dependencies": {
        "bare-os": "^3.0.1"
      }
    },
    "node_modules/bare-stream": {
      "version": "2.7.0",
      "resolved": "https://registry.npmjs.org/bare-stream/-/bare-stream-2.7.0.tgz",
      "integrity": "sha512-oyXQNicV1y8nc2aKffH+BUHFRXmx6VrPzlnaEvMhram0nPBrKcEdcyBg5r08D0i8VxngHFAiVyn1QKXpSG0B8A==",
      "license": "Apache-2.0",
      "optional": true,
      "dependencies": {
        "streamx": "^2.21.0"
      },
      "peerDependencies": {
        "bare-buffer": "*",
        "bare-events": "*"
      },
      "peerDependenciesMeta": {
        "bare-buffer": {
          "optional": true
        },
        "bare-events": {
          "optional": true
        }
      }
    },
    "node_modules/base64-js": {
      "version": "1.5.1",
      "resolved": "https://registry.npmjs.org/base64-js/-/base64-js-1.5.1.tgz",
      "integrity": "sha512-AKpaYlHn8t4SVbOHCy+b5+KKgvR4vrsD8vbvrbiQJps7fKDTkjkDry6ji0rUJjC0kzbNePLwzxq8iypo41qeWA==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT"
    },
    "node_modules/basic-ftp": {
      "version": "5.0.5",
      "resolved": "https://registry.npmjs.org/basic-ftp/-/basic-ftp-5.0.5.tgz",
      "integrity": "sha512-4Bcg1P8xhUuqcii/S0Z9wiHIrQVPMermM1any+MX5GeGD7faD3/msQUDGLol9wOcz4/jbg/WJnGqoJF6LiBdtg==",
      "license": "MIT",
      "engines": {
        "node": ">=10.0.0"
      }
    },
    "node_modules/binary-extensions": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/binary-extensions/-/binary-extensions-2.3.0.tgz",
      "integrity": "sha512-Ceh+7ox5qe7LJuLHoY0feh3pHuUDHAcRUeyL2VYghZwfpkNIy/+8Ocg0a3UuSoYzavmylwuLWQOf3hl0jjMMIw==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/boolbase": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/boolbase/-/boolbase-1.0.0.tgz",
      "integrity": "sha512-JZOSA7Mo9sNGB8+UjSgzdLtokWAky1zbztM3WRLCbZ70/3cTANmQmOdR7y2g+J0e2WXywy1yS468tY+IruqEww==",
      "license": "ISC"
    },
    "node_modules/brace-expansion": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/brace-expansion/-/brace-expansion-2.0.2.tgz",
      "integrity": "sha512-Jt0vHyM+jmUBqojB7E1NIYadt0vI0Qxjxd2TErW94wDz+E2LAm5vKMXXwg6ZZBTHPuUlDgQHKXvjGBdfcF1ZDQ==",
      "license": "MIT",
      "dependencies": {
        "balanced-match": "^1.0.0"
      }
    },
    "node_modules/braces": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/braces/-/braces-3.0.3.tgz",
      "integrity": "sha512-yQbXgO/OSZVD2IsiLlro+7Hf6Q18EJrKSEsdoMzKePKXct3gvD8oLcOQdIzGupr5Fj+EDe8gO/lxc1BzfMpxvA==",
      "license": "MIT",
      "dependencies": {
        "fill-range": "^7.1.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/browserslist": {
      "version": "4.25.2",
      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.25.2.tgz",
      "integrity": "sha512-0si2SJK3ooGzIawRu61ZdPCO1IncZwS8IzuX73sPZsXW6EQ/w/DAfPyKI8l1ETTCr2MnvqWitmlCUxgdul45jA==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "caniuse-lite": "^1.0.30001733",
        "electron-to-chromium": "^1.5.199",
        "node-releases": "^2.0.19",
        "update-browserslist-db": "^1.1.3"
      },
      "bin": {
        "browserslist": "cli.js"
      },
      "engines": {
        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
      }
    },
    "node_modules/buffer": {
      "version": "5.7.1",
      "resolved": "https://registry.npmjs.org/buffer/-/buffer-5.7.1.tgz",
      "integrity": "sha512-EHcyIPBQ4BSGlvjB16k5KgAJ27CIsHY/2JBmCRReo48y9rQ3MaUzWX3KVlBa4U7MyX02HdVj0K7C3WaB3ju7FQ==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "base64-js": "^1.3.1",
        "ieee754": "^1.1.13"
      }
    },
    "node_modules/buffer-crc32": {
      "version": "0.2.13",
      "resolved": "https://registry.npmjs.org/buffer-crc32/-/buffer-crc32-0.2.13.tgz",
      "integrity": "sha512-VO9Ht/+p3SN7SKWqcrgEzjGbRSJYTx+Q1pTQC0wrWqHx0vpJraQ6GtHx8tvcg1rlK1byhU5gccxgOgj7B0TDkQ==",
      "license": "MIT",
      "engines": {
        "node": "*"
      }
    },
    "node_modules/bytes": {
      "version": "3.1.2",
      "resolved": "https://registry.npmjs.org/bytes/-/bytes-3.1.2.tgz",
      "integrity": "sha512-/Nf7TyzTx6S3yRJObOAV7956r8cr2+Oj8AC5dt8wSP3BQAoeX58NoHyCU8P8zGkNXStjTSi6fzO6F0pBdcYbEg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.8"
      }
    },
    "node_modules/callsites": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/callsites/-/callsites-3.1.0.tgz",
      "integrity": "sha512-P8BjAsXvZS+VIDUI11hHCQEv74YT67YUi5JJFNWIqL235sBmjX4+qx9Muvls5ivyNENctx46xQLQ3aTuE7ssaQ==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/camelcase-css": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/camelcase-css/-/camelcase-css-2.0.1.tgz",
      "integrity": "sha512-QOSvevhslijgYwRx6Rv7zKdMF8lbRmx+uQGx2+vDc+KI/eBnsy9kit5aj23AgGu3pa4t9AgwbnXWqS+iOY+2aA==",
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/caniuse-lite": {
      "version": "1.0.30001735",
      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001735.tgz",
      "integrity": "sha512-EV/laoX7Wq2J9TQlyIXRxTJqIw4sxfXS4OYgudGxBYRuTv0q7AM6yMEpU/Vo1I94thg9U6EZ2NfZx9GJq83u7w==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "CC-BY-4.0"
    },
    "node_modules/cheerio": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/cheerio/-/cheerio-1.1.2.tgz",
      "integrity": "sha512-IkxPpb5rS/d1IiLbHMgfPuS0FgiWTtFIm/Nj+2woXDLTZ7fOT2eqzgYbdMlLweqlHbsZjxEChoVK+7iph7jyQg==",
      "license": "MIT",
      "dependencies": {
        "cheerio-select": "^2.1.0",
        "dom-serializer": "^2.0.0",
        "domhandler": "^5.0.3",
        "domutils": "^3.2.2",
        "encoding-sniffer": "^0.2.1",
        "htmlparser2": "^10.0.0",
        "parse5": "^7.3.0",
        "parse5-htmlparser2-tree-adapter": "^7.1.0",
        "parse5-parser-stream": "^7.1.2",
        "undici": "^7.12.0",
        "whatwg-mimetype": "^4.0.0"
      },
      "engines": {
        "node": ">=20.18.1"
      },
      "funding": {
        "url": "https://github.com/cheeriojs/cheerio?sponsor=1"
      }
    },
    "node_modules/cheerio-select": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/cheerio-select/-/cheerio-select-2.1.0.tgz",
      "integrity": "sha512-9v9kG0LvzrlcungtnJtpGNxY+fzECQKhK4EGJX2vByejiMX84MFNQw4UxPJl3bFbTMw+Dfs37XaIkCwTZfLh4g==",
      "license": "BSD-2-Clause",
      "dependencies": {
        "boolbase": "^1.0.0",
        "css-select": "^5.1.0",
        "css-what": "^6.1.0",
        "domelementtype": "^2.3.0",
        "domhandler": "^5.0.3",
        "domutils": "^3.0.1"
      },
      "funding": {
        "url": "https://github.com/sponsors/fb55"
      }
    },
    "node_modules/cheerio/node_modules/undici": {
      "version": "7.14.0",
      "resolved": "https://registry.npmjs.org/undici/-/undici-7.14.0.tgz",
      "integrity": "sha512-Vqs8HTzjpQXZeXdpsfChQTlafcMQaaIwnGwLam1wudSSjlJeQ3bw1j+TLPePgrCnCpUXx7Ba5Pdpf5OBih62NQ==",
      "license": "MIT",
      "engines": {
        "node": ">=20.18.1"
      }
    },
    "node_modules/chokidar": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/chokidar/-/chokidar-3.6.0.tgz",
      "integrity": "sha512-7VT13fmjotKpGipCW9JEQAusEPE+Ei8nl6/g4FBAmIm0GOOLMua9NDDo/DWp0ZAxCr3cPq5ZpBqmPAQgDda2Pw==",
      "license": "MIT",
      "dependencies": {
        "anymatch": "~3.1.2",
        "braces": "~3.0.2",
        "glob-parent": "~5.1.2",
        "is-binary-path": "~2.1.0",
        "is-glob": "~4.0.1",
        "normalize-path": "~3.0.0",
        "readdirp": "~3.6.0"
      },
      "engines": {
        "node": ">= 8.10.0"
      },
      "funding": {
        "url": "https://paulmillr.com/funding/"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.2"
      }
    },
    "node_modules/chokidar/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/chownr": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/chownr/-/chownr-3.0.0.tgz",
      "integrity": "sha512-+IxzY9BZOQd/XuYPRmrvEVjF/nqj5kgT4kEq7VofrDoM1MxoRjEWkrCC3EtLi59TVawxTAn+orJwFQcrqEN1+g==",
      "license": "BlueOak-1.0.0",
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/chromium-bidi": {
      "version": "0.11.0",
      "resolved": "https://registry.npmjs.org/chromium-bidi/-/chromium-bidi-0.11.0.tgz",
      "integrity": "sha512-6CJWHkNRoyZyjV9Rwv2lYONZf1Xm0IuDyNq97nwSsxxP3wf5Bwy15K5rOvVKMtJ127jJBmxFUanSAOjgFRxgrA==",
      "license": "Apache-2.0",
      "dependencies": {
        "mitt": "3.0.1",
        "zod": "3.23.8"
      },
      "peerDependencies": {
        "devtools-protocol": "*"
      }
    },
    "node_modules/client-only": {
      "version": "0.0.1",
      "resolved": "https://registry.npmjs.org/client-only/-/client-only-0.0.1.tgz",
      "integrity": "sha512-IV3Ou0jSMzZrd3pZ48nLkT9DA7Ag1pnPzaiQhpW7c3RbcqqzvzzVu+L8gfqMp/8IM2MQtSiqaCxrrcfu8I8rMA==",
      "license": "MIT"
    },
    "node_modules/cliui": {
      "version": "8.0.1",
      "resolved": "https://registry.npmjs.org/cliui/-/cliui-8.0.1.tgz",
      "integrity": "sha512-BSeNnyus75C4//NQ9gQt1/csTXyo/8Sb+afLAkzAptFuMsod9HFokGNudZpi/oQV73hnVK+sR+5PVRMd+Dr7YQ==",
      "license": "ISC",
      "dependencies": {
        "string-width": "^4.2.0",
        "strip-ansi": "^6.0.1",
        "wrap-ansi": "^7.0.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/cliui/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/cliui/node_modules/ansi-styles": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
      "license": "MIT",
      "dependencies": {
        "color-convert": "^2.0.1"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/cliui/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "license": "MIT"
    },
    "node_modules/cliui/node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/cliui/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/cliui/node_modules/wrap-ansi": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.0.0",
        "string-width": "^4.1.0",
        "strip-ansi": "^6.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/clsx": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/clsx/-/clsx-2.1.1.tgz",
      "integrity": "sha512-eYm0QWBtUrBWZWG0d386OGAw16Z995PiOVo2B7bjWSbHedGl5e0ZWaq65kOGgUSNesEIDkB9ISbTg/JK9dhCZA==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/color": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/color/-/color-4.2.3.tgz",
      "integrity": "sha512-1rXeuUUiGGrykh+CeBdu5Ie7OJwinCgQY0bc7GCRxy5xVHy+moaqkpL/jqQq0MtQOeYcrqEz4abc5f0KtU7W4A==",
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "color-convert": "^2.0.1",
        "color-string": "^1.9.0"
      },
      "engines": {
        "node": ">=12.5.0"
      }
    },
    "node_modules/color-convert": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/color-convert/-/color-convert-2.0.1.tgz",
      "integrity": "sha512-RRECPsj7iu/xb5oKYcsFHSppFNnsj/52OVTRKb4zP5onXwVF3zVmmToNcOfGC+CRDpfK/U584fMg38ZHCaElKQ==",
      "license": "MIT",
      "dependencies": {
        "color-name": "~1.1.4"
      },
      "engines": {
        "node": ">=7.0.0"
      }
    },
    "node_modules/color-name": {
      "version": "1.1.4",
      "resolved": "https://registry.npmjs.org/color-name/-/color-name-1.1.4.tgz",
      "integrity": "sha512-dOy+3AuW3a2wNbZHIuMZpTcgjGuLU/uBL/ubcZF9OXbDo8ff4O8yVp5Bf0efS8uEoYo5q4Fx7dY9OgQGXgAsQA==",
      "license": "MIT"
    },
    "node_modules/color-string": {
      "version": "1.9.1",
      "resolved": "https://registry.npmjs.org/color-string/-/color-string-1.9.1.tgz",
      "integrity": "sha512-shrVawQFojnZv6xM40anx4CkoDP+fZsw/ZerEMsW/pyzsRbElpsL/DBVW7q3ExxwusdNXI3lXpuhEZkzs8p5Eg==",
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "color-name": "^1.0.0",
        "simple-swizzle": "^0.2.2"
      }
    },
    "node_modules/commander": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/commander/-/commander-4.1.1.tgz",
      "integrity": "sha512-NOKm8xhkzAjzFx8B2v5OAHT+u5pRQc2UCa2Vq9jYL/31o2wi9mxBA7LIFs3sV5VSC49z6pEhfbMULvShKj26WA==",
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/cosmiconfig": {
      "version": "9.0.0",
      "resolved": "https://registry.npmjs.org/cosmiconfig/-/cosmiconfig-9.0.0.tgz",
      "integrity": "sha512-itvL5h8RETACmOTFc4UfIyB2RfEHi71Ax6E/PivVxq9NseKbOWpeyHEOIbmAw1rs8Ak0VursQNww7lf7YtUwzg==",
      "license": "MIT",
      "dependencies": {
        "env-paths": "^2.2.1",
        "import-fresh": "^3.3.0",
        "js-yaml": "^4.1.0",
        "parse-json": "^5.2.0"
      },
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/d-fischer"
      },
      "peerDependencies": {
        "typescript": ">=4.9.5"
      },
      "peerDependenciesMeta": {
        "typescript": {
          "optional": true
        }
      }
    },
    "node_modules/cross-spawn": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/cross-spawn/-/cross-spawn-7.0.6.tgz",
      "integrity": "sha512-uV2QOWP2nWzsy2aMp8aRibhi9dlzF5Hgh5SHaB9OiTGEyDTiJJyx0uy51QXdyWbtAHNua4XJzUKca3OzKUd3vA==",
      "license": "MIT",
      "dependencies": {
        "path-key": "^3.1.0",
        "shebang-command": "^2.0.0",
        "which": "^2.0.1"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/css-select": {
      "version": "5.2.2",
      "resolved": "https://registry.npmjs.org/css-select/-/css-select-5.2.2.tgz",
      "integrity": "sha512-TizTzUddG/xYLA3NXodFM0fSbNizXjOKhqiQQwvhlspadZokn1KDy0NZFS0wuEubIYAV5/c1/lAr0TaaFXEXzw==",
      "license": "BSD-2-Clause",
      "dependencies": {
        "boolbase": "^1.0.0",
        "css-what": "^6.1.0",
        "domhandler": "^5.0.2",
        "domutils": "^3.0.1",
        "nth-check": "^2.0.1"
      },
      "funding": {
        "url": "https://github.com/sponsors/fb55"
      }
    },
    "node_modules/css-what": {
      "version": "6.2.2",
      "resolved": "https://registry.npmjs.org/css-what/-/css-what-6.2.2.tgz",
      "integrity": "sha512-u/O3vwbptzhMs3L1fQE82ZSLHQQfto5gyZzwteVIEyeaY5Fc7R4dapF/BvRoSYFeqfBk4m0V1Vafq5Pjv25wvA==",
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">= 6"
      },
      "funding": {
        "url": "https://github.com/sponsors/fb55"
      }
    },
    "node_modules/cssesc": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/cssesc/-/cssesc-3.0.0.tgz",
      "integrity": "sha512-/Tb/JcjK111nNScGob5MNtsntNM1aCNUDipB/TkwZFhyDrrE47SOx/18wF2bbjgc3ZzCSKW1T5nt5EbFoAz/Vg==",
      "license": "MIT",
      "bin": {
        "cssesc": "bin/cssesc"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/csstype": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.1.3.tgz",
      "integrity": "sha512-M1uQkMl8rQK/szD0LNhtqxIPLpimGm8sOBwU7lLnCpSbTyY3yeU1Vc7l4KT5zT4s/yOxHH5O7tIuuLOCnLADRw==",
      "license": "MIT"
    },
    "node_modules/d3-array": {
      "version": "3.2.4",
      "resolved": "https://registry.npmjs.org/d3-array/-/d3-array-3.2.4.tgz",
      "integrity": "sha512-tdQAmyA18i4J7wprpYq8ClcxZy3SC31QMeByyCFyRt7BVHdREQZ5lpzoe5mFEYZUWe+oq8HBvk9JjpibyEV4Jg==",
      "license": "ISC",
      "dependencies": {
        "internmap": "1 - 2"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-color": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-color/-/d3-color-3.1.0.tgz",
      "integrity": "sha512-zg/chbXyeBtMQ1LbD/WSoW2DpC3I0mpmPdW+ynRTj/x2DAWYrIY7qeZIHidozwV24m4iavr15lNwIwLxRmOxhA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-ease": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-ease/-/d3-ease-3.0.1.tgz",
      "integrity": "sha512-wR/XK3D3XcLIZwpbvQwQ5fK+8Ykds1ip7A2Txe0yxncXSdq1L9skcG7blcedkOX+ZcgxGAmLX1FrRGbADwzi0w==",
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-format": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-format/-/d3-format-3.1.0.tgz",
      "integrity": "sha512-YyUI6AEuY/Wpt8KWLgZHsIU86atmikuoOmCfommt0LYHiQSPjvX2AcFc38PX0CBpr2RCyZhjex+NS/LPOv6YqA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-interpolate": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-interpolate/-/d3-interpolate-3.0.1.tgz",
      "integrity": "sha512-3bYs1rOD33uo8aqJfKP3JWPAibgw8Zm2+L9vBKEHJ2Rg+viTR7o5Mmv5mZcieN+FRYaAOWX5SJATX6k1PWz72g==",
      "license": "ISC",
      "dependencies": {
        "d3-color": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-path": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-path/-/d3-path-3.1.0.tgz",
      "integrity": "sha512-p3KP5HCf/bvjBSSKuXid6Zqijx7wIfNW+J/maPs+iwR35at5JCbLUT0LzF1cnjbCHWhqzQTIN2Jpe8pRebIEFQ==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-scale": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/d3-scale/-/d3-scale-4.0.2.tgz",
      "integrity": "sha512-GZW464g1SH7ag3Y7hXjf8RoUuAFIqklOAq3MRl4OaWabTFJY9PN/E1YklhXLh+OQ3fM9yS2nOkCoS+WLZ6kvxQ==",
      "license": "ISC",
      "dependencies": {
        "d3-array": "2.10.0 - 3",
        "d3-format": "1 - 3",
        "d3-interpolate": "1.2.0 - 3",
        "d3-time": "2.1.1 - 3",
        "d3-time-format": "2 - 4"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-shape": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/d3-shape/-/d3-shape-3.2.0.tgz",
      "integrity": "sha512-SaLBuwGm3MOViRq2ABk3eLoxwZELpH6zhl3FbAoJ7Vm1gofKx6El1Ib5z23NUEhF9AsGl7y+dzLe5Cw2AArGTA==",
      "license": "ISC",
      "dependencies": {
        "d3-path": "^3.1.0"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-time": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/d3-time/-/d3-time-3.1.0.tgz",
      "integrity": "sha512-VqKjzBLejbSMT4IgbmVgDjpkYrNWUYJnbCGo874u7MMKIWsILRX+OpX/gTk8MqjpT1A/c6HY2dCA77ZN0lkQ2Q==",
      "license": "ISC",
      "dependencies": {
        "d3-array": "2 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-time-format": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/d3-time-format/-/d3-time-format-4.1.0.tgz",
      "integrity": "sha512-dJxPBlzC7NugB2PDLwo9Q8JiTR3M3e4/XANkreKSUxF8vvXKqm1Yfq4Q5dl8budlunRVlUUaDUgFt7eA8D6NLg==",
      "license": "ISC",
      "dependencies": {
        "d3-time": "1 - 3"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/d3-timer": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/d3-timer/-/d3-timer-3.0.1.tgz",
      "integrity": "sha512-ndfJ/JxxMd3nw31uyKoY2naivF+r29V+Lc0svZxe1JvvIRmi8hUsrMvdOwgS1o6uBHmiz91geQ0ylPP0aj1VUA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/data-uri-to-buffer": {
      "version": "6.0.2",
      "resolved": "https://registry.npmjs.org/data-uri-to-buffer/-/data-uri-to-buffer-6.0.2.tgz",
      "integrity": "sha512-7hvf7/GW8e86rW0ptuwS3OcBGDjIi6SZva7hCyWC0yYry2cOPmLIjXAUHI6DK2HsnwJd9ifmt57i8eV2n4YNpw==",
      "license": "MIT",
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/date-fns": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/date-fns/-/date-fns-4.1.0.tgz",
      "integrity": "sha512-Ukq0owbQXxa/U3EGtsdVBkR1w7KOQ5gIBqdH2hkvknzZPYvBxb/aa6E8L7tmjFtkwZBu3UXBbjIgPo/Ez4xaNg==",
      "license": "MIT",
      "funding": {
        "type": "github",
        "url": "https://github.com/sponsors/kossnocorp"
      }
    },
    "node_modules/debug": {
      "version": "4.4.1",
      "resolved": "https://registry.npmjs.org/debug/-/debug-4.4.1.tgz",
      "integrity": "sha512-KcKCqiftBJcZr++7ykoDIEwSa3XWowTfNPo92BYxjXiyYEVrUQh2aLyhxBCwww+heortUFxEJYcRzosstTEBYQ==",
      "license": "MIT",
      "dependencies": {
        "ms": "^2.1.3"
      },
      "engines": {
        "node": ">=6.0"
      },
      "peerDependenciesMeta": {
        "supports-color": {
          "optional": true
        }
      }
    },
    "node_modules/decimal.js-light": {
      "version": "2.5.1",
      "resolved": "https://registry.npmjs.org/decimal.js-light/-/decimal.js-light-2.5.1.tgz",
      "integrity": "sha512-qIMFpTMZmny+MMIitAB6D7iVPEorVw6YQRWkvarTkT4tBeSLLiHzcwj6q0MmYSFCiVpiqPJTJEYIrpcPzVEIvg==",
      "license": "MIT"
    },
    "node_modules/degenerator": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/degenerator/-/degenerator-5.0.1.tgz",
      "integrity": "sha512-TllpMR/t0M5sqCXfj85i4XaAzxmS5tVA16dqvdkMwGmzI+dXLXnw3J+3Vdv7VKw+ThlTMboK6i9rnZ6Nntj5CQ==",
      "license": "MIT",
      "dependencies": {
        "ast-types": "^0.13.4",
        "escodegen": "^2.1.0",
        "esprima": "^4.0.1"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/detect-libc": {
      "version": "2.0.4",
      "resolved": "https://registry.npmjs.org/detect-libc/-/detect-libc-2.0.4.tgz",
      "integrity": "sha512-3UDv+G9CsCKO1WKMGw9fwq/SWJYbI0c5Y7LU1AXYoDdbhE2AHQ6N6Nb34sG8Fj7T5APy8qXDCKuuIHd1BR0tVA==",
      "license": "Apache-2.0",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/devtools-protocol": {
      "version": "0.0.1367902",
      "resolved": "https://registry.npmjs.org/devtools-protocol/-/devtools-protocol-0.0.1367902.tgz",
      "integrity": "sha512-XxtPuC3PGakY6PD7dG66/o8KwJ/LkH2/EKe19Dcw58w53dv4/vSQEkn/SzuyhHE2q4zPgCkxQBxus3VV4ql+Pg==",
      "license": "BSD-3-Clause"
    },
    "node_modules/didyoumean": {
      "version": "1.2.2",
      "resolved": "https://registry.npmjs.org/didyoumean/-/didyoumean-1.2.2.tgz",
      "integrity": "sha512-gxtyfqMg7GKyhQmb056K7M3xszy/myH8w+B4RT+QXBQsvAOdc3XymqDDPHx1BgPgsdAA5SIifona89YtRATDzw==",
      "license": "Apache-2.0"
    },
    "node_modules/dlv": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/dlv/-/dlv-1.1.3.tgz",
      "integrity": "sha512-+HlytyjlPKnIG8XuRG8WvmBP8xs8P71y+SKKS6ZXWoEgLuePxtDoUEiH7WkdePWrQ5JBpE6aoVqfZfJUQkjXwA==",
      "license": "MIT"
    },
    "node_modules/dom-helpers": {
      "version": "5.2.1",
      "resolved": "https://registry.npmjs.org/dom-helpers/-/dom-helpers-5.2.1.tgz",
      "integrity": "sha512-nRCa7CK3VTrM2NmGkIy4cbK7IZlgBE/PYMn55rrXefr5xXDP0LdtfPnblFDoVdcAfslJ7or6iqAUnx0CCGIWQA==",
      "license": "MIT",
      "dependencies": {
        "@babel/runtime": "^7.8.7",
        "csstype": "^3.0.2"
      }
    },
    "node_modules/dom-serializer": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/dom-serializer/-/dom-serializer-2.0.0.tgz",
      "integrity": "sha512-wIkAryiqt/nV5EQKqQpo3SToSOV9J0DnbJqwK7Wv/Trc92zIAYZ4FlMu+JPFW1DfGFt81ZTCGgDEabffXeLyJg==",
      "license": "MIT",
      "dependencies": {
        "domelementtype": "^2.3.0",
        "domhandler": "^5.0.2",
        "entities": "^4.2.0"
      },
      "funding": {
        "url": "https://github.com/cheeriojs/dom-serializer?sponsor=1"
      }
    },
    "node_modules/domelementtype": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/domelementtype/-/domelementtype-2.3.0.tgz",
      "integrity": "sha512-OLETBj6w0OsagBwdXnPdN0cnMfF9opN69co+7ZrbfPGrdpPVNBUj02spi6B1N7wChLQiPn4CSH/zJvXw56gmHw==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/fb55"
        }
      ],
      "license": "BSD-2-Clause"
    },
    "node_modules/domhandler": {
      "version": "5.0.3",
      "resolved": "https://registry.npmjs.org/domhandler/-/domhandler-5.0.3.tgz",
      "integrity": "sha512-cgwlv/1iFQiFnU96XXgROh8xTeetsnJiDsTc7TYCLFd9+/WNkIqPTxiM/8pSd8VIrhXGTf1Ny1q1hquVqDJB5w==",
      "license": "BSD-2-Clause",
      "dependencies": {
        "domelementtype": "^2.3.0"
      },
      "engines": {
        "node": ">= 4"
      },
      "funding": {
        "url": "https://github.com/fb55/domhandler?sponsor=1"
      }
    },
    "node_modules/domutils": {
      "version": "3.2.2",
      "resolved": "https://registry.npmjs.org/domutils/-/domutils-3.2.2.tgz",
      "integrity": "sha512-6kZKyUajlDuqlHKVX1w7gyslj9MPIXzIFiz/rGu35uC1wMi+kMhQwGhl4lt9unC9Vb9INnY9Z3/ZA3+FhASLaw==",
      "license": "BSD-2-Clause",
      "dependencies": {
        "dom-serializer": "^2.0.0",
        "domelementtype": "^2.3.0",
        "domhandler": "^5.0.3"
      },
      "funding": {
        "url": "https://github.com/fb55/domutils?sponsor=1"
      }
    },
    "node_modules/eastasianwidth": {
      "version": "0.2.0",
      "resolved": "https://registry.npmjs.org/eastasianwidth/-/eastasianwidth-0.2.0.tgz",
      "integrity": "sha512-I88TYZWc9XiYHRQ4/3c5rjjfgkjhLyW2luGIheGERbNQ6OY7yTybanSpDXZa8y7VUP9YmDcYa+eyq4ca7iLqWA==",
      "license": "MIT"
    },
    "node_modules/electron-to-chromium": {
      "version": "1.5.204",
      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.204.tgz",
      "integrity": "sha512-s9VbBXWxfDrl67PlO4avwh0/GU2vcwx8Fph3wlR8LJl7ySGYId59EFE17VWVcuC3sLWNPENm6Z/uGqKbkPCcXA==",
      "license": "ISC"
    },
    "node_modules/emoji-regex": {
      "version": "9.2.2",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-9.2.2.tgz",
      "integrity": "sha512-L18DaJsXSUk2+42pv8mLs5jJT2hqFkFE4j21wOmgbUqsZ2hL72NsUU785g9RXgo3s0ZNgVl42TiHp3ZtOv/Vyg==",
      "license": "MIT"
    },
    "node_modules/encoding-sniffer": {
      "version": "0.2.1",
      "resolved": "https://registry.npmjs.org/encoding-sniffer/-/encoding-sniffer-0.2.1.tgz",
      "integrity": "sha512-5gvq20T6vfpekVtqrYQsSCFZ1wEg5+wW0/QaZMWkFr6BqD3NfKs0rLCx4rrVlSWJeZb5NBJgVLswK/w2MWU+Gw==",
      "license": "MIT",
      "dependencies": {
        "iconv-lite": "^0.6.3",
        "whatwg-encoding": "^3.1.1"
      },
      "funding": {
        "url": "https://github.com/fb55/encoding-sniffer?sponsor=1"
      }
    },
    "node_modules/end-of-stream": {
      "version": "1.4.5",
      "resolved": "https://registry.npmjs.org/end-of-stream/-/end-of-stream-1.4.5.tgz",
      "integrity": "sha512-ooEGc6HP26xXq/N+GCGOT0JKCLDGrq2bQUZrQ7gyrJiZANJ/8YDTxTpQBXGMn+WbIQXNVpyWymm7KYVICQnyOg==",
      "license": "MIT",
      "dependencies": {
        "once": "^1.4.0"
      }
    },
    "node_modules/enhanced-resolve": {
      "version": "5.18.3",
      "resolved": "https://registry.npmjs.org/enhanced-resolve/-/enhanced-resolve-5.18.3.tgz",
      "integrity": "sha512-d4lC8xfavMeBjzGr2vECC3fsGXziXZQyJxD868h2M/mBI3PwAuODxAkLkq5HYuvrPYcUtiLzsTo8U3PgX3Ocww==",
      "license": "MIT",
      "dependencies": {
        "graceful-fs": "^4.2.4",
        "tapable": "^2.2.0"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/entities": {
      "version": "4.5.0",
      "resolved": "https://registry.npmjs.org/entities/-/entities-4.5.0.tgz",
      "integrity": "sha512-V0hjH4dGPh9Ao5p0MoRY6BVqtwCjhz6vI5LT8AJ55H+4g9/4vbHx1I54fS0XuclLhDHArPQCiMjDxjaL8fPxhw==",
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=0.12"
      },
      "funding": {
        "url": "https://github.com/fb55/entities?sponsor=1"
      }
    },
    "node_modules/env-paths": {
      "version": "2.2.1",
      "resolved": "https://registry.npmjs.org/env-paths/-/env-paths-2.2.1.tgz",
      "integrity": "sha512-+h1lkLKhZMTYjog1VEpJNG7NZJWcuc2DDk/qsqSTRRCOXiLjeQ1d1/udrUGhqMxUgAlwKNZ0cf2uqan5GLuS2A==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/error-ex": {
      "version": "1.3.2",
      "resolved": "https://registry.npmjs.org/error-ex/-/error-ex-1.3.2.tgz",
      "integrity": "sha512-7dFHNmqeFSEt2ZBsCriorKnn3Z2pj+fd9kmI6QoWw4//DL+icEBfc0U7qJCisqrTsKTjw4fNFy2pW9OqStD84g==",
      "license": "MIT",
      "dependencies": {
        "is-arrayish": "^0.2.1"
      }
    },
    "node_modules/error-ex/node_modules/is-arrayish": {
      "version": "0.2.1",
      "resolved": "https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.2.1.tgz",
      "integrity": "sha512-zz06S8t0ozoDXMG+ube26zeCTNXcKIPJZJi8hBrF4idCLms4CG9QtK7qBl1boi5ODzFpjswb5JPmHCbMpjaYzg==",
      "license": "MIT"
    },
    "node_modules/esbuild": {
      "version": "0.25.9",
      "resolved": "https://registry.npmjs.org/esbuild/-/esbuild-0.25.9.tgz",
      "integrity": "sha512-CRbODhYyQx3qp7ZEwzxOk4JBqmD/seJrzPa/cGjY1VtIn5E09Oi9/dB4JwctnfZ8Q8iT7rioVv5k/FNT/uf54g==",
      "dev": true,
      "hasInstallScript": true,
      "license": "MIT",
      "bin": {
        "esbuild": "bin/esbuild"
      },
      "engines": {
        "node": ">=18"
      },
      "optionalDependencies": {
        "@esbuild/aix-ppc64": "0.25.9",
        "@esbuild/android-arm": "0.25.9",
        "@esbuild/android-arm64": "0.25.9",
        "@esbuild/android-x64": "0.25.9",
        "@esbuild/darwin-arm64": "0.25.9",
        "@esbuild/darwin-x64": "0.25.9",
        "@esbuild/freebsd-arm64": "0.25.9",
        "@esbuild/freebsd-x64": "0.25.9",
        "@esbuild/linux-arm": "0.25.9",
        "@esbuild/linux-arm64": "0.25.9",
        "@esbuild/linux-ia32": "0.25.9",
        "@esbuild/linux-loong64": "0.25.9",
        "@esbuild/linux-mips64el": "0.25.9",
        "@esbuild/linux-ppc64": "0.25.9",
        "@esbuild/linux-riscv64": "0.25.9",
        "@esbuild/linux-s390x": "0.25.9",
        "@esbuild/linux-x64": "0.25.9",
        "@esbuild/netbsd-arm64": "0.25.9",
        "@esbuild/netbsd-x64": "0.25.9",
        "@esbuild/openbsd-arm64": "0.25.9",
        "@esbuild/openbsd-x64": "0.25.9",
        "@esbuild/openharmony-arm64": "0.25.9",
        "@esbuild/sunos-x64": "0.25.9",
        "@esbuild/win32-arm64": "0.25.9",
        "@esbuild/win32-ia32": "0.25.9",
        "@esbuild/win32-x64": "0.25.9"
      }
    },
    "node_modules/escalade": {
      "version": "3.2.0",
      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/escodegen": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/escodegen/-/escodegen-2.1.0.tgz",
      "integrity": "sha512-2NlIDTwUWJN0mRPQOdtQBzbUHvdGY2P1VXSyU83Q3xKxM7WHX2Ql8dKq782Q9TgQUNOLEzEYu9bzLNj1q88I5w==",
      "license": "BSD-2-Clause",
      "dependencies": {
        "esprima": "^4.0.1",
        "estraverse": "^5.2.0",
        "esutils": "^2.0.2"
      },
      "bin": {
        "escodegen": "bin/escodegen.js",
        "esgenerate": "bin/esgenerate.js"
      },
      "engines": {
        "node": ">=6.0"
      },
      "optionalDependencies": {
        "source-map": "~0.6.1"
      }
    },
    "node_modules/esprima": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/esprima/-/esprima-4.0.1.tgz",
      "integrity": "sha512-eGuFFw7Upda+g4p+QHvnW0RyTX/SVeJBDM/gCtMARO0cLuT2HcEKnTPvhjV6aGeqrCB/sbNop0Kszm0jsaWU4A==",
      "license": "BSD-2-Clause",
      "bin": {
        "esparse": "bin/esparse.js",
        "esvalidate": "bin/esvalidate.js"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/estraverse": {
      "version": "5.3.0",
      "resolved": "https://registry.npmjs.org/estraverse/-/estraverse-5.3.0.tgz",
      "integrity": "sha512-MMdARuVEQziNTeJD8DgMqmhwR11BRQ/cBP+pLtYdSTnf3MIO8fFeiINEbX36ZdNlfU/7A9f3gUw49B3oQsvwBA==",
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=4.0"
      }
    },
    "node_modules/esutils": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz",
      "integrity": "sha512-kVscqXk4OCp68SZ0dkgEKVi6/8ij300KBWTJq32P/dYeWTSwK41WyTxalN1eRmA5Z9UU/LX9D7FWSmV9SAYx6g==",
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/eventemitter3": {
      "version": "4.0.7",
      "resolved": "https://registry.npmjs.org/eventemitter3/-/eventemitter3-4.0.7.tgz",
      "integrity": "sha512-8guHBZCwKnFhYdHr2ysuRWErTwhoN2X8XELRlrRwpmfeY2jjuUN4taQMsULKUVo1K4DvZl+0pgfyoysHxvmvEw==",
      "license": "MIT"
    },
    "node_modules/extract-zip": {
      "version": "2.0.1",
      "resolved": "https://registry.npmjs.org/extract-zip/-/extract-zip-2.0.1.tgz",
      "integrity": "sha512-GDhU9ntwuKyGXdZBUgTIe+vXnWj0fppUEtMDL0+idd5Sta8TGpHssn/eusA9mrPr9qNDym6SxAYZjNvCn/9RBg==",
      "license": "BSD-2-Clause",
      "dependencies": {
        "debug": "^4.1.1",
        "get-stream": "^5.1.0",
        "yauzl": "^2.10.0"
      },
      "bin": {
        "extract-zip": "cli.js"
      },
      "engines": {
        "node": ">= 10.17.0"
      },
      "optionalDependencies": {
        "@types/yauzl": "^2.9.1"
      }
    },
    "node_modules/fast-equals": {
      "version": "5.2.2",
      "resolved": "https://registry.npmjs.org/fast-equals/-/fast-equals-5.2.2.tgz",
      "integrity": "sha512-V7/RktU11J3I36Nwq2JnZEM7tNm17eBJz+u25qdxBZeCKiX6BkVSZQjwWIr+IobgnZy+ag73tTZgZi7tr0LrBw==",
      "license": "MIT",
      "engines": {
        "node": ">=6.0.0"
      }
    },
    "node_modules/fast-fifo": {
      "version": "1.3.2",
      "resolved": "https://registry.npmjs.org/fast-fifo/-/fast-fifo-1.3.2.tgz",
      "integrity": "sha512-/d9sfos4yxzpwkDkuN7k2SqFKtYNmCTzgfEpz82x34IM9/zc8KGxQoXg1liNC/izpRM/MBdt44Nmx41ZWqk+FQ==",
      "license": "MIT"
    },
    "node_modules/fast-glob": {
      "version": "3.3.3",
      "resolved": "https://registry.npmjs.org/fast-glob/-/fast-glob-3.3.3.tgz",
      "integrity": "sha512-7MptL8U0cqcFdzIzwOTHoilX9x5BrNqye7Z/LuC7kCMRio1EMSyqRK3BEAUD7sXRq4iT4AzTVuZdhgQ2TCvYLg==",
      "license": "MIT",
      "dependencies": {
        "@nodelib/fs.stat": "^2.0.2",
        "@nodelib/fs.walk": "^1.2.3",
        "glob-parent": "^5.1.2",
        "merge2": "^1.3.0",
        "micromatch": "^4.0.8"
      },
      "engines": {
        "node": ">=8.6.0"
      }
    },
    "node_modules/fast-glob/node_modules/glob-parent": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-5.1.2.tgz",
      "integrity": "sha512-AOIgSQCepiJYwP3ARnGx+5VnTu2HBYdzbGP45eLw1vr3zB3vZLeyed1sC9hnbcOc9/SrMyM5RPQrkGz4aS9Zow==",
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.1"
      },
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/fastq": {
      "version": "1.19.1",
      "resolved": "https://registry.npmjs.org/fastq/-/fastq-1.19.1.tgz",
      "integrity": "sha512-GwLTyxkCXjXbxqIhTsMI2Nui8huMPtnxg7krajPJAjnEG/iiOS7i+zCtWGZR9G0NBKbXKh6X9m9UIsYX/N6vvQ==",
      "license": "ISC",
      "dependencies": {
        "reusify": "^1.0.4"
      }
    },
    "node_modules/fd-slicer": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/fd-slicer/-/fd-slicer-1.1.0.tgz",
      "integrity": "sha512-cE1qsB/VwyQozZ+q1dGxR8LBYNZeofhEdUNGSMbQD3Gw2lAzX9Zb3uIU6Ebc/Fmyjo9AWWfnn0AUCHqtevs/8g==",
      "license": "MIT",
      "dependencies": {
        "pend": "~1.2.0"
      }
    },
    "node_modules/fill-range": {
      "version": "7.1.1",
      "resolved": "https://registry.npmjs.org/fill-range/-/fill-range-7.1.1.tgz",
      "integrity": "sha512-YsGpe3WHLK8ZYi4tWDg2Jy3ebRz2rXowDxnld4bkQB00cc/1Zw9AWnC0i9ztDJitivtQvaI9KaLyKrc+hBW0yg==",
      "license": "MIT",
      "dependencies": {
        "to-regex-range": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/foreground-child": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/foreground-child/-/foreground-child-3.3.1.tgz",
      "integrity": "sha512-gIXjKqtFuWEgzFRJA9WCQeSJLZDjgJUOMCMzxtvFq/37KojM1BFGufqsCy0r4qSQmYLsZYMeyRqzIWOMup03sw==",
      "license": "ISC",
      "dependencies": {
        "cross-spawn": "^7.0.6",
        "signal-exit": "^4.0.1"
      },
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/fraction.js": {
      "version": "4.3.7",
      "resolved": "https://registry.npmjs.org/fraction.js/-/fraction.js-4.3.7.tgz",
      "integrity": "sha512-ZsDfxO51wGAXREY55a7la9LScWpwv9RxIrYABrlvOFBlH/ShPnrtsXeuUIfXKKOVicNxQ+o8JTbJvjS4M89yew==",
      "license": "MIT",
      "engines": {
        "node": "*"
      },
      "funding": {
        "type": "patreon",
        "url": "https://github.com/sponsors/rawify"
      }
    },
    "node_modules/fsevents": {
      "version": "2.3.3",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.3.tgz",
      "integrity": "sha512-5xoDfX+fL7faATnagmWPpbFtwh/R77WmMMqqHGS65C3vvB0YHrgF+B1YmZ3441tMj5n63k0212XNoJwzlhffQw==",
      "hasInstallScript": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/function-bind": {
      "version": "1.1.2",
      "resolved": "https://registry.npmjs.org/function-bind/-/function-bind-1.1.2.tgz",
      "integrity": "sha512-7XHNxH7qX9xG5mIwxkhumTox/MIRNcOgDrxWsMt2pAr23WHp6MrRlN7FBSFpCpr+oVO0F744iUgR82nJMfG2SA==",
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/get-caller-file": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/get-caller-file/-/get-caller-file-2.0.5.tgz",
      "integrity": "sha512-DyFP3BM/3YHTQOCUL/w0OZHR0lpKeGrxotcHWcqNEdnltqFwXVfhEBQ94eIo34AfQpo0rGki4cyIiftY06h2Fg==",
      "license": "ISC",
      "engines": {
        "node": "6.* || 8.* || >= 10.*"
      }
    },
    "node_modules/get-stream": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/get-stream/-/get-stream-5.2.0.tgz",
      "integrity": "sha512-nBF+F1rAZVCu/p7rjzgA+Yb4lfYXrpl7a6VmJrU8wF9I1CKvP/QwPNZHnOlwbTkY6dvtFIzFMSyQXbLoTQPRpA==",
      "license": "MIT",
      "dependencies": {
        "pump": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/get-tsconfig": {
      "version": "4.10.1",
      "resolved": "https://registry.npmjs.org/get-tsconfig/-/get-tsconfig-4.10.1.tgz",
      "integrity": "sha512-auHyJ4AgMz7vgS8Hp3N6HXSmlMdUyhSUrfBF16w153rxtLIEOE+HGqaBppczZvnHLqQJfiHotCYpNhl0lUROFQ==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "resolve-pkg-maps": "^1.0.0"
      },
      "funding": {
        "url": "https://github.com/privatenumber/get-tsconfig?sponsor=1"
      }
    },
    "node_modules/get-uri": {
      "version": "6.0.5",
      "resolved": "https://registry.npmjs.org/get-uri/-/get-uri-6.0.5.tgz",
      "integrity": "sha512-b1O07XYq8eRuVzBNgJLstU6FYc1tS6wnMtF1I1D9lE8LxZSOGZ7LhxN54yPP6mGw5f2CkXY2BQUL9Fx41qvcIg==",
      "license": "MIT",
      "dependencies": {
        "basic-ftp": "^5.0.2",
        "data-uri-to-buffer": "^6.0.2",
        "debug": "^4.3.4"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/glob": {
      "version": "10.4.5",
      "resolved": "https://registry.npmjs.org/glob/-/glob-10.4.5.tgz",
      "integrity": "sha512-7Bv8RF0k6xjo7d4A/PxYLbUCfb6c+Vpd2/mB2yRDlew7Jb5hEXiCD9ibfO7wpk8i4sevK6DFny9h7EYbM3/sHg==",
      "license": "ISC",
      "dependencies": {
        "foreground-child": "^3.1.0",
        "jackspeak": "^3.1.2",
        "minimatch": "^9.0.4",
        "minipass": "^7.1.2",
        "package-json-from-dist": "^1.0.0",
        "path-scurry": "^1.11.1"
      },
      "bin": {
        "glob": "dist/esm/bin.mjs"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/glob-parent": {
      "version": "6.0.2",
      "resolved": "https://registry.npmjs.org/glob-parent/-/glob-parent-6.0.2.tgz",
      "integrity": "sha512-XxwI8EOhVQgWp6iDL+3b0r86f4d6AX6zSU55HfB4ydCEuXLXc5FcYeOu+nnGftS4TEju/11rt4KJPTMgbfmv4A==",
      "license": "ISC",
      "dependencies": {
        "is-glob": "^4.0.3"
      },
      "engines": {
        "node": ">=10.13.0"
      }
    },
    "node_modules/graceful-fs": {
      "version": "4.2.11",
      "resolved": "https://registry.npmjs.org/graceful-fs/-/graceful-fs-4.2.11.tgz",
      "integrity": "sha512-RbJ5/jmFcNNCcDV5o9eTnBLJ/HszWV0P73bc+Ff4nS/rJj+YaS6IGyiOL0VoBYX+l1Wrl3k63h/KrH+nhJ0XvQ==",
      "license": "ISC"
    },
    "node_modules/hasown": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/hasown/-/hasown-2.0.2.tgz",
      "integrity": "sha512-0hJU9SCPvmMzIBdZFqNPXWa6dqh7WdH0cII9y+CyS8rG3nL48Bclra9HmKhVVUHyPWNH5Y7xDwAB7bfgSjkUMQ==",
      "license": "MIT",
      "dependencies": {
        "function-bind": "^1.1.2"
      },
      "engines": {
        "node": ">= 0.4"
      }
    },
    "node_modules/htmlparser2": {
      "version": "10.0.0",
      "resolved": "https://registry.npmjs.org/htmlparser2/-/htmlparser2-10.0.0.tgz",
      "integrity": "sha512-TwAZM+zE5Tq3lrEHvOlvwgj1XLWQCtaaibSN11Q+gGBAS7Y1uZSWwXXRe4iF6OXnaq1riyQAPFOBtYc77Mxq0g==",
      "funding": [
        "https://github.com/fb55/htmlparser2?sponsor=1",
        {
          "type": "github",
          "url": "https://github.com/sponsors/fb55"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "domelementtype": "^2.3.0",
        "domhandler": "^5.0.3",
        "domutils": "^3.2.1",
        "entities": "^6.0.0"
      }
    },
    "node_modules/htmlparser2/node_modules/entities": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/entities/-/entities-6.0.1.tgz",
      "integrity": "sha512-aN97NXWF6AWBTahfVOIrB/NShkzi5H7F9r1s9mD3cDj4Ko5f2qhhVoYMibXF7GlLveb/D2ioWay8lxI97Ven3g==",
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=0.12"
      },
      "funding": {
        "url": "https://github.com/fb55/entities?sponsor=1"
      }
    },
    "node_modules/http-proxy-agent": {
      "version": "7.0.2",
      "resolved": "https://registry.npmjs.org/http-proxy-agent/-/http-proxy-agent-7.0.2.tgz",
      "integrity": "sha512-T1gkAiYYDWYx3V5Bmyu7HcfcvL7mUrTWiM6yOfa3PIphViJ/gFPbvidQ+veqSOHci/PxBcDabeUNCzpOODJZig==",
      "license": "MIT",
      "dependencies": {
        "agent-base": "^7.1.0",
        "debug": "^4.3.4"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/https-proxy-agent": {
      "version": "7.0.6",
      "resolved": "https://registry.npmjs.org/https-proxy-agent/-/https-proxy-agent-7.0.6.tgz",
      "integrity": "sha512-vK9P5/iUfdl95AI+JVyUuIcVtd4ofvtrOr3HNtM2yxC9bnMbEdp3x01OhQNnjb8IJYi38VlTE3mBXwcfvywuSw==",
      "license": "MIT",
      "dependencies": {
        "agent-base": "^7.1.2",
        "debug": "4"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/iconv-lite": {
      "version": "0.6.3",
      "resolved": "https://registry.npmjs.org/iconv-lite/-/iconv-lite-0.6.3.tgz",
      "integrity": "sha512-4fCk79wshMdzMp2rH06qWrJE4iolqLhCUH+OiuIgU++RB0+94NlDL81atO7GX55uUKueo0txHNtvEyI6D7WdMw==",
      "license": "MIT",
      "dependencies": {
        "safer-buffer": ">= 2.1.2 < 3.0.0"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/ieee754": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/ieee754/-/ieee754-1.2.1.tgz",
      "integrity": "sha512-dcyqhDvX1C46lXZcVqCpK+FtMRQVdIMN6/Df5js2zouUsqG7I6sFxitIC+7KYK29KdXOLHdu9zL4sFnoVQnqaA==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "BSD-3-Clause"
    },
    "node_modules/import-fresh": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/import-fresh/-/import-fresh-3.3.1.tgz",
      "integrity": "sha512-TR3KfrTZTYLPB6jUjfx6MF9WcWrHL9su5TObK4ZkYgBdWKPOFoSoQIdEuTuR82pmtxH2spWG9h6etwfr1pLBqQ==",
      "license": "MIT",
      "dependencies": {
        "parent-module": "^1.0.0",
        "resolve-from": "^4.0.0"
      },
      "engines": {
        "node": ">=6"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/internmap": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/internmap/-/internmap-2.0.3.tgz",
      "integrity": "sha512-5Hh7Y1wQbvY5ooGgPbDaL5iYLAPzMTUrjMulskHLH6wnv/A+1q5rgEaiuqEjB+oxGXIVZs1FF+R/KPN3ZSQYYg==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/ip-address": {
      "version": "10.0.1",
      "resolved": "https://registry.npmjs.org/ip-address/-/ip-address-10.0.1.tgz",
      "integrity": "sha512-NWv9YLW4PoW2B7xtzaS3NCot75m6nK7Icdv0o3lfMceJVRfSoQwqD4wEH5rLwoKJwUiZ/rfpiVBhnaF0FK4HoA==",
      "license": "MIT",
      "engines": {
        "node": ">= 12"
      }
    },
    "node_modules/is-arrayish": {
      "version": "0.3.2",
      "resolved": "https://registry.npmjs.org/is-arrayish/-/is-arrayish-0.3.2.tgz",
      "integrity": "sha512-eVRqCvVlZbuw3GrM63ovNSNAeA1K16kaR/LRY/92w0zxQ5/1YzwblUX652i4Xs9RwAGjW9d9y6X88t8OaAJfWQ==",
      "license": "MIT",
      "optional": true
    },
    "node_modules/is-binary-path": {
      "version": "2.1.0",
      "resolved": "https://registry.npmjs.org/is-binary-path/-/is-binary-path-2.1.0.tgz",
      "integrity": "sha512-ZMERYes6pDydyuGidse7OsHxtbI7WVeUEozgR/g7rd0xUimYNlvZRE/K2MgZTjWy725IfelLeVcEM97mmtRGXw==",
      "license": "MIT",
      "dependencies": {
        "binary-extensions": "^2.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-buffer": {
      "version": "2.0.5",
      "resolved": "https://registry.npmjs.org/is-buffer/-/is-buffer-2.0.5.tgz",
      "integrity": "sha512-i2R6zNFDwgEHJyQUtJEk0XFi1i0dPFn/oqjK3/vPCcDeJvW5NQ83V8QbicfF1SupOaB0h8ntgBC2YiE7dfyctQ==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT",
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/is-core-module": {
      "version": "2.16.1",
      "resolved": "https://registry.npmjs.org/is-core-module/-/is-core-module-2.16.1.tgz",
      "integrity": "sha512-UfoeMA6fIJ8wTYFEUjelnaGI67v6+N7qXJEvQuIGa99l4xsCruSYOVSQ0uPANn4dAzm8lkYPaKLrrijLq7x23w==",
      "license": "MIT",
      "dependencies": {
        "hasown": "^2.0.2"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/is-extglob": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz",
      "integrity": "sha512-SbKbANkN603Vi4jEZv49LeVJMn4yGwsbzZworEoyEiutsN3nJYdbO36zfhGJ6QEDpOZIFkDtnq5JRxmvl3jsoQ==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-fullwidth-code-point": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/is-fullwidth-code-point/-/is-fullwidth-code-point-3.0.0.tgz",
      "integrity": "sha512-zymm5+u+sCsSWyD9qNaejV3DFvhCKclKdizYaJUuHA83RLjb7nSuGnddCHGv0hk+KY7BMAlsWeK4Ueg6EV6XQg==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/is-glob": {
      "version": "4.0.3",
      "resolved": "https://registry.npmjs.org/is-glob/-/is-glob-4.0.3.tgz",
      "integrity": "sha512-xelSayHH36ZgE7ZWhli7pW34hNbNl8Ojv5KVmkJD4hBdD3th8Tfk9vYasLM+mXWOZhFkgZfxhLSnrwRr4elSSg==",
      "license": "MIT",
      "dependencies": {
        "is-extglob": "^2.1.1"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/is-number": {
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz",
      "integrity": "sha512-41Cifkg6e8TylSpdtTpeLVMqvSBEVzTttHvERD741+pnZ8ANv0004MRL43QKPDlK9cGvNp6NZWZUBlbGXYxxng==",
      "license": "MIT",
      "engines": {
        "node": ">=0.12.0"
      }
    },
    "node_modules/is-plain-object": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/is-plain-object/-/is-plain-object-5.0.0.tgz",
      "integrity": "sha512-VRSzKkbMm5jMDoKLbltAkFQ5Qr7VDiTFGXxYFXXowVj387GeGNOCsOH6Msy00SGZ3Fp84b1Naa1psqgcCIEP5Q==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/isexe": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/isexe/-/isexe-2.0.0.tgz",
      "integrity": "sha512-RHxMLp9lnKHGHRng9QFhRCMbYAcVpn69smSGcq3f36xjgVVWThj4qqLbTLlq7Ssj8B+fIQ1EuCEGI2lKsyQeIw==",
      "license": "ISC"
    },
    "node_modules/jackspeak": {
      "version": "3.4.3",
      "resolved": "https://registry.npmjs.org/jackspeak/-/jackspeak-3.4.3.tgz",
      "integrity": "sha512-OGlZQpz2yfahA/Rd1Y8Cd9SIEsqvXkLVoSw/cgwhnhFMDbsQFeZYoJJ7bIZBS9BcamUW96asq/npPWugM+RQBw==",
      "license": "BlueOak-1.0.0",
      "dependencies": {
        "@isaacs/cliui": "^8.0.2"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      },
      "optionalDependencies": {
        "@pkgjs/parseargs": "^0.11.0"
      }
    },
    "node_modules/jiti": {
      "version": "2.5.1",
      "resolved": "https://registry.npmjs.org/jiti/-/jiti-2.5.1.tgz",
      "integrity": "sha512-twQoecYPiVA5K/h6SxtORw/Bs3ar+mLUtoPSc7iMXzQzK8d7eJ/R09wmTwAjiamETn1cXYPGfNnu7DMoHgu12w==",
      "license": "MIT",
      "bin": {
        "jiti": "lib/jiti-cli.mjs"
      }
    },
    "node_modules/js-tokens": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
      "license": "MIT"
    },
    "node_modules/js-yaml": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/js-yaml/-/js-yaml-4.1.0.tgz",
      "integrity": "sha512-wpxZs9NoxZaJESJGIZTyDEaYpl0FKSA+FB9aJiyemKhMwkxQg63h4T1KJgUGHpTqPDNRcmmYLugrRjJlBtWvRA==",
      "license": "MIT",
      "dependencies": {
        "argparse": "^2.0.1"
      },
      "bin": {
        "js-yaml": "bin/js-yaml.js"
      }
    },
    "node_modules/json-parse-even-better-errors": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/json-parse-even-better-errors/-/json-parse-even-better-errors-2.3.1.tgz",
      "integrity": "sha512-xyFwyhro/JEof6Ghe2iz2NcXoj2sloNsWr/XsERDK/oiPCfaNhl5ONfp+jQdAZRQQ0IJWNzH9zIZF7li91kh2w==",
      "license": "MIT"
    },
    "node_modules/lightningcss": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss/-/lightningcss-1.30.1.tgz",
      "integrity": "sha512-xi6IyHML+c9+Q3W0S4fCQJOym42pyurFiJUHEcEyHS0CeKzia4yZDEsLlqOFykxOdHpNy0NmvVO31vcSqAxJCg==",
      "license": "MPL-2.0",
      "dependencies": {
        "detect-libc": "^2.0.3"
      },
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      },
      "optionalDependencies": {
        "lightningcss-darwin-arm64": "1.30.1",
        "lightningcss-darwin-x64": "1.30.1",
        "lightningcss-freebsd-x64": "1.30.1",
        "lightningcss-linux-arm-gnueabihf": "1.30.1",
        "lightningcss-linux-arm64-gnu": "1.30.1",
        "lightningcss-linux-arm64-musl": "1.30.1",
        "lightningcss-linux-x64-gnu": "1.30.1",
        "lightningcss-linux-x64-musl": "1.30.1",
        "lightningcss-win32-arm64-msvc": "1.30.1",
        "lightningcss-win32-x64-msvc": "1.30.1"
      }
    },
    "node_modules/lightningcss-darwin-arm64": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-darwin-arm64/-/lightningcss-darwin-arm64-1.30.1.tgz",
      "integrity": "sha512-c8JK7hyE65X1MHMN+Viq9n11RRC7hgin3HhYKhrMyaXflk5GVplZ60IxyoVtzILeKr+xAJwg6zK6sjTBJ0FKYQ==",
      "cpu": [
        "arm64"
      ],
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-darwin-x64": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-darwin-x64/-/lightningcss-darwin-x64-1.30.1.tgz",
      "integrity": "sha512-k1EvjakfumAQoTfcXUcHQZhSpLlkAuEkdMBsI/ivWw9hL+7FtilQc0Cy3hrx0AAQrVtQAbMI7YjCgYgvn37PzA==",
      "cpu": [
        "x64"
      ],
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-freebsd-x64": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-freebsd-x64/-/lightningcss-freebsd-x64-1.30.1.tgz",
      "integrity": "sha512-kmW6UGCGg2PcyUE59K5r0kWfKPAVy4SltVeut+umLCFoJ53RdCUWxcRDzO1eTaxf/7Q2H7LTquFHPL5R+Gjyig==",
      "cpu": [
        "x64"
      ],
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "freebsd"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm-gnueabihf": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm-gnueabihf/-/lightningcss-linux-arm-gnueabihf-1.30.1.tgz",
      "integrity": "sha512-MjxUShl1v8pit+6D/zSPq9S9dQ2NPFSQwGvxBCYaBYLPlCWuPh9/t1MRS8iUaR8i+a6w7aps+B4N0S1TYP/R+Q==",
      "cpu": [
        "arm"
      ],
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm64-gnu": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm64-gnu/-/lightningcss-linux-arm64-gnu-1.30.1.tgz",
      "integrity": "sha512-gB72maP8rmrKsnKYy8XUuXi/4OctJiuQjcuqWNlJQ6jZiWqtPvqFziskH3hnajfvKB27ynbVCucKSm2rkQp4Bw==",
      "cpu": [
        "arm64"
      ],
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-arm64-musl": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-arm64-musl/-/lightningcss-linux-arm64-musl-1.30.1.tgz",
      "integrity": "sha512-jmUQVx4331m6LIX+0wUhBbmMX7TCfjF5FoOH6SD1CttzuYlGNVpA7QnrmLxrsub43ClTINfGSYyHe2HWeLl5CQ==",
      "cpu": [
        "arm64"
      ],
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-x64-gnu": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-x64-gnu/-/lightningcss-linux-x64-gnu-1.30.1.tgz",
      "integrity": "sha512-piWx3z4wN8J8z3+O5kO74+yr6ze/dKmPnI7vLqfSqI8bccaTGY5xiSGVIJBDd5K5BHlvVLpUB3S2YCfelyJ1bw==",
      "cpu": [
        "x64"
      ],
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-linux-x64-musl": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-linux-x64-musl/-/lightningcss-linux-x64-musl-1.30.1.tgz",
      "integrity": "sha512-rRomAK7eIkL+tHY0YPxbc5Dra2gXlI63HL+v1Pdi1a3sC+tJTcFrHX+E86sulgAXeI7rSzDYhPSeHHjqFhqfeQ==",
      "cpu": [
        "x64"
      ],
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "linux"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-win32-arm64-msvc": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-win32-arm64-msvc/-/lightningcss-win32-arm64-msvc-1.30.1.tgz",
      "integrity": "sha512-mSL4rqPi4iXq5YVqzSsJgMVFENoa4nGTT/GjO2c0Yl9OuQfPsIfncvLrEW6RbbB24WtZ3xP/2CCmI3tNkNV4oA==",
      "cpu": [
        "arm64"
      ],
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lightningcss-win32-x64-msvc": {
      "version": "1.30.1",
      "resolved": "https://registry.npmjs.org/lightningcss-win32-x64-msvc/-/lightningcss-win32-x64-msvc-1.30.1.tgz",
      "integrity": "sha512-PVqXh48wh4T53F/1CCu8PIPCxLzWyCnn/9T5W1Jpmdy5h9Cwd+0YQS6/LwhHXSafuc61/xg9Lv5OrCby6a++jg==",
      "cpu": [
        "x64"
      ],
      "license": "MPL-2.0",
      "optional": true,
      "os": [
        "win32"
      ],
      "engines": {
        "node": ">= 12.0.0"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/parcel"
      }
    },
    "node_modules/lilconfig": {
      "version": "3.1.3",
      "resolved": "https://registry.npmjs.org/lilconfig/-/lilconfig-3.1.3.tgz",
      "integrity": "sha512-/vlFKAoH5Cgt3Ie+JLhRbwOsCQePABiU3tJ1egGvyQ+33R/vcwM2Zl2QR/LzjsBeItPt3oSVXapn+m4nQDvpzw==",
      "license": "MIT",
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/antonk52"
      }
    },
    "node_modules/lines-and-columns": {
      "version": "1.2.4",
      "resolved": "https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.2.4.tgz",
      "integrity": "sha512-7ylylesZQ/PV29jhEDl3Ufjo6ZX7gCqJr5F7PKrqc93v7fzSymt1BpwEU8nAUXs8qzzvqhbjhK5QZg6Mt/HkBg==",
      "license": "MIT"
    },
    "node_modules/lodash": {
      "version": "4.17.21",
      "resolved": "https://registry.npmjs.org/lodash/-/lodash-4.17.21.tgz",
      "integrity": "sha512-v2kDEe57lecTulaDIuNTPy3Ry4gLGJ6Z1O3vE1krgXZNrsQ+LFTGHVxVjcXPs17LhbZVGedAJv8XZ1tvj5FvSg==",
      "license": "MIT"
    },
    "node_modules/lodash.castarray": {
      "version": "4.4.0",
      "resolved": "https://registry.npmjs.org/lodash.castarray/-/lodash.castarray-4.4.0.tgz",
      "integrity": "sha512-aVx8ztPv7/2ULbArGJ2Y42bG1mEQ5mGjpdvrbJcJFU3TbYybe+QlLS4pst9zV52ymy2in1KpFPiZnAOATxD4+Q==",
      "license": "MIT"
    },
    "node_modules/lodash.isplainobject": {
      "version": "4.0.6",
      "resolved": "https://registry.npmjs.org/lodash.isplainobject/-/lodash.isplainobject-4.0.6.tgz",
      "integrity": "sha512-oSXzaWypCMHkPC3NvBEaPHf0KsA5mvPrOPgQWDsbg8n7orZ290M0BmC/jgRZ4vcJ6DTAhjrsSYgdsW/F+MFOBA==",
      "license": "MIT"
    },
    "node_modules/lodash.merge": {
      "version": "4.6.2",
      "resolved": "https://registry.npmjs.org/lodash.merge/-/lodash.merge-4.6.2.tgz",
      "integrity": "sha512-0KpjqXRVvrYyCsX1swR/XTK0va6VQkQM6MNo7PqW77ByjAhoARA8EfrP1N4+KlKj8YS0ZUCtRT/YUuhyYDujIQ==",
      "license": "MIT"
    },
    "node_modules/loose-envify": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/loose-envify/-/loose-envify-1.4.0.tgz",
      "integrity": "sha512-lyuxPGr/Wfhrlem2CL/UcnUc1zcqKAImBDzukY7Y5F/yQiNdko6+fRLevlw1HgMySw7f611UIY408EtxRSoK3Q==",
      "license": "MIT",
      "dependencies": {
        "js-tokens": "^3.0.0 || ^4.0.0"
      },
      "bin": {
        "loose-envify": "cli.js"
      }
    },
    "node_modules/lru-cache": {
      "version": "7.18.3",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-7.18.3.tgz",
      "integrity": "sha512-jumlc0BIUrS3qJGgIkWZsyfAM7NCWiBcCDhnd+3NNM5KbBmLTgHVfWBcg6W+rLUsIpzpERPsvwUP7CckAQSOoA==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/lucide-react": {
      "version": "0.451.0",
      "resolved": "https://registry.npmjs.org/lucide-react/-/lucide-react-0.451.0.tgz",
      "integrity": "sha512-OwQ3uljZLp2cerj8sboy5rnhtGTCl9UCJIhT1J85/yOuGVlEH+xaUPR7tvNdddPvmV5M5VLdr7cQuWE3hzA4jw==",
      "license": "ISC",
      "peerDependencies": {
        "react": "^16.5.1 || ^17.0.0 || ^18.0.0 || ^19.0.0-rc"
      }
    },
    "node_modules/magic-string": {
      "version": "0.30.17",
      "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.17.tgz",
      "integrity": "sha512-sNPKHvyjVf7gyjwS4xGTaW/mCnF8wnjtifKBEhxfZ7E/S8tQ0rssrwGNn6q8JH/ohItJfSQp9mBtQYuTlH5QnA==",
      "license": "MIT",
      "dependencies": {
        "@jridgewell/sourcemap-codec": "^1.5.0"
      }
    },
    "node_modules/merge2": {
      "version": "1.4.1",
      "resolved": "https://registry.npmjs.org/merge2/-/merge2-1.4.1.tgz",
      "integrity": "sha512-8q7VEgMJW4J8tcfVPy8g09NcQwZdbwFEqhe/WZkoIzjn/3TGDwtOCYtXGxA3O8tPzpczCCDgv+P2P5y00ZJOOg==",
      "license": "MIT",
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/micromatch": {
      "version": "4.0.8",
      "resolved": "https://registry.npmjs.org/micromatch/-/micromatch-4.0.8.tgz",
      "integrity": "sha512-PXwfBhYu0hBCPw8Dn0E+WDYb7af3dSLVWKi3HGv84IdF4TyFoC0ysxFd0Goxw7nSv4T/PzEJQxsYsEiFCKo2BA==",
      "license": "MIT",
      "dependencies": {
        "braces": "^3.0.3",
        "picomatch": "^2.3.1"
      },
      "engines": {
        "node": ">=8.6"
      }
    },
    "node_modules/minimatch": {
      "version": "9.0.5",
      "resolved": "https://registry.npmjs.org/minimatch/-/minimatch-9.0.5.tgz",
      "integrity": "sha512-G6T0ZX48xgozx7587koeX9Ys2NYy6Gmv//P89sEte9V9whIapMNF4idKxnW2QtCcLiTWlb/wfCabAtAFWhhBow==",
      "license": "ISC",
      "dependencies": {
        "brace-expansion": "^2.0.1"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/minipass": {
      "version": "7.1.2",
      "resolved": "https://registry.npmjs.org/minipass/-/minipass-7.1.2.tgz",
      "integrity": "sha512-qOOzS1cBTWYF4BH8fVePDBOO9iptMnGUEZwNc/cMWnTV2nVLZ7VoNWEPHkYczZA0pdoA7dl6e7FL659nX9S2aw==",
      "license": "ISC",
      "engines": {
        "node": ">=16 || 14 >=14.17"
      }
    },
    "node_modules/minizlib": {
      "version": "3.0.2",
      "resolved": "https://registry.npmjs.org/minizlib/-/minizlib-3.0.2.tgz",
      "integrity": "sha512-oG62iEk+CYt5Xj2YqI5Xi9xWUeZhDI8jjQmC5oThVH5JGCTgIjr7ciJDzC7MBzYd//WvR1OTmP5Q38Q8ShQtVA==",
      "license": "MIT",
      "dependencies": {
        "minipass": "^7.1.2"
      },
      "engines": {
        "node": ">= 18"
      }
    },
    "node_modules/mitt": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/mitt/-/mitt-3.0.1.tgz",
      "integrity": "sha512-vKivATfr97l2/QBCYAkXYDbrIWPM2IIKEl7YPhjCvKlG3kE2gm+uBo6nEXK3M5/Ffh/FLpKExzOQ3JJoJGFKBw==",
      "license": "MIT"
    },
    "node_modules/mkdirp": {
      "version": "3.0.1",
      "resolved": "https://registry.npmjs.org/mkdirp/-/mkdirp-3.0.1.tgz",
      "integrity": "sha512-+NsyUUAZDmo6YVHzL/stxSu3t9YS1iljliy3BSDrXJ/dkn1KYdmtZODGGjLcc9XLgVVpH4KshHB8XmZgMhaBXg==",
      "license": "MIT",
      "bin": {
        "mkdirp": "dist/cjs/src/bin.js"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/ms": {
      "version": "2.1.3",
      "resolved": "https://registry.npmjs.org/ms/-/ms-2.1.3.tgz",
      "integrity": "sha512-6FlzubTLZG3J2a/NVCAleEhjzq5oxgHyaCU9yYXvcLsvoVaHJq/s5xXI6/XXP6tz7R9xAOtHnSO/tXtF3WRTlA==",
      "license": "MIT"
    },
    "node_modules/mz": {
      "version": "2.7.0",
      "resolved": "https://registry.npmjs.org/mz/-/mz-2.7.0.tgz",
      "integrity": "sha512-z81GNO7nnYMEhrGh9LeymoE4+Yr0Wn5McHIZMK5cfQCl+NDX08sCZgUc9/6MHni9IWuFLm1Z3HTCXu2z9fN62Q==",
      "license": "MIT",
      "dependencies": {
        "any-promise": "^1.0.0",
        "object-assign": "^4.0.1",
        "thenify-all": "^1.0.0"
      }
    },
    "node_modules/nanoid": {
      "version": "3.3.11",
      "resolved": "https://registry.npmjs.org/nanoid/-/nanoid-3.3.11.tgz",
      "integrity": "sha512-N8SpfPUnUp1bK+PMYW8qSWdl9U+wwNWI4QKxOYDy9JAro3WMX7p2OeVRF9v+347pnakNevPmiHhNmZ2HbFA76w==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "bin": {
        "nanoid": "bin/nanoid.cjs"
      },
      "engines": {
        "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
      }
    },
    "node_modules/netmask": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/netmask/-/netmask-2.0.2.tgz",
      "integrity": "sha512-dBpDMdxv9Irdq66304OLfEmQ9tbNRFnFTuZiLo+bD+r332bBmMJ8GBLXklIXXgxd3+v9+KUnZaUR5PJMa75Gsg==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4.0"
      }
    },
    "node_modules/next": {
      "version": "15.4.6",
      "resolved": "https://registry.npmjs.org/next/-/next-15.4.6.tgz",
      "integrity": "sha512-us++E/Q80/8+UekzB3SAGs71AlLDsadpFMXVNM/uQ0BMwsh9m3mr0UNQIfjKed8vpWXsASe+Qifrnu1oLIcKEQ==",
      "license": "MIT",
      "dependencies": {
        "@next/env": "15.4.6",
        "@swc/helpers": "0.5.15",
        "caniuse-lite": "^1.0.30001579",
        "postcss": "8.4.31",
        "styled-jsx": "5.1.6"
      },
      "bin": {
        "next": "dist/bin/next"
      },
      "engines": {
        "node": "^18.18.0 || ^19.8.0 || >= 20.0.0"
      },
      "optionalDependencies": {
        "@next/swc-darwin-arm64": "15.4.6",
        "@next/swc-darwin-x64": "15.4.6",
        "@next/swc-linux-arm64-gnu": "15.4.6",
        "@next/swc-linux-arm64-musl": "15.4.6",
        "@next/swc-linux-x64-gnu": "15.4.6",
        "@next/swc-linux-x64-musl": "15.4.6",
        "@next/swc-win32-arm64-msvc": "15.4.6",
        "@next/swc-win32-x64-msvc": "15.4.6",
        "sharp": "^0.34.3"
      },
      "peerDependencies": {
        "@opentelemetry/api": "^1.1.0",
        "@playwright/test": "^1.51.1",
        "babel-plugin-react-compiler": "*",
        "react": "^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0",
        "react-dom": "^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0",
        "sass": "^1.3.0"
      },
      "peerDependenciesMeta": {
        "@opentelemetry/api": {
          "optional": true
        },
        "@playwright/test": {
          "optional": true
        },
        "babel-plugin-react-compiler": {
          "optional": true
        },
        "sass": {
          "optional": true
        }
      }
    },
    "node_modules/next/node_modules/postcss": {
      "version": "8.4.31",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.4.31.tgz",
      "integrity": "sha512-PS08Iboia9mts/2ygV3eLpY5ghnUcfLV/EXTOW1E2qYxJKGGBUtNjN76FYHnMs36RmARn41bC0AZmn+rR0OVpQ==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "nanoid": "^3.3.6",
        "picocolors": "^1.0.0",
        "source-map-js": "^1.0.2"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/node-releases": {
      "version": "2.0.19",
      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.19.tgz",
      "integrity": "sha512-xxOWJsBKtzAq7DY0J+DTzuz58K8e7sJbdgwkbMWQe8UYB6ekmsQ45q0M/tJDsGaZmbC+l7n57UV8Hl5tHxO9uw==",
      "license": "MIT"
    },
    "node_modules/normalize-path": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/normalize-path/-/normalize-path-3.0.0.tgz",
      "integrity": "sha512-6eZs5Ls3WtCisHWp9S2GUy8dqkpGi4BVSz3GaqiE6ezub0512ESztXUwUB6C6IKbQkY2Pnb/mD4WYojCRwcwLA==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/normalize-range": {
      "version": "0.1.2",
      "resolved": "https://registry.npmjs.org/normalize-range/-/normalize-range-0.1.2.tgz",
      "integrity": "sha512-bdok/XvKII3nUpklnV6P2hxtMNrCboOjAcyBuQnWEhO665FwrSNRxU+AqpsyvO6LgGYPspN+lu5CLtw4jPRKNA==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/nth-check": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/nth-check/-/nth-check-2.1.1.tgz",
      "integrity": "sha512-lqjrjmaOoAnWfMmBPL+XNnynZh2+swxiX3WUE0s4yEHI6m+AwrK2UZOimIRl3X/4QctVqS8AiZjFqyOGrMXb/w==",
      "license": "BSD-2-Clause",
      "dependencies": {
        "boolbase": "^1.0.0"
      },
      "funding": {
        "url": "https://github.com/fb55/nth-check?sponsor=1"
      }
    },
    "node_modules/object-assign": {
      "version": "4.1.1",
      "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
      "integrity": "sha512-rJgTQnkUnH1sFw8yT6VSU3zD3sWmu6sZhIseY8VX+GRu3P6F7Fu+JNDoXfklElbLJSnc3FUQHVe4cU5hj+BcUg==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/object-hash": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/object-hash/-/object-hash-3.0.0.tgz",
      "integrity": "sha512-RSn9F68PjH9HqtltsSnqYC1XXoWe9Bju5+213R98cNGttag9q9yAOTzdbsqvIa7aNm5WffBZFpWYr2aWrklWAw==",
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/once": {
      "version": "1.4.0",
      "resolved": "https://registry.npmjs.org/once/-/once-1.4.0.tgz",
      "integrity": "sha512-lNaJgI+2Q5URQBkccEKHTQOPaXdUxnZZElQTZY0MFUAuaEqe1E+Nyvgdz/aIyNi6Z9MzO5dv1H8n58/GELp3+w==",
      "license": "ISC",
      "dependencies": {
        "wrappy": "1"
      }
    },
    "node_modules/pac-proxy-agent": {
      "version": "7.2.0",
      "resolved": "https://registry.npmjs.org/pac-proxy-agent/-/pac-proxy-agent-7.2.0.tgz",
      "integrity": "sha512-TEB8ESquiLMc0lV8vcd5Ql/JAKAoyzHFXaStwjkzpOpC5Yv+pIzLfHvjTSdf3vpa2bMiUQrg9i6276yn8666aA==",
      "license": "MIT",
      "dependencies": {
        "@tootallnate/quickjs-emscripten": "^0.23.0",
        "agent-base": "^7.1.2",
        "debug": "^4.3.4",
        "get-uri": "^6.0.1",
        "http-proxy-agent": "^7.0.0",
        "https-proxy-agent": "^7.0.6",
        "pac-resolver": "^7.0.1",
        "socks-proxy-agent": "^8.0.5"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/pac-resolver": {
      "version": "7.0.1",
      "resolved": "https://registry.npmjs.org/pac-resolver/-/pac-resolver-7.0.1.tgz",
      "integrity": "sha512-5NPgf87AT2STgwa2ntRMr45jTKrYBGkVU36yT0ig/n/GMAa3oPqhZfIQ2kMEimReg0+t9kZViDVZ83qfVUlckg==",
      "license": "MIT",
      "dependencies": {
        "degenerator": "^5.0.0",
        "netmask": "^2.0.2"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/package-json-from-dist": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/package-json-from-dist/-/package-json-from-dist-1.0.1.tgz",
      "integrity": "sha512-UEZIS3/by4OC8vL3P2dTXRETpebLI2NiI5vIrjaD/5UtrkFX/tNbwjTSRAGC/+7CAo2pIcBaRgWmcBBHcsaCIw==",
      "license": "BlueOak-1.0.0"
    },
    "node_modules/parent-module": {
      "version": "1.0.1",
      "resolved": "https://registry.npmjs.org/parent-module/-/parent-module-1.0.1.tgz",
      "integrity": "sha512-GQ2EWRpQV8/o+Aw8YqtfZZPfNRWZYkbidE9k5rpl/hC3vtHHBfGm2Ifi6qWV+coDGkrUKZAxE3Lot5kcsRlh+g==",
      "license": "MIT",
      "dependencies": {
        "callsites": "^3.0.0"
      },
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/parse-json": {
      "version": "5.2.0",
      "resolved": "https://registry.npmjs.org/parse-json/-/parse-json-5.2.0.tgz",
      "integrity": "sha512-ayCKvm/phCGxOkYRSCM82iDwct8/EonSEgCSxWxD7ve6jHggsFl4fZVQBPRNgQoKiuV/odhFrGzQXZwbifC8Rg==",
      "license": "MIT",
      "dependencies": {
        "@babel/code-frame": "^7.0.0",
        "error-ex": "^1.3.1",
        "json-parse-even-better-errors": "^2.3.0",
        "lines-and-columns": "^1.1.6"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/parse5": {
      "version": "7.3.0",
      "resolved": "https://registry.npmjs.org/parse5/-/parse5-7.3.0.tgz",
      "integrity": "sha512-IInvU7fabl34qmi9gY8XOVxhYyMyuH2xUNpb2q8/Y+7552KlejkRvqvD19nMoUW/uQGGbqNpA6Tufu5FL5BZgw==",
      "license": "MIT",
      "dependencies": {
        "entities": "^6.0.0"
      },
      "funding": {
        "url": "https://github.com/inikulin/parse5?sponsor=1"
      }
    },
    "node_modules/parse5-htmlparser2-tree-adapter": {
      "version": "7.1.0",
      "resolved": "https://registry.npmjs.org/parse5-htmlparser2-tree-adapter/-/parse5-htmlparser2-tree-adapter-7.1.0.tgz",
      "integrity": "sha512-ruw5xyKs6lrpo9x9rCZqZZnIUntICjQAd0Wsmp396Ul9lN/h+ifgVV1x1gZHi8euej6wTfpqX8j+BFQxF0NS/g==",
      "license": "MIT",
      "dependencies": {
        "domhandler": "^5.0.3",
        "parse5": "^7.0.0"
      },
      "funding": {
        "url": "https://github.com/inikulin/parse5?sponsor=1"
      }
    },
    "node_modules/parse5-parser-stream": {
      "version": "7.1.2",
      "resolved": "https://registry.npmjs.org/parse5-parser-stream/-/parse5-parser-stream-7.1.2.tgz",
      "integrity": "sha512-JyeQc9iwFLn5TbvvqACIF/VXG6abODeB3Fwmv/TGdLk2LfbWkaySGY72at4+Ty7EkPZj854u4CrICqNk2qIbow==",
      "license": "MIT",
      "dependencies": {
        "parse5": "^7.0.0"
      },
      "funding": {
        "url": "https://github.com/inikulin/parse5?sponsor=1"
      }
    },
    "node_modules/parse5/node_modules/entities": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/entities/-/entities-6.0.1.tgz",
      "integrity": "sha512-aN97NXWF6AWBTahfVOIrB/NShkzi5H7F9r1s9mD3cDj4Ko5f2qhhVoYMibXF7GlLveb/D2ioWay8lxI97Ven3g==",
      "license": "BSD-2-Clause",
      "engines": {
        "node": ">=0.12"
      },
      "funding": {
        "url": "https://github.com/fb55/entities?sponsor=1"
      }
    },
    "node_modules/path-key": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/path-key/-/path-key-3.1.1.tgz",
      "integrity": "sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/path-parse": {
      "version": "1.0.7",
      "resolved": "https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz",
      "integrity": "sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==",
      "license": "MIT"
    },
    "node_modules/path-scurry": {
      "version": "1.11.1",
      "resolved": "https://registry.npmjs.org/path-scurry/-/path-scurry-1.11.1.tgz",
      "integrity": "sha512-Xa4Nw17FS9ApQFJ9umLiJS4orGjm7ZzwUrwamcGQuHSzDyth9boKDaycYdDcZDuqYATXw4HFXgaqWTctW/v1HA==",
      "license": "BlueOak-1.0.0",
      "dependencies": {
        "lru-cache": "^10.2.0",
        "minipass": "^5.0.0 || ^6.0.2 || ^7.0.0"
      },
      "engines": {
        "node": ">=16 || 14 >=14.18"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/path-scurry/node_modules/lru-cache": {
      "version": "10.4.3",
      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-10.4.3.tgz",
      "integrity": "sha512-JNAzZcXrCt42VGLuYz0zfAzDfAvJWW6AfYlDBQyDV5DClI2m5sAmK+OIO7s59XfsRsWHp02jAJrRadPRGTt6SQ==",
      "license": "ISC"
    },
    "node_modules/pend": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/pend/-/pend-1.2.0.tgz",
      "integrity": "sha512-F3asv42UuXchdzt+xXqfW1OGlVBe+mxa2mqI0pg5yAHZPvFmY3Y6drSf/GQ1A86WgWEN9Kzh/WrgKa6iGcHXLg==",
      "license": "MIT"
    },
    "node_modules/picocolors": {
      "version": "1.1.1",
      "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
      "integrity": "sha512-xceH2snhtb5M9liqDsmEw56le376mTZkEX/jEb/RxNFyegNul7eNslCXP9FDj/Lcu0X8KEyMceP2ntpaHrDEVA==",
      "license": "ISC"
    },
    "node_modules/picomatch": {
      "version": "2.3.1",
      "resolved": "https://registry.npmjs.org/picomatch/-/picomatch-2.3.1.tgz",
      "integrity": "sha512-JU3teHTNjmE2VCGFzuY8EXzCDVwEqB2a8fsIvwaStHhAWJEeVd1o1QD80CU6+ZdEXXSLbSsuLwJjkCBWqRQUVA==",
      "license": "MIT",
      "engines": {
        "node": ">=8.6"
      },
      "funding": {
        "url": "https://github.com/sponsors/jonschlinkert"
      }
    },
    "node_modules/pify": {
      "version": "2.3.0",
      "resolved": "https://registry.npmjs.org/pify/-/pify-2.3.0.tgz",
      "integrity": "sha512-udgsAY+fTnvv7kI7aaxbqwWNb0AHiB0qBO89PZKPkoTmGOgdbrHDKD+0B2X4uTfJ/FT1R09r9gTsjUjNJotuog==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/pirates": {
      "version": "4.0.7",
      "resolved": "https://registry.npmjs.org/pirates/-/pirates-4.0.7.tgz",
      "integrity": "sha512-TfySrs/5nm8fQJDcBDuUng3VOUKsd7S+zqvbOTiGXHfxX4wK31ard+hoNuvkicM/2YFzlpDgABOevKSsB4G/FA==",
      "license": "MIT",
      "engines": {
        "node": ">= 6"
      }
    },
    "node_modules/playwright": {
      "version": "1.54.2",
      "resolved": "https://registry.npmjs.org/playwright/-/playwright-1.54.2.tgz",
      "integrity": "sha512-Hu/BMoA1NAdRUuulyvQC0pEqZ4vQbGfn8f7wPXcnqQmM+zct9UliKxsIkLNmz/ku7LElUNqmaiv1TG/aL5ACsw==",
      "license": "Apache-2.0",
      "dependencies": {
        "playwright-core": "1.54.2"
      },
      "bin": {
        "playwright": "cli.js"
      },
      "engines": {
        "node": ">=18"
      },
      "optionalDependencies": {
        "fsevents": "2.3.2"
      }
    },
    "node_modules/playwright-core": {
      "version": "1.54.2",
      "resolved": "https://registry.npmjs.org/playwright-core/-/playwright-core-1.54.2.tgz",
      "integrity": "sha512-n5r4HFbMmWsB4twG7tJLDN9gmBUeSPcsBZiWSE4DnYz9mJMAFqr2ID7+eGC9kpEnxExJ1epttwR59LEWCk8mtA==",
      "license": "Apache-2.0",
      "bin": {
        "playwright-core": "cli.js"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/playwright/node_modules/fsevents": {
      "version": "2.3.2",
      "resolved": "https://registry.npmjs.org/fsevents/-/fsevents-2.3.2.tgz",
      "integrity": "sha512-xiqMQR4xAeHTuB9uWm+fFRcIOgKBMiOBP+eXiyT7jsgVCq1bkVygt00oASowB7EdtpOHaaPgKt812P9ab+DDKA==",
      "hasInstallScript": true,
      "license": "MIT",
      "optional": true,
      "os": [
        "darwin"
      ],
      "engines": {
        "node": "^8.16.0 || ^10.6.0 || >=11.0.0"
      }
    },
    "node_modules/postcss": {
      "version": "8.5.6",
      "resolved": "https://registry.npmjs.org/postcss/-/postcss-8.5.6.tgz",
      "integrity": "sha512-3Ybi1tAuwAP9s0r1UQ2J4n5Y0G05bJkpUIO0/bI9MhwmD70S5aTWbXGBwxHrelT+XM1k6dM0pk+SwNkpTRN7Pg==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/postcss"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "nanoid": "^3.3.11",
        "picocolors": "^1.1.1",
        "source-map-js": "^1.2.1"
      },
      "engines": {
        "node": "^10 || ^12 || >=14"
      }
    },
    "node_modules/postcss-import": {
      "version": "15.1.0",
      "resolved": "https://registry.npmjs.org/postcss-import/-/postcss-import-15.1.0.tgz",
      "integrity": "sha512-hpr+J05B2FVYUAXHeK1YyI267J/dDDhMU6B6civm8hSY1jYJnBXxzKDKDswzJmtLHryrjhnDjqqp/49t8FALew==",
      "license": "MIT",
      "dependencies": {
        "postcss-value-parser": "^4.0.0",
        "read-cache": "^1.0.0",
        "resolve": "^1.1.7"
      },
      "engines": {
        "node": ">=14.0.0"
      },
      "peerDependencies": {
        "postcss": "^8.0.0"
      }
    },
    "node_modules/postcss-js": {
      "version": "4.0.1",
      "resolved": "https://registry.npmjs.org/postcss-js/-/postcss-js-4.0.1.tgz",
      "integrity": "sha512-dDLF8pEO191hJMtlHFPRa8xsizHaM82MLfNkUHdUtVEV3tgTp5oj+8qbEqYM57SLfc74KSbw//4SeJma2LRVIw==",
      "license": "MIT",
      "dependencies": {
        "camelcase-css": "^2.0.1"
      },
      "engines": {
        "node": "^12 || ^14 || >= 16"
      },
      "funding": {
        "type": "opencollective",
        "url": "https://opencollective.com/postcss/"
      },
      "peerDependencies": {
        "postcss": "^8.4.21"
      }
    },
    "node_modules/postcss-nested": {
      "version": "6.2.0",
      "resolved": "https://registry.npmjs.org/postcss-nested/-/postcss-nested-6.2.0.tgz",
      "integrity": "sha512-HQbt28KulC5AJzG+cZtj9kvKB93CFCdLvog1WFLf1D+xmMvPGlBstkpTEZfK5+AN9hfJocyBFCNiqyS48bpgzQ==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "postcss-selector-parser": "^6.1.1"
      },
      "engines": {
        "node": ">=12.0"
      },
      "peerDependencies": {
        "postcss": "^8.2.14"
      }
    },
    "node_modules/postcss-nested/node_modules/postcss-selector-parser": {
      "version": "6.1.2",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz",
      "integrity": "sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==",
      "license": "MIT",
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/postcss-selector-parser": {
      "version": "6.0.10",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.0.10.tgz",
      "integrity": "sha512-IQ7TZdoaqbT+LCpShg46jnZVlhWD2w6iQYAcYXfHARZ7X1t/UGhhceQDs5X0cGqKvYlHNOuv7Oa1xmb0oQuA3w==",
      "license": "MIT",
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/postcss-value-parser": {
      "version": "4.2.0",
      "resolved": "https://registry.npmjs.org/postcss-value-parser/-/postcss-value-parser-4.2.0.tgz",
      "integrity": "sha512-1NNCs6uurfkVbeXG4S8JFT9t19m45ICnif8zWLd5oPSZ50QnwMfK+H3jv408d4jw/7Bttv5axS5IiHoLaVNHeQ==",
      "license": "MIT"
    },
    "node_modules/progress": {
      "version": "2.0.3",
      "resolved": "https://registry.npmjs.org/progress/-/progress-2.0.3.tgz",
      "integrity": "sha512-7PiHtLll5LdnKIMw100I+8xJXR5gW2QwWYkT6iJva0bXitZKa/XMrSbdmg3r2Xnaidz9Qumd0VPaMrZlF9V9sA==",
      "license": "MIT",
      "engines": {
        "node": ">=0.4.0"
      }
    },
    "node_modules/prop-types": {
      "version": "15.8.1",
      "resolved": "https://registry.npmjs.org/prop-types/-/prop-types-15.8.1.tgz",
      "integrity": "sha512-oj87CgZICdulUohogVAR7AjlC0327U4el4L6eAvOqCeudMDVU0NThNaV+b9Df4dXgSP1gXMTnPdhfe/2qDH5cg==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.4.0",
        "object-assign": "^4.1.1",
        "react-is": "^16.13.1"
      }
    },
    "node_modules/prop-types/node_modules/react-is": {
      "version": "16.13.1",
      "resolved": "https://registry.npmjs.org/react-is/-/react-is-16.13.1.tgz",
      "integrity": "sha512-24e6ynE2H+OKt4kqsOvNd8kBpV65zoxbA4BVsEOB3ARVWQki/DHzaUoC5KuON/BiccDaCCTZBuOcfZs70kR8bQ==",
      "license": "MIT"
    },
    "node_modules/proxy-agent": {
      "version": "6.5.0",
      "resolved": "https://registry.npmjs.org/proxy-agent/-/proxy-agent-6.5.0.tgz",
      "integrity": "sha512-TmatMXdr2KlRiA2CyDu8GqR8EjahTG3aY3nXjdzFyoZbmB8hrBsTyMezhULIXKnC0jpfjlmiZ3+EaCzoInSu/A==",
      "license": "MIT",
      "dependencies": {
        "agent-base": "^7.1.2",
        "debug": "^4.3.4",
        "http-proxy-agent": "^7.0.1",
        "https-proxy-agent": "^7.0.6",
        "lru-cache": "^7.14.1",
        "pac-proxy-agent": "^7.1.0",
        "proxy-from-env": "^1.1.0",
        "socks-proxy-agent": "^8.0.5"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/proxy-from-env": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/proxy-from-env/-/proxy-from-env-1.1.0.tgz",
      "integrity": "sha512-D+zkORCbA9f1tdWRK0RaCR3GPv50cMxcrz4X8k5LTSUD1Dkw47mKJEZQNunItRTkWwgtaUSo1RVFRIG9ZXiFYg==",
      "license": "MIT"
    },
    "node_modules/pump": {
      "version": "3.0.3",
      "resolved": "https://registry.npmjs.org/pump/-/pump-3.0.3.tgz",
      "integrity": "sha512-todwxLMY7/heScKmntwQG8CXVkWUOdYxIvY2s0VWAAMh/nd8SoYiRaKjlr7+iCs984f2P8zvrfWcDDYVb73NfA==",
      "license": "MIT",
      "dependencies": {
        "end-of-stream": "^1.1.0",
        "once": "^1.3.1"
      }
    },
    "node_modules/puppeteer": {
      "version": "23.11.1",
      "resolved": "https://registry.npmjs.org/puppeteer/-/puppeteer-23.11.1.tgz",
      "integrity": "sha512-53uIX3KR5en8l7Vd8n5DUv90Ae9QDQsyIthaUFVzwV6yU750RjqRznEtNMBT20VthqAdemnJN+hxVdmMHKt7Zw==",
      "deprecated": "< 24.9.0 is no longer supported",
      "hasInstallScript": true,
      "license": "Apache-2.0",
      "dependencies": {
        "@puppeteer/browsers": "2.6.1",
        "chromium-bidi": "0.11.0",
        "cosmiconfig": "^9.0.0",
        "devtools-protocol": "0.0.1367902",
        "puppeteer-core": "23.11.1",
        "typed-query-selector": "^2.12.0"
      },
      "bin": {
        "puppeteer": "lib/cjs/puppeteer/node/cli.js"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/puppeteer-core": {
      "version": "23.11.1",
      "resolved": "https://registry.npmjs.org/puppeteer-core/-/puppeteer-core-23.11.1.tgz",
      "integrity": "sha512-3HZ2/7hdDKZvZQ7dhhITOUg4/wOrDRjyK2ZBllRB0ZCOi9u0cwq1ACHDjBB+nX+7+kltHjQvBRdeY7+W0T+7Gg==",
      "license": "Apache-2.0",
      "dependencies": {
        "@puppeteer/browsers": "2.6.1",
        "chromium-bidi": "0.11.0",
        "debug": "^4.4.0",
        "devtools-protocol": "0.0.1367902",
        "typed-query-selector": "^2.12.0",
        "ws": "^8.18.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/queue-microtask": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/queue-microtask/-/queue-microtask-1.2.3.tgz",
      "integrity": "sha512-NuaNSa6flKT5JaSYQzJok04JzTL1CA6aGhv5rfLW3PgqA+M2ChpZQnAC8h8i4ZFkBS8X5RqkDBHA7r4hej3K9A==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT"
    },
    "node_modules/react": {
      "version": "18.3.1",
      "resolved": "https://registry.npmjs.org/react/-/react-18.3.1.tgz",
      "integrity": "sha512-wS+hAgJShR0KhEvPJArfuPVN1+Hz1t0Y6n5jLrGQbkb4urgPE/0Rve+1kMB1v/oWgHgm4WIcV+i7F2pTVj+2iQ==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.1.0"
      },
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/react-dom": {
      "version": "18.3.1",
      "resolved": "https://registry.npmjs.org/react-dom/-/react-dom-18.3.1.tgz",
      "integrity": "sha512-5m4nQKp+rZRb09LNH59GM4BxTh9251/ylbKIbpe7TpGxfJ+9kv6BLkLBXIjjspbgbnIBNqlI23tRnTWT0snUIw==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.1.0",
        "scheduler": "^0.23.2"
      },
      "peerDependencies": {
        "react": "^18.3.1"
      }
    },
    "node_modules/react-is": {
      "version": "18.3.1",
      "resolved": "https://registry.npmjs.org/react-is/-/react-is-18.3.1.tgz",
      "integrity": "sha512-/LLMVyas0ljjAtoYiPqYiL8VWXzUUdThrmU5+n20DZv+a+ClRoevUzw5JxU+Ieh5/c87ytoTBV9G1FiKfNJdmg==",
      "license": "MIT"
    },
    "node_modules/react-smooth": {
      "version": "4.0.4",
      "resolved": "https://registry.npmjs.org/react-smooth/-/react-smooth-4.0.4.tgz",
      "integrity": "sha512-gnGKTpYwqL0Iii09gHobNolvX4Kiq4PKx6eWBCYYix+8cdw+cGo3do906l1NBPKkSWx1DghC1dlWG9L2uGd61Q==",
      "license": "MIT",
      "dependencies": {
        "fast-equals": "^5.0.1",
        "prop-types": "^15.8.1",
        "react-transition-group": "^4.4.5"
      },
      "peerDependencies": {
        "react": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0",
        "react-dom": "^16.8.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      }
    },
    "node_modules/react-transition-group": {
      "version": "4.4.5",
      "resolved": "https://registry.npmjs.org/react-transition-group/-/react-transition-group-4.4.5.tgz",
      "integrity": "sha512-pZcd1MCJoiKiBR2NRxeCRg13uCXbydPnmB4EOeRrY7480qNWO8IIgQG6zlDkm6uRMsURXPuKq0GWtiM59a5Q6g==",
      "license": "BSD-3-Clause",
      "dependencies": {
        "@babel/runtime": "^7.5.5",
        "dom-helpers": "^5.0.1",
        "loose-envify": "^1.4.0",
        "prop-types": "^15.6.2"
      },
      "peerDependencies": {
        "react": ">=16.6.0",
        "react-dom": ">=16.6.0"
      }
    },
    "node_modules/read-cache": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/read-cache/-/read-cache-1.0.0.tgz",
      "integrity": "sha512-Owdv/Ft7IjOgm/i0xvNDZ1LrRANRfew4b2prF3OWMQLxLfu3bS8FVhCsrSCMK4lR56Y9ya+AThoTpDCTxCmpRA==",
      "license": "MIT",
      "dependencies": {
        "pify": "^2.3.0"
      }
    },
    "node_modules/readdirp": {
      "version": "3.6.0",
      "resolved": "https://registry.npmjs.org/readdirp/-/readdirp-3.6.0.tgz",
      "integrity": "sha512-hOS089on8RduqdbhvQ5Z37A0ESjsqz6qnRcffsMU3495FuTdqSm+7bhJ29JvIOsBDEEnan5DPu9t3To9VRlMzA==",
      "license": "MIT",
      "dependencies": {
        "picomatch": "^2.2.1"
      },
      "engines": {
        "node": ">=8.10.0"
      }
    },
    "node_modules/recharts": {
      "version": "2.15.4",
      "resolved": "https://registry.npmjs.org/recharts/-/recharts-2.15.4.tgz",
      "integrity": "sha512-UT/q6fwS3c1dHbXv2uFgYJ9BMFHu3fwnd7AYZaEQhXuYQ4hgsxLvsUXzGdKeZrW5xopzDCvuA2N41WJ88I7zIw==",
      "license": "MIT",
      "dependencies": {
        "clsx": "^2.0.0",
        "eventemitter3": "^4.0.1",
        "lodash": "^4.17.21",
        "react-is": "^18.3.1",
        "react-smooth": "^4.0.4",
        "recharts-scale": "^0.4.4",
        "tiny-invariant": "^1.3.1",
        "victory-vendor": "^36.6.8"
      },
      "engines": {
        "node": ">=14"
      },
      "peerDependencies": {
        "react": "^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0",
        "react-dom": "^16.0.0 || ^17.0.0 || ^18.0.0 || ^19.0.0"
      }
    },
    "node_modules/recharts-scale": {
      "version": "0.4.5",
      "resolved": "https://registry.npmjs.org/recharts-scale/-/recharts-scale-0.4.5.tgz",
      "integrity": "sha512-kivNFO+0OcUNu7jQquLXAxz1FIwZj8nrj+YkOKc5694NbjCvcT6aSZiIzNzd2Kul4o4rTto8QVR9lMNtxD4G1w==",
      "license": "MIT",
      "dependencies": {
        "decimal.js-light": "^2.4.1"
      }
    },
    "node_modules/require-directory": {
      "version": "2.1.1",
      "resolved": "https://registry.npmjs.org/require-directory/-/require-directory-2.1.1.tgz",
      "integrity": "sha512-fGxEI7+wsG9xrvdjsrlmL22OMTTiHRwAMroiEeMgq8gzoLC/PQr7RsRDSTLUg/bZAZtF+TVIkHc6/4RIKrui+Q==",
      "license": "MIT",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/resolve": {
      "version": "1.22.10",
      "resolved": "https://registry.npmjs.org/resolve/-/resolve-1.22.10.tgz",
      "integrity": "sha512-NPRy+/ncIMeDlTAsuqwKIiferiawhefFJtkNSW0qZJEqMEb+qBt/77B/jGeeek+F0uOeN05CDa6HXbbIgtVX4w==",
      "license": "MIT",
      "dependencies": {
        "is-core-module": "^2.16.0",
        "path-parse": "^1.0.7",
        "supports-preserve-symlinks-flag": "^1.0.0"
      },
      "bin": {
        "resolve": "bin/resolve"
      },
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/resolve-from": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz",
      "integrity": "sha512-pb/MYmXstAkysRFx8piNI1tGFNQIFA3vkE3Gq4EuA1dF6gHp/+vgZqsCGJapvy8N3Q+4o7FwvquPJcnZ7RYy4g==",
      "license": "MIT",
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/resolve-pkg-maps": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/resolve-pkg-maps/-/resolve-pkg-maps-1.0.0.tgz",
      "integrity": "sha512-seS2Tj26TBVOC2NIc2rOe2y2ZO7efxITtLZcGSOnHHNOQ7CkiUBfw0Iw2ck6xkIhPwLhKNLS8BO+hEpngQlqzw==",
      "dev": true,
      "license": "MIT",
      "funding": {
        "url": "https://github.com/privatenumber/resolve-pkg-maps?sponsor=1"
      }
    },
    "node_modules/retry": {
      "version": "0.13.1",
      "resolved": "https://registry.npmjs.org/retry/-/retry-0.13.1.tgz",
      "integrity": "sha512-XQBQ3I8W1Cge0Seh+6gjj03LbmRFWuoszgK9ooCpwYIrhhoO80pfq4cUkU5DkknwfOfFteRwlZ56PYOGYyFWdg==",
      "license": "MIT",
      "engines": {
        "node": ">= 4"
      }
    },
    "node_modules/reusify": {
      "version": "1.1.0",
      "resolved": "https://registry.npmjs.org/reusify/-/reusify-1.1.0.tgz",
      "integrity": "sha512-g6QUff04oZpHs0eG5p83rFLhHeV00ug/Yf9nZM6fLeUrPguBTkTQOdpAWWspMh55TZfVQDPaN3NQJfbVRAxdIw==",
      "license": "MIT",
      "engines": {
        "iojs": ">=1.0.0",
        "node": ">=0.10.0"
      }
    },
    "node_modules/run-parallel": {
      "version": "1.2.0",
      "resolved": "https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz",
      "integrity": "sha512-5l4VyZR86LZ/lDxZTR6jqL8AFE2S0IFLMP26AbjsLVADxHdhB/c0GUsH+y39UfCi3dzz8OlQuPmnaJOMoDHQBA==",
      "funding": [
        {
          "type": "github",
          "url": "https://github.com/sponsors/feross"
        },
        {
          "type": "patreon",
          "url": "https://www.patreon.com/feross"
        },
        {
          "type": "consulting",
          "url": "https://feross.org/support"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "queue-microtask": "^1.2.2"
      }
    },
    "node_modules/safer-buffer": {
      "version": "2.1.2",
      "resolved": "https://registry.npmjs.org/safer-buffer/-/safer-buffer-2.1.2.tgz",
      "integrity": "sha512-YZo3K82SD7Riyi0E1EQPojLz7kpepnSQI9IyPbHHg1XXXevb5dJI7tpyN2ADxGcQbHG7vcyRHk0cbwqcQriUtg==",
      "license": "MIT"
    },
    "node_modules/scheduler": {
      "version": "0.23.2",
      "resolved": "https://registry.npmjs.org/scheduler/-/scheduler-0.23.2.tgz",
      "integrity": "sha512-UOShsPwz7NrMUqhR6t0hWjFduvOzbtv7toDH1/hIrfRNIDBnnBWd0CwJTGvTpngVlmwGCdP9/Zl/tVrDqcuYzQ==",
      "license": "MIT",
      "dependencies": {
        "loose-envify": "^1.1.0"
      }
    },
    "node_modules/semver": {
      "version": "7.7.2",
      "resolved": "https://registry.npmjs.org/semver/-/semver-7.7.2.tgz",
      "integrity": "sha512-RF0Fw+rO5AMf9MAyaRXI4AV0Ulj5lMHqVxxdSgiVbixSCXoEmmX/jk0CuJw4+3SqroYO9VoUh+HcuJivvtJemA==",
      "license": "ISC",
      "bin": {
        "semver": "bin/semver.js"
      },
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/sharp": {
      "version": "0.34.3",
      "resolved": "https://registry.npmjs.org/sharp/-/sharp-0.34.3.tgz",
      "integrity": "sha512-eX2IQ6nFohW4DbvHIOLRB3MHFpYqaqvXd3Tp5e/T/dSH83fxaNJQRvDMhASmkNTsNTVF2/OOopzRCt7xokgPfg==",
      "hasInstallScript": true,
      "license": "Apache-2.0",
      "optional": true,
      "dependencies": {
        "color": "^4.2.3",
        "detect-libc": "^2.0.4",
        "semver": "^7.7.2"
      },
      "engines": {
        "node": "^18.17.0 || ^20.3.0 || >=21.0.0"
      },
      "funding": {
        "url": "https://opencollective.com/libvips"
      },
      "optionalDependencies": {
        "@img/sharp-darwin-arm64": "0.34.3",
        "@img/sharp-darwin-x64": "0.34.3",
        "@img/sharp-libvips-darwin-arm64": "1.2.0",
        "@img/sharp-libvips-darwin-x64": "1.2.0",
        "@img/sharp-libvips-linux-arm": "1.2.0",
        "@img/sharp-libvips-linux-arm64": "1.2.0",
        "@img/sharp-libvips-linux-ppc64": "1.2.0",
        "@img/sharp-libvips-linux-s390x": "1.2.0",
        "@img/sharp-libvips-linux-x64": "1.2.0",
        "@img/sharp-libvips-linuxmusl-arm64": "1.2.0",
        "@img/sharp-libvips-linuxmusl-x64": "1.2.0",
        "@img/sharp-linux-arm": "0.34.3",
        "@img/sharp-linux-arm64": "0.34.3",
        "@img/sharp-linux-ppc64": "0.34.3",
        "@img/sharp-linux-s390x": "0.34.3",
        "@img/sharp-linux-x64": "0.34.3",
        "@img/sharp-linuxmusl-arm64": "0.34.3",
        "@img/sharp-linuxmusl-x64": "0.34.3",
        "@img/sharp-wasm32": "0.34.3",
        "@img/sharp-win32-arm64": "0.34.3",
        "@img/sharp-win32-ia32": "0.34.3",
        "@img/sharp-win32-x64": "0.34.3"
      }
    },
    "node_modules/shebang-command": {
      "version": "2.0.0",
      "resolved": "https://registry.npmjs.org/shebang-command/-/shebang-command-2.0.0.tgz",
      "integrity": "sha512-kHxr2zZpYtdmrN1qDjrrX/Z1rR1kG8Dx+gkpK1G4eXmvXswmcE1hTWBWYUzlraYw1/yZp6YuDY77YtvbN0dmDA==",
      "license": "MIT",
      "dependencies": {
        "shebang-regex": "^3.0.0"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/shebang-regex": {
      "version": "3.0.0",
      "resolved": "https://registry.npmjs.org/shebang-regex/-/shebang-regex-3.0.0.tgz",
      "integrity": "sha512-7++dFhtcx3353uBaq8DDR4NuxBetBzC7ZQOhmTQInHEd6bSrXdiEyzCvG07Z44UYdLShWUyXt5M/yhz8ekcb1A==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/signal-exit": {
      "version": "4.1.0",
      "resolved": "https://registry.npmjs.org/signal-exit/-/signal-exit-4.1.0.tgz",
      "integrity": "sha512-bzyZ1e88w9O1iNJbKnOlvYTrWPDl46O1bG0D3XInv+9tkPrxrN8jUUTiFlDkkmKWgn1M6CfIA13SuGqOa9Korw==",
      "license": "ISC",
      "engines": {
        "node": ">=14"
      },
      "funding": {
        "url": "https://github.com/sponsors/isaacs"
      }
    },
    "node_modules/simple-swizzle": {
      "version": "0.2.2",
      "resolved": "https://registry.npmjs.org/simple-swizzle/-/simple-swizzle-0.2.2.tgz",
      "integrity": "sha512-JA//kQgZtbuY83m+xT+tXJkmJncGMTFT+C+g2h2R9uxkYIrE2yy9sgmcLhCnw57/WSD+Eh3J97FPEDFnbXnDUg==",
      "license": "MIT",
      "optional": true,
      "dependencies": {
        "is-arrayish": "^0.3.1"
      }
    },
    "node_modules/smart-buffer": {
      "version": "4.2.0",
      "resolved": "https://registry.npmjs.org/smart-buffer/-/smart-buffer-4.2.0.tgz",
      "integrity": "sha512-94hK0Hh8rPqQl2xXc3HsaBoOXKV20MToPkcXvwbISWLEs+64sBq5kFgn2kJDHb1Pry9yrP0dxrCI9RRci7RXKg==",
      "license": "MIT",
      "engines": {
        "node": ">= 6.0.0",
        "npm": ">= 3.0.0"
      }
    },
    "node_modules/socks": {
      "version": "2.8.7",
      "resolved": "https://registry.npmjs.org/socks/-/socks-2.8.7.tgz",
      "integrity": "sha512-HLpt+uLy/pxB+bum/9DzAgiKS8CX1EvbWxI4zlmgGCExImLdiad2iCwXT5Z4c9c3Eq8rP2318mPW2c+QbtjK8A==",
      "license": "MIT",
      "dependencies": {
        "ip-address": "^10.0.1",
        "smart-buffer": "^4.2.0"
      },
      "engines": {
        "node": ">= 10.0.0",
        "npm": ">= 3.0.0"
      }
    },
    "node_modules/socks-proxy-agent": {
      "version": "8.0.5",
      "resolved": "https://registry.npmjs.org/socks-proxy-agent/-/socks-proxy-agent-8.0.5.tgz",
      "integrity": "sha512-HehCEsotFqbPW9sJ8WVYB6UbmIMv7kUUORIF2Nncq4VQvBfNBLibW9YZR5dlYCSUhwcD628pRllm7n+E+YTzJw==",
      "license": "MIT",
      "dependencies": {
        "agent-base": "^7.1.2",
        "debug": "^4.3.4",
        "socks": "^2.8.3"
      },
      "engines": {
        "node": ">= 14"
      }
    },
    "node_modules/source-map": {
      "version": "0.6.1",
      "resolved": "https://registry.npmjs.org/source-map/-/source-map-0.6.1.tgz",
      "integrity": "sha512-UjgapumWlbMhkBgzT7Ykc5YXUT46F0iKu8SGXq0bcwP5dz/h0Plj6enJqjz1Zbq2l5WaqYnrVbwWOWMyF3F47g==",
      "license": "BSD-3-Clause",
      "optional": true,
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/source-map-js": {
      "version": "1.2.1",
      "resolved": "https://registry.npmjs.org/source-map-js/-/source-map-js-1.2.1.tgz",
      "integrity": "sha512-UXWMKhLOwVKb728IUtQPXxfYU+usdybtUrK/8uGE8CQMvrhOpwvzDBwj0QhSL7MQc7vIsISBG8VQ8+IDQxpfQA==",
      "license": "BSD-3-Clause",
      "engines": {
        "node": ">=0.10.0"
      }
    },
    "node_modules/streamx": {
      "version": "2.22.1",
      "resolved": "https://registry.npmjs.org/streamx/-/streamx-2.22.1.tgz",
      "integrity": "sha512-znKXEBxfatz2GBNK02kRnCXjV+AA4kjZIUxeWSr3UGirZMJfTE9uiwKHobnbgxWyL/JWro8tTq+vOqAK1/qbSA==",
      "license": "MIT",
      "dependencies": {
        "fast-fifo": "^1.3.2",
        "text-decoder": "^1.1.0"
      },
      "optionalDependencies": {
        "bare-events": "^2.2.0"
      }
    },
    "node_modules/string-width": {
      "version": "5.1.2",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-5.1.2.tgz",
      "integrity": "sha512-HnLOCR3vjcY8beoNLtcjZ5/nxn2afmME6lhrDrebokqMap+XbeW8n9TXpPDOqdGK5qcI3oT0GKTW6wC7EMiVqA==",
      "license": "MIT",
      "dependencies": {
        "eastasianwidth": "^0.2.0",
        "emoji-regex": "^9.2.2",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/sponsors/sindresorhus"
      }
    },
    "node_modules/string-width-cjs": {
      "name": "string-width",
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/string-width-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "license": "MIT"
    },
    "node_modules/string-width-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi": {
      "version": "7.1.0",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-7.1.0.tgz",
      "integrity": "sha512-iq6eVVI64nQQTRYq2KtEg2d2uU7LElhTJwsH4YzIHZshxlgZms/wIc4VoDQTlG/IvVIrBKG06CrZnp0qv7hkcQ==",
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^6.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/strip-ansi?sponsor=1"
      }
    },
    "node_modules/strip-ansi-cjs": {
      "name": "strip-ansi",
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/strip-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/styled-jsx": {
      "version": "5.1.6",
      "resolved": "https://registry.npmjs.org/styled-jsx/-/styled-jsx-5.1.6.tgz",
      "integrity": "sha512-qSVyDTeMotdvQYoHWLNGwRFJHC+i+ZvdBRYosOFgC+Wg1vx4frN2/RG/NA7SYqqvKNLf39P2LSRA2pu6n0XYZA==",
      "license": "MIT",
      "dependencies": {
        "client-only": "0.0.1"
      },
      "engines": {
        "node": ">= 12.0.0"
      },
      "peerDependencies": {
        "react": ">= 16.8.0 || 17.x.x || ^18.0.0-0 || ^19.0.0-0"
      },
      "peerDependenciesMeta": {
        "@babel/core": {
          "optional": true
        },
        "babel-plugin-macros": {
          "optional": true
        }
      }
    },
    "node_modules/sucrase": {
      "version": "3.35.0",
      "resolved": "https://registry.npmjs.org/sucrase/-/sucrase-3.35.0.tgz",
      "integrity": "sha512-8EbVDiu9iN/nESwxeSxDKe0dunta1GOlHufmSSXxMD2z2/tMZpDMpvXQGsc+ajGo8y2uYUmixaSRUc/QPoQ0GA==",
      "license": "MIT",
      "dependencies": {
        "@jridgewell/gen-mapping": "^0.3.2",
        "commander": "^4.0.0",
        "glob": "^10.3.10",
        "lines-and-columns": "^1.1.6",
        "mz": "^2.7.0",
        "pirates": "^4.0.1",
        "ts-interface-checker": "^0.1.9"
      },
      "bin": {
        "sucrase": "bin/sucrase",
        "sucrase-node": "bin/sucrase-node"
      },
      "engines": {
        "node": ">=16 || 14 >=14.17"
      }
    },
    "node_modules/supports-preserve-symlinks-flag": {
      "version": "1.0.0",
      "resolved": "https://registry.npmjs.org/supports-preserve-symlinks-flag/-/supports-preserve-symlinks-flag-1.0.0.tgz",
      "integrity": "sha512-ot0WnXS9fgdkgIcePe6RHNk1WA8+muPa6cSjeR3V8K27q9BB1rTE3R1p7Hv0z1ZyAc8s6Vvv8DIyWf681MAt0w==",
      "license": "MIT",
      "engines": {
        "node": ">= 0.4"
      },
      "funding": {
        "url": "https://github.com/sponsors/ljharb"
      }
    },
    "node_modules/tailwindcss": {
      "version": "3.4.17",
      "resolved": "https://registry.npmjs.org/tailwindcss/-/tailwindcss-3.4.17.tgz",
      "integrity": "sha512-w33E2aCvSDP0tW9RZuNXadXlkHXqFzSkQew/aIa2i/Sj8fThxwovwlXHSPXTbAHwEIhBFXAedUhP2tueAKP8Og==",
      "license": "MIT",
      "dependencies": {
        "@alloc/quick-lru": "^5.2.0",
        "arg": "^5.0.2",
        "chokidar": "^3.6.0",
        "didyoumean": "^1.2.2",
        "dlv": "^1.1.3",
        "fast-glob": "^3.3.2",
        "glob-parent": "^6.0.2",
        "is-glob": "^4.0.3",
        "jiti": "^1.21.6",
        "lilconfig": "^3.1.3",
        "micromatch": "^4.0.8",
        "normalize-path": "^3.0.0",
        "object-hash": "^3.0.0",
        "picocolors": "^1.1.1",
        "postcss": "^8.4.47",
        "postcss-import": "^15.1.0",
        "postcss-js": "^4.0.1",
        "postcss-load-config": "^4.0.2",
        "postcss-nested": "^6.2.0",
        "postcss-selector-parser": "^6.1.2",
        "resolve": "^1.22.8",
        "sucrase": "^3.35.0"
      },
      "bin": {
        "tailwind": "lib/cli.js",
        "tailwindcss": "lib/cli.js"
      },
      "engines": {
        "node": ">=14.0.0"
      }
    },
    "node_modules/tailwindcss/node_modules/jiti": {
      "version": "1.21.7",
      "resolved": "https://registry.npmjs.org/jiti/-/jiti-1.21.7.tgz",
      "integrity": "sha512-/imKNG4EbWNrVjoNC/1H5/9GFy+tqjGBHCaSsN+P2RnPqjsLmv6UD3Ej+Kj8nBWaRAwyk7kK5ZUc+OEatnTR3A==",
      "license": "MIT",
      "bin": {
        "jiti": "bin/jiti.js"
      }
    },
    "node_modules/tailwindcss/node_modules/postcss-load-config": {
      "version": "4.0.2",
      "resolved": "https://registry.npmjs.org/postcss-load-config/-/postcss-load-config-4.0.2.tgz",
      "integrity": "sha512-bSVhyJGL00wMVoPUzAVAnbEoWyqRxkjv64tUl427SKnPrENtq6hJwUojroMz2VB+Q1edmi4IfrAPpami5VVgMQ==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/postcss/"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "lilconfig": "^3.0.0",
        "yaml": "^2.3.4"
      },
      "engines": {
        "node": ">= 14"
      },
      "peerDependencies": {
        "postcss": ">=8.0.9",
        "ts-node": ">=9.0.0"
      },
      "peerDependenciesMeta": {
        "postcss": {
          "optional": true
        },
        "ts-node": {
          "optional": true
        }
      }
    },
    "node_modules/tailwindcss/node_modules/postcss-selector-parser": {
      "version": "6.1.2",
      "resolved": "https://registry.npmjs.org/postcss-selector-parser/-/postcss-selector-parser-6.1.2.tgz",
      "integrity": "sha512-Q8qQfPiZ+THO/3ZrOrO0cJJKfpYCagtMUkXbnEfmgUjwXg6z/WBeOyS9APBBPCTSiDV+s4SwQGu8yFsiMRIudg==",
      "license": "MIT",
      "dependencies": {
        "cssesc": "^3.0.0",
        "util-deprecate": "^1.0.2"
      },
      "engines": {
        "node": ">=4"
      }
    },
    "node_modules/tapable": {
      "version": "2.2.2",
      "resolved": "https://registry.npmjs.org/tapable/-/tapable-2.2.2.tgz",
      "integrity": "sha512-Re10+NauLTMCudc7T5WLFLAwDhQ0JWdrMK+9B2M8zR5hRExKmsRDCBA7/aV/pNJFltmBFO5BAMlQFi/vq3nKOg==",
      "license": "MIT",
      "engines": {
        "node": ">=6"
      }
    },
    "node_modules/tar": {
      "version": "7.4.3",
      "resolved": "https://registry.npmjs.org/tar/-/tar-7.4.3.tgz",
      "integrity": "sha512-5S7Va8hKfV7W5U6g3aYxXmlPoZVAwUMy9AOKyF2fVuZa2UD3qZjg578OrLRt8PcNN1PleVaL/5/yYATNL0ICUw==",
      "license": "ISC",
      "dependencies": {
        "@isaacs/fs-minipass": "^4.0.0",
        "chownr": "^3.0.0",
        "minipass": "^7.1.2",
        "minizlib": "^3.0.1",
        "mkdirp": "^3.0.1",
        "yallist": "^5.0.0"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/tar-fs": {
      "version": "3.1.0",
      "resolved": "https://registry.npmjs.org/tar-fs/-/tar-fs-3.1.0.tgz",
      "integrity": "sha512-5Mty5y/sOF1YWj1J6GiBodjlDc05CUR8PKXrsnFAiSG0xA+GHeWLovaZPYUDXkH/1iKRf2+M5+OrRgzC7O9b7w==",
      "license": "MIT",
      "dependencies": {
        "pump": "^3.0.0",
        "tar-stream": "^3.1.5"
      },
      "optionalDependencies": {
        "bare-fs": "^4.0.1",
        "bare-path": "^3.0.0"
      }
    },
    "node_modules/tar-stream": {
      "version": "3.1.7",
      "resolved": "https://registry.npmjs.org/tar-stream/-/tar-stream-3.1.7.tgz",
      "integrity": "sha512-qJj60CXt7IU1Ffyc3NJMjh6EkuCFej46zUqJ4J7pqYlThyd9bO0XBTmcOIhSzZJVWfsLks0+nle/j538YAW9RQ==",
      "license": "MIT",
      "dependencies": {
        "b4a": "^1.6.4",
        "fast-fifo": "^1.2.0",
        "streamx": "^2.15.0"
      }
    },
    "node_modules/text-decoder": {
      "version": "1.2.3",
      "resolved": "https://registry.npmjs.org/text-decoder/-/text-decoder-1.2.3.tgz",
      "integrity": "sha512-3/o9z3X0X0fTupwsYvR03pJ/DjWuqqrfwBgTQzdWDiQSm9KitAyz/9WqsT2JQW7KV2m+bC2ol/zqpW37NHxLaA==",
      "license": "Apache-2.0",
      "dependencies": {
        "b4a": "^1.6.4"
      }
    },
    "node_modules/thenify": {
      "version": "3.3.1",
      "resolved": "https://registry.npmjs.org/thenify/-/thenify-3.3.1.tgz",
      "integrity": "sha512-RVZSIV5IG10Hk3enotrhvz0T9em6cyHBLkH/YAZuKqd8hRkKhSfCGIcP2KUY0EPxndzANBmNllzWPwak+bheSw==",
      "license": "MIT",
      "dependencies": {
        "any-promise": "^1.0.0"
      }
    },
    "node_modules/thenify-all": {
      "version": "1.6.0",
      "resolved": "https://registry.npmjs.org/thenify-all/-/thenify-all-1.6.0.tgz",
      "integrity": "sha512-RNxQH/qI8/t3thXJDwcstUO4zeqo64+Uy/+sNVRBx4Xn2OX+OZ9oP+iJnNFqplFra2ZUVeKCSa2oVWi3T4uVmA==",
      "license": "MIT",
      "dependencies": {
        "thenify": ">= 3.1.0 < 4"
      },
      "engines": {
        "node": ">=0.8"
      }
    },
    "node_modules/through": {
      "version": "2.3.8",
      "resolved": "https://registry.npmjs.org/through/-/through-2.3.8.tgz",
      "integrity": "sha512-w89qg7PI8wAdvX60bMDP+bFoD5Dvhm9oLheFp5O4a2QF0cSBGsBX4qZmadPMvVqlLJBBci+WqGGOAPvcDeNSVg==",
      "license": "MIT"
    },
    "node_modules/tiny-invariant": {
      "version": "1.3.3",
      "resolved": "https://registry.npmjs.org/tiny-invariant/-/tiny-invariant-1.3.3.tgz",
      "integrity": "sha512-+FbBPE1o9QAYvviau/qC5SE3caw21q3xkvWKBtja5vgqOWIHHJ3ioaq1VPfn/Szqctz2bU/oYeKd9/z5BL+PVg==",
      "license": "MIT"
    },
    "node_modules/to-regex-range": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/to-regex-range/-/to-regex-range-5.0.1.tgz",
      "integrity": "sha512-65P7iz6X5yEr1cwcgvQxbbIw7Uk3gOy5dIdtZ4rDveLqhrdJP+Li/Hx6tyK0NEb+2GCyneCMJiGqrADCSNk8sQ==",
      "license": "MIT",
      "dependencies": {
        "is-number": "^7.0.0"
      },
      "engines": {
        "node": ">=8.0"
      }
    },
    "node_modules/ts-interface-checker": {
      "version": "0.1.13",
      "resolved": "https://registry.npmjs.org/ts-interface-checker/-/ts-interface-checker-0.1.13.tgz",
      "integrity": "sha512-Y/arvbn+rrz3JCKl9C4kVNfTfSm2/mEp5FSz5EsZSANGPSlQrpRI5M4PKF+mJnE52jOO90PnPSc3Ur3bTQw0gA==",
      "license": "Apache-2.0"
    },
    "node_modules/tslib": {
      "version": "2.8.1",
      "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.8.1.tgz",
      "integrity": "sha512-oJFu94HQb+KVduSUQL7wnpmqnfmLsOA/nAh6b6EH0wCEoK0/mPeXU6c3wKDV83MkOuHPRHtSXKKU99IBazS/2w==",
      "license": "0BSD"
    },
    "node_modules/tsx": {
      "version": "4.20.4",
      "resolved": "https://registry.npmjs.org/tsx/-/tsx-4.20.4.tgz",
      "integrity": "sha512-yyxBKfORQ7LuRt/BQKBXrpcq59ZvSW0XxwfjAt3w2/8PmdxaFzijtMhTawprSHhpzeM5BgU2hXHG3lklIERZXg==",
      "dev": true,
      "license": "MIT",
      "dependencies": {
        "esbuild": "~0.25.0",
        "get-tsconfig": "^4.7.5"
      },
      "bin": {
        "tsx": "dist/cli.mjs"
      },
      "engines": {
        "node": ">=18.0.0"
      },
      "optionalDependencies": {
        "fsevents": "~2.3.3"
      }
    },
    "node_modules/typed-query-selector": {
      "version": "2.12.0",
      "resolved": "https://registry.npmjs.org/typed-query-selector/-/typed-query-selector-2.12.0.tgz",
      "integrity": "sha512-SbklCd1F0EiZOyPiW192rrHZzZ5sBijB6xM+cpmrwDqObvdtunOHHIk9fCGsoK5JVIYXoyEp4iEdE3upFH3PAg==",
      "license": "MIT"
    },
    "node_modules/typescript": {
      "version": "5.9.2",
      "resolved": "https://registry.npmjs.org/typescript/-/typescript-5.9.2.tgz",
      "integrity": "sha512-CWBzXQrc/qOkhidw1OzBTQuYRbfyxDXJMVJ1XNwUHGROVmuaeiEm3OslpZ1RV96d7SKKjZKrSJu3+t/xlw3R9A==",
      "license": "Apache-2.0",
      "bin": {
        "tsc": "bin/tsc",
        "tsserver": "bin/tsserver"
      },
      "engines": {
        "node": ">=14.17"
      }
    },
    "node_modules/unbzip2-stream": {
      "version": "1.4.3",
      "resolved": "https://registry.npmjs.org/unbzip2-stream/-/unbzip2-stream-1.4.3.tgz",
      "integrity": "sha512-mlExGW4w71ebDJviH16lQLtZS32VKqsSfk80GCfUlwT/4/hNRFsoscrF/c++9xinkMzECL1uL9DDwXqFWkruPg==",
      "license": "MIT",
      "dependencies": {
        "buffer": "^5.2.1",
        "through": "^2.3.8"
      }
    },
    "node_modules/undici": {
      "version": "5.29.0",
      "resolved": "https://registry.npmjs.org/undici/-/undici-5.29.0.tgz",
      "integrity": "sha512-raqeBD6NQK4SkWhQzeYKd1KmIG6dllBOTt55Rmkt4HtI9mwdWtJljnrXjAFUBLTSN67HWrOIZ3EPF4kjUw80Bg==",
      "license": "MIT",
      "dependencies": {
        "@fastify/busboy": "^2.0.0"
      },
      "engines": {
        "node": ">=14.0"
      }
    },
    "node_modules/undici-types": {
      "version": "6.21.0",
      "resolved": "https://registry.npmjs.org/undici-types/-/undici-types-6.21.0.tgz",
      "integrity": "sha512-iwDZqg0QAGrg9Rav5H4n0M64c3mkR59cJ6wQp+7C4nI0gsmExaedaYLNO44eT4AtBBwjbTiGPMlt2Md0T9H9JQ==",
      "license": "MIT"
    },
    "node_modules/update-browserslist-db": {
      "version": "1.1.3",
      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.1.3.tgz",
      "integrity": "sha512-UxhIZQ+QInVdunkDAaiazvvT/+fXL5Osr0JZlJulepYu6Jd7qJtDZjlur0emRlT71EN3ScPoE7gvsuIKKNavKw==",
      "funding": [
        {
          "type": "opencollective",
          "url": "https://opencollective.com/browserslist"
        },
        {
          "type": "tidelift",
          "url": "https://tidelift.com/funding/github/npm/browserslist"
        },
        {
          "type": "github",
          "url": "https://github.com/sponsors/ai"
        }
      ],
      "license": "MIT",
      "dependencies": {
        "escalade": "^3.2.0",
        "picocolors": "^1.1.1"
      },
      "bin": {
        "update-browserslist-db": "cli.js"
      },
      "peerDependencies": {
        "browserslist": ">= 4.21.0"
      }
    },
    "node_modules/util-deprecate": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/util-deprecate/-/util-deprecate-1.0.2.tgz",
      "integrity": "sha512-EPD5q1uXyFxJpCrLnCc1nHnq3gOa6DZBocAIiI2TaSCA7VCJ1UJDMagCzIkXNsUYfD1daK//LTEQ8xiIbrHtcw==",
      "license": "MIT"
    },
    "node_modules/victory-vendor": {
      "version": "36.9.2",
      "resolved": "https://registry.npmjs.org/victory-vendor/-/victory-vendor-36.9.2.tgz",
      "integrity": "sha512-PnpQQMuxlwYdocC8fIJqVXvkeViHYzotI+NJrCuav0ZYFoq912ZHBk3mCeuj+5/VpodOjPe1z0Fk2ihgzlXqjQ==",
      "license": "MIT AND ISC",
      "dependencies": {
        "@types/d3-array": "^3.0.3",
        "@types/d3-ease": "^3.0.0",
        "@types/d3-interpolate": "^3.0.1",
        "@types/d3-scale": "^4.0.2",
        "@types/d3-shape": "^3.1.0",
        "@types/d3-time": "^3.0.0",
        "@types/d3-timer": "^3.0.0",
        "d3-array": "^3.1.6",
        "d3-ease": "^3.0.1",
        "d3-interpolate": "^3.0.1",
        "d3-scale": "^4.0.2",
        "d3-shape": "^3.1.0",
        "d3-time": "^3.0.0",
        "d3-timer": "^3.0.1"
      }
    },
    "node_modules/whatwg-encoding": {
      "version": "3.1.1",
      "resolved": "https://registry.npmjs.org/whatwg-encoding/-/whatwg-encoding-3.1.1.tgz",
      "integrity": "sha512-6qN4hJdMwfYBtE3YBTTHhoeuUrDBPZmbQaxWAqSALV/MeEnR5z1xd8UKud2RAkFoPkmB+hli1TZSnyi84xz1vQ==",
      "license": "MIT",
      "dependencies": {
        "iconv-lite": "0.6.3"
      },
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/whatwg-mimetype": {
      "version": "4.0.0",
      "resolved": "https://registry.npmjs.org/whatwg-mimetype/-/whatwg-mimetype-4.0.0.tgz",
      "integrity": "sha512-QaKxh0eNIi2mE9p2vEdzfagOKHCcj1pJ56EEHGQOVxp8r9/iszLUUV7v89x9O1p/T+NlTM5W7jW6+cz4Fq1YVg==",
      "license": "MIT",
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/which": {
      "version": "2.0.2",
      "resolved": "https://registry.npmjs.org/which/-/which-2.0.2.tgz",
      "integrity": "sha512-BLI3Tl1TW3Pvl70l3yq3Y64i+awpwXqsGBYWkkqMtnbXgrMD+yj7rhW0kuEDxzJaYXGjEW5ogapKNMEKNMjibA==",
      "license": "ISC",
      "dependencies": {
        "isexe": "^2.0.0"
      },
      "bin": {
        "node-which": "bin/node-which"
      },
      "engines": {
        "node": ">= 8"
      }
    },
    "node_modules/wrap-ansi": {
      "version": "8.1.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-8.1.0.tgz",
      "integrity": "sha512-si7QWI6zUMq56bESFvagtmzMdGOtoxfR+Sez11Mobfc7tm+VkUckk9bW2UeffTGVUbOksxmSw0AA2gs8g71NCQ==",
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^6.1.0",
        "string-width": "^5.0.1",
        "strip-ansi": "^7.0.1"
      },
      "engines": {
        "node": ">=12"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs": {
      "name": "wrap-ansi",
      "version": "7.0.0",
      "resolved": "https://registry.npmjs.org/wrap-ansi/-/wrap-ansi-7.0.0.tgz",
      "integrity": "sha512-YVGIj2kamLSTxw6NsZjoBxfSwsn0ycdesmc4p+Q21c5zPuZ1pl+NfxVdxPtdHvmNVOQ6XSYG4AUtyt/Fi7D16Q==",
      "license": "MIT",
      "dependencies": {
        "ansi-styles": "^4.0.0",
        "string-width": "^4.1.0",
        "strip-ansi": "^6.0.0"
      },
      "engines": {
        "node": ">=10"
      },
      "funding": {
        "url": "https://github.com/chalk/wrap-ansi?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/ansi-styles": {
      "version": "4.3.0",
      "resolved": "https://registry.npmjs.org/ansi-styles/-/ansi-styles-4.3.0.tgz",
      "integrity": "sha512-zbB9rCJAT1rbjiVDb2hqKFHNYLxgtk8NURxZ3IZwD3F6NtxbXZQCnnSi1Lkx+IDohdPlFp222wVALIheZJQSEg==",
      "license": "MIT",
      "dependencies": {
        "color-convert": "^2.0.1"
      },
      "engines": {
        "node": ">=8"
      },
      "funding": {
        "url": "https://github.com/chalk/ansi-styles?sponsor=1"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "license": "MIT"
    },
    "node_modules/wrap-ansi-cjs/node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrap-ansi-cjs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/wrappy": {
      "version": "1.0.2",
      "resolved": "https://registry.npmjs.org/wrappy/-/wrappy-1.0.2.tgz",
      "integrity": "sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==",
      "license": "ISC"
    },
    "node_modules/ws": {
      "version": "8.18.3",
      "resolved": "https://registry.npmjs.org/ws/-/ws-8.18.3.tgz",
      "integrity": "sha512-PEIGCY5tSlUt50cqyMXfCzX+oOPqN0vuGqWzbcJ2xvnkzkq46oOpz7dQaTDBdfICb4N14+GARUDw2XV2N4tvzg==",
      "license": "MIT",
      "engines": {
        "node": ">=10.0.0"
      },
      "peerDependencies": {
        "bufferutil": "^4.0.1",
        "utf-8-validate": ">=5.0.2"
      },
      "peerDependenciesMeta": {
        "bufferutil": {
          "optional": true
        },
        "utf-8-validate": {
          "optional": true
        }
      }
    },
    "node_modules/y18n": {
      "version": "5.0.8",
      "resolved": "https://registry.npmjs.org/y18n/-/y18n-5.0.8.tgz",
      "integrity": "sha512-0pfFzegeDWJHJIAmTLRP2DwHjdF5s7jo9tuztdQxAhINCdvS+3nGINqPd00AphqJR/0LhANUS6/+7SCb98YOfA==",
      "license": "ISC",
      "engines": {
        "node": ">=10"
      }
    },
    "node_modules/yallist": {
      "version": "5.0.0",
      "resolved": "https://registry.npmjs.org/yallist/-/yallist-5.0.0.tgz",
      "integrity": "sha512-YgvUTfwqyc7UXVMrB+SImsVYSmTS8X/tSrtdNZMImM+n7+QTriRXyXim0mBrTXNeqzVF0KWGgHPeiyViFFrNDw==",
      "license": "BlueOak-1.0.0",
      "engines": {
        "node": ">=18"
      }
    },
    "node_modules/yaml": {
      "version": "2.8.1",
      "resolved": "https://registry.npmjs.org/yaml/-/yaml-2.8.1.tgz",
      "integrity": "sha512-lcYcMxX2PO9XMGvAJkJ3OsNMw+/7FKes7/hgerGUYWIoWu5j/+YQqcZr5JnPZWzOsEBgMbSbiSTn/dv/69Mkpw==",
      "license": "ISC",
      "bin": {
        "yaml": "bin.mjs"
      },
      "engines": {
        "node": ">= 14.6"
      }
    },
    "node_modules/yargs": {
      "version": "17.7.2",
      "resolved": "https://registry.npmjs.org/yargs/-/yargs-17.7.2.tgz",
      "integrity": "sha512-7dSzzRQ++CKnNI/krKnYRV7JKKPUXMEh61soaHKg9mrWEhzFWhFnxPxGl+69cD1Ou63C13NUPCnmIcrvqCuM6w==",
      "license": "MIT",
      "dependencies": {
        "cliui": "^8.0.1",
        "escalade": "^3.1.1",
        "get-caller-file": "^2.0.5",
        "require-directory": "^2.1.1",
        "string-width": "^4.2.3",
        "y18n": "^5.0.5",
        "yargs-parser": "^21.1.1"
      },
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/yargs-parser": {
      "version": "21.1.1",
      "resolved": "https://registry.npmjs.org/yargs-parser/-/yargs-parser-21.1.1.tgz",
      "integrity": "sha512-tVpsJW7DdjecAiFpbIB1e3qxIQsE6NoPc5/eTdrbbIC4h0LVsWhnoa3g+m2HclBIujHzsxZ4VJVA+GUuc2/LBw==",
      "license": "ISC",
      "engines": {
        "node": ">=12"
      }
    },
    "node_modules/yargs/node_modules/ansi-regex": {
      "version": "5.0.1",
      "resolved": "https://registry.npmjs.org/ansi-regex/-/ansi-regex-5.0.1.tgz",
      "integrity": "sha512-quJQXlTSUGL2LH9SUXo8VwsY4soanhgo6LNSm84E1LBcE8s3O0wpdiRzyR9z/ZZJMlMWv37qOOb9pdJlMUEKFQ==",
      "license": "MIT",
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/yargs/node_modules/emoji-regex": {
      "version": "8.0.0",
      "resolved": "https://registry.npmjs.org/emoji-regex/-/emoji-regex-8.0.0.tgz",
      "integrity": "sha512-MSjYzcWNOA0ewAHpz0MxpYFvwg6yjy1NG3xteoqz644VCo/RPgnr1/GGt+ic3iJTzQ8Eu3TdM14SawnVUmGE6A==",
      "license": "MIT"
    },
    "node_modules/yargs/node_modules/string-width": {
      "version": "4.2.3",
      "resolved": "https://registry.npmjs.org/string-width/-/string-width-4.2.3.tgz",
      "integrity": "sha512-wKyQRQpjJ0sIp62ErSZdGsjMJWsap5oRNihHhu6G7JVO/9jIB6UyevL+tXuOqrng8j/cxKTWyWUwvSTriiZz/g==",
      "license": "MIT",
      "dependencies": {
        "emoji-regex": "^8.0.0",
        "is-fullwidth-code-point": "^3.0.0",
        "strip-ansi": "^6.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/yargs/node_modules/strip-ansi": {
      "version": "6.0.1",
      "resolved": "https://registry.npmjs.org/strip-ansi/-/strip-ansi-6.0.1.tgz",
      "integrity": "sha512-Y38VPSHcqkFrCpFnQ9vuSXmquuv5oXOKpGeT6aGrr3o3Gc9AlVa6JBfUSOCnbxGGZF+/0ooI7KrPuUSztUdU5A==",
      "license": "MIT",
      "dependencies": {
        "ansi-regex": "^5.0.1"
      },
      "engines": {
        "node": ">=8"
      }
    },
    "node_modules/yauzl": {
      "version": "2.10.0",
      "resolved": "https://registry.npmjs.org/yauzl/-/yauzl-2.10.0.tgz",
      "integrity": "sha512-p4a9I6X6nu6IhoGmBqAcbJy1mlC4j27vEPZX9F4L4/vZT3Lyq1VkFHw/V/PUcB9Buo+DG3iHkT0x3Qya58zc3g==",
      "license": "MIT",
      "dependencies": {
        "buffer-crc32": "~0.2.3",
        "fd-slicer": "~1.1.0"
      }
    },
    "node_modules/zod": {
      "version": "3.23.8",
      "resolved": "https://registry.npmjs.org/zod/-/zod-3.23.8.tgz",
      "integrity": "sha512-XBx9AXhXktjUqnepgTiE5flcKIYWi/rme0Eaj+5Y0lftuGBq+jyRu/md4WnuxqgP1ubdpNCsYEYPxrzVHD8d6g==",
      "license": "MIT",
      "funding": {
        "url": "https://github.com/sponsors/colinhacks"
      }
    }
  }
}


// === File: package.json ===

{
  "name": "ukrwarlosses",
  "version": "1.0.0",
  "description": "Ukraine-Russia War Personnel Losses Tracker",
  "main": "index.js",
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "scrape": "node scripts/scrape.js",
    "export-soldiers-csv": "npx tsx scripts/export-soldiers-csv.ts",
    "compile-ukraine-monthly": "npx tsx scripts/compile-ukraine-monthly.ts",
    "compile-russia-monthly": "npx tsx scripts/compile-russia-monthly.ts",
    "compile-ukraine-weekly": "npx tsx scripts/compile-ukraine-weekly.ts",
    "compile-russia-weekly": "npx tsx scripts/compile-russia-weekly.ts",
    "upload-to-blob": "npx tsx scripts/upload-to-blob.ts",
    "upload-monthly-data": "npx tsx scripts/upload-monthly-data.ts"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/ukrainewarlosses/ukrwarlosses.git"
  },
  "keywords": [
    "ukraine",
    "russia",
    "war",
    "casualties",
    "tracker"
  ],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@playwright/test": "^1.54.2",
    "@tailwindcss/postcss": "^4.1.12",
    "@tailwindcss/typography": "^0.5.15",
    "@types/cheerio": "^0.22.35",
    "@types/node": "^22.8.1",
    "@types/react": "^18.3.12",
    "@types/react-dom": "^18.3.1",
    "@vercel/blob": "^0.23.4",
    "autoprefixer": "^10.4.20",
    "cheerio": "^1.1.2",
    "date-fns": "^4.1.0",
    "lucide-react": "^0.451.0",
    "next": "^15.4.6",
    "playwright": "^1.54.2",
    "postcss": "^8.5.1",
    "puppeteer": "^23.11.1",
    "react": "^18.3.1",
    "react-dom": "^18.3.1",
    "recharts": "^2.13.3",
    "tailwindcss": "^3.4.14",
    "typescript": "^5.6.3"
  },
  "bugs": {
    "url": "https://github.com/ukrainewarlosses/ukrwarlosses/issues"
  },
  "homepage": "https://github.com/ukrainewarlosses/ukrwarlosses#readme",
  "devDependencies": {
    "tsx": "^4.20.4"
  }
}


// === File: postcss.config.js ===

module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}


// === File: README.md ===

# Ukraine-Russia War Personnel Losses Tracker

A high-performance, database-free NextJS 14 static website that provides real-time tracking of military personnel casualties in the Ukraine-Russia conflict. All data is scraped directly from official sources and stored as static JSON files.

## Features

- **Database-Free Architecture**: No database required - all data stored as static JSON files
- **Enhanced Web Scraping**: Advanced Playwright-based scraper extracts individual death dates from Ukrainian memorial website
- **Real Memorial Data**: Actual casualty data from [ualosses.org](https://ualosses.org/en/soldiers/) with confirmed vs estimated death dates
- **Ukrainian Casualty Breakdown**: Dead, missing, and prisoners data with monthly historical patterns from real memorial entries
- **Russian Casualty Tracking**: Verified named list of personnel losses from Zona Media (excludes unverified estimates)
- **Dual Historical Trends**: Both Ukrainian and Russian monthly casualty data with interactive dual-line charts
- **Monthly Automated Updates**: Comprehensive scraping on the 1st of each month for fresh data
- **Lazy YouTube Embeds**: Click-to-load YouTube videos for optimal performance
- **Dark Theme**: Professional dark theme matching the design specifications
- **Responsive Design**: Mobile-first design that works on all devices
- **SEO Optimized**: Complete meta tags, structured data, sitemap, and PWA manifest
- **Google AdSense**: Integrated monetization with proper ad placements
- **Performance Optimized**: Static generation with smart caching, CSV parsing, and optimization

## Tech Stack

- **Frontend**: NextJS 14 with App Router, TypeScript, Tailwind CSS
- **Data Storage**: Static JSON files (no database required)
- **Scraping**: Playwright for enhanced web scraping with comprehensive date parsing
- **Charts**: Recharts for historical data visualization
- **Videos**: Direct YouTube embeds with lazy loading
- **Optimization**: Vercel image optimization, smart caching, asset compression
- **Deployment**: Vercel with automatic deployment and cron jobs

## Data Sources

- **Ukrainian Casualties**: [ualosses.org/en/soldiers/](https://ualosses.org/en/soldiers/) - Total losses with breakdown (dead/missing/prisoners)
- **Ukrainian Historical Data**: Individual death dates scraped from memorial pages, aggregated into monthly statistics with confirmed vs estimated separation  
- **Russian Casualties**: [Zona Media](https://en.zona.media/article/2025/08/01/casualties_eng-trl) - Verified named list of personnel losses (CSV historical data available)
- **Russian Historical Data**: CSV file download from Zona Media for comprehensive historical trends

## Project Structure

```
 src/
    app/
       api/
          casualties/
          scrape/
          videos/
       globals.css
       layout.tsx
       page.tsx
       robots.ts
       sitemap.ts
    components/
       AdBanner.tsx
       Chart.tsx
       Footer.tsx
       Header.tsx
       Hero.tsx
       SourceCard.tsx
       StatsCard.tsx
       UpdateIndicator.tsx
       VideoCard.tsx
    lib/
       scrapers.ts
       supabase.ts
       youtube.ts
    types/
        index.ts
 database-schema.sql
 next.config.js
 package.json
 tailwind.config.js
 tsconfig.json
```

## Setup Instructions

### 1. Clone and Install Dependencies

```bash
git clone <repository-url>
cd ukrwarlosses
npm install
```

### 2. Environment Variables

Create a `.env.local` file based on `.env.example`:

```env
# Google AdSense (optional)
NEXT_PUBLIC_GOOGLE_ADSENSE_ID=ca-pub-your-adsense-id

# Base URL (for production)
NEXT_PUBLIC_BASE_URL=https://ukrainewarlosses.org

# Environment (development uses mock data)
NODE_ENV=development
```

### 3. Data Setup

#### Option A: Using Vercel Blob Storage (Recommended for Production)

The application now uses Vercel Blob Storage to store large data files, preventing serverless function size limits.

1. **Upload data files to blob storage:**
   ```bash
   npm run upload-to-blob
   ```

2. **Add environment variables to your Vercel project:**
   The upload script will output the required environment variables. Add them to your Vercel project settings:
   - `UKRAINE_SOLDIERS_BLOB_URL`
   - `UKRAINE_MONTHLY_BLOB_URL`
   - `RUSSIA_MONTHLY_BLOB_URL`
   - `UKRAINE_WEEKLY_BLOB_URL`
   - `RUSSIA_WEEKLY_BLOB_URL`

3. **For local development, add to `.env.local`:**
   ```env
   UKRAINE_SOLDIERS_BLOB_URL=your-blob-url
   UKRAINE_MONTHLY_BLOB_URL=your-blob-url
   RUSSIA_MONTHLY_BLOB_URL=your-blob-url
   UKRAINE_WEEKLY_BLOB_URL=your-blob-url
   RUSSIA_WEEKLY_BLOB_URL=your-blob-url
   ```

#### Option B: Local Data Files (Development Only)

No database setup required! The application uses static JSON files:

- Data is automatically generated from the mock scraper in development
- In production, data is scraped from official sources daily
- All data is stored in `src/data/casualties.json`

### 4. Run Development Server

```bash
npm run dev
```

Visit `http://localhost:3000` to see the application.

The development server will use mock data from `src/data/casualties.json`. In production, this file is updated daily by the scraper.

## API Endpoints

- `GET /api/data` - Get all casualty data from static JSON file (cached)
- `POST /api/scrape` - Trigger daily data scraping (cron job)
- `GET /api/scrape?action=status` - Check scraper status

Note: No database queries - all data served from static JSON files for optimal performance.

## Deployment

### Vercel (Recommended)

1. Connect your GitHub repository to Vercel
2. Set environment variables in Vercel dashboard (only Google AdSense ID needed)
3. Deploy automatically on push to main branch

The application requires **no database setup** - all data is stored as static files.

### Vercel Cron Jobs

The application includes automatic monthly scraping at 2 AM UTC on the 1st of each month:

```json
{
  "crons": [
    {
      "path": "/api/scrape",
      "schedule": "0 2 1 * *"
    }
  ]
}
```

The scraper updates `src/data/casualties.json` with fresh data from:
- **Ukrainian casualties** from https://ualosses.org/en/soldiers/ (with dead/missing/prisoners breakdown and individual death dates)
- **Ukrainian historical** data extracted from memorial pages with confirmed vs estimated death dates
- **Russian casualties** from https://en.zona.media/article/2025/08/01/casualties_eng-trl (CSV download for historical data)

## Google AdSense Setup

1. Apply for Google AdSense approval
2. Add your AdSense ID to environment variables
3. Replace placeholder ad slots in the code with your actual ad unit IDs
4. Uncomment the actual AdSense code in `AdBanner.tsx`

## Customization

### Colors and Styling

The application uses a custom color palette defined in `tailwind.config.js`:

- Background: `#1b1b1b`
- Card Background: `#2a2a2a`
- Primary Accent: `#d4a574`
- Casualty Red: `#ff6b6b`

### Data Sources

To modify data sources:

1. Update URLs in `src/lib/scrapers.ts`
2. Adjust CSS selectors for scraping
3. Update source information in the homepage

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests if applicable
5. Submit a pull request

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Disclaimer

This application tracks publicly available casualty data from open sources. Numbers represent confirmed minimum losses and actual figures may be higher due to unreported casualties and classification restrictions. The application is not affiliated with any government or military organization.

## Support

For support, please open an issue in the GitHub repository or contact the development team.


// === File: tailwind.config.js ===

/** @type {import('tailwindcss').Config} */
module.exports = {
  content: [
    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',
    './src/components/**/*.{js,ts,jsx,tsx,mdx}',
    './src/app/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  theme: {
    extend: {
      colors: {
        primary: '#d4a574',
        'primary-dark': '#a0824a',
        background: '#1b1b1b',
        'card-bg': '#2a2a2a',
        'border-color': '#3d3d3d',
        'text-primary': '#f5f5f5',
        'text-secondary': '#e2e8f0',
        'text-muted': '#cbd5e0',
        'text-light': '#a0aec0',
        casualty: '#ff6b6b',
      },
      fontFamily: {
        inter: ['Inter', 'sans-serif'],
      },
    },
  },
  plugins: [require('@tailwindcss/typography')],
}


// === File: tsconfig.json ===

{
  "compilerOptions": {
    "target": "es5",
    "lib": ["dom", "dom.iterable", "es6"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}


// === File: vercel.json ===

{
  "crons": [
    {
      "path": "/api/scrape",
      "schedule": "0 2 1 * *"
    },
    {
      "path": "/api/scrape-ukraine-soldiers",
      "schedule": "0 0 1 * *"
    }
  ],
  "functions": {
    "src/app/api/scrape/route.ts": {
      "maxDuration": 300
    },
    "src/app/api/scrape-ukraine-soldiers/route.ts": {
      "maxDuration": 300
    },
    "src/app/api/scrape-russia-casualties/route.ts": {
      "maxDuration": 300
    }
  }
}


// === File: .vercel\project.json ===

{"projectId":"prj_fyRnYIBdKjj5EOib9MI2749Emf3Z","orgId":"team_U5pUo13FNGuCoUv8B7GPqMRP","projectName":"ukrwarlosses"}

// === File: docs\AUTOMATED_BLOB_SYSTEM.md ===

# Automated Blob URL Discovery System

This document explains the automated system for dynamically discovering and using the latest data files from Vercel Blob storage.

## Overview

The application now automatically discovers and uses the latest data files from Vercel Blob storage without requiring manual configuration updates. This system ensures that:

1. **No local data files are used** - All data is loaded from Vercel Blob
2. **Automatic discovery** - The system finds the latest files based on naming patterns
3. **Fallback support** - Graceful degradation if blob discovery fails
4. **Caching** - URLs are cached to avoid repeated API calls

## How It Works

### 1. File Naming Convention

Data files follow a specific naming pattern that includes dates:

- `russia-all-casualties_YYYY-MM-DD.json` - Russia all casualties data
- `ukraine-all-casualties_YYYY-MM-DD.json` - Ukraine all casualties data
- `russia-monthly-casualties-deduped_YYYY-MM-DD.json` - Russia monthly casualties (deduplicated)
- `ukraine-monthly-casualties-deduped_YYYY-MM-DD.json` - Ukraine monthly casualties (deduplicated)
- `russia-weekly-casualties-deduped_YYYY-MM-DD.json` - Russia weekly casualties (deduplicated)
- `ukraine-weekly-casualties-deduped_YYYY-MM-DD.json` - Ukraine weekly casualties (deduplicated)

### 2. Discovery Process

The system uses the following priority order to find data files:

1. **Environment Variables** - Check for specific URLs in environment variables
2. **Blob API Discovery** - List all blobs and find the latest matching pattern
3. **Fallback URLs** - Use hardcoded fallback URLs if discovery fails

### 3. Caching

Discovered URLs are cached for 5 minutes to avoid repeated API calls and improve performance.

## Monthly Update Process

### Automated Upload Script

Use the provided script to upload new monthly data:

```bash
npm run upload-monthly-data
```

This script will:

1. Read the latest scraped data from `src/data/`
2. Upload files with current date in the filename
3. Maintain the naming convention for automatic discovery
4. Provide a summary of upload results

### Manual Upload Process

If you need to upload files manually:

1. **Prepare your data files** in the `src/data/` directory
2. **Use the Vercel CLI** to upload with proper naming:

```bash
# Upload with current date
vercel blob put src/data/russia/casualties.json --rw-token YOUR_TOKEN --name russia-all-casualties_2025-09-21.json
vercel blob put src/data/ukraine/soldiers.json --rw-token YOUR_TOKEN --name ukraine-all-casualties_2025-09-21.json

# Upload monthly data with date
vercel blob put src/data/ukraine/monthly-deduplicated_2025-08-21.json --rw-token YOUR_TOKEN --name ukraine-monthly-casualties-deduped_2025-09-21.json
vercel blob put src/data/russia/monthly-deduplicated_2025-08-20.json --rw-token YOUR_TOKEN --name russia-monthly-casualties-deduped_2025-09-21.json
```

## Configuration

### Environment Variables

You can override the automatic discovery by setting environment variables:

```env
CASUALTIES_BLOB_URL=https://your-blob-url.com/russia-all-casualties_2025-09-21.json
SOLDIERS_BLOB_URL=https://your-blob-url.com/ukraine-all-casualties_2025-09-21.json
UKRAINE_MONTHLY_BLOB_URL=https://your-blob-url.com/ukraine-monthly-casualties-deduped_2025-09-21.json
RUSSIA_MONTHLY_BLOB_URL=https://your-blob-url.com/russia-monthly-casualties-deduped_2025-09-21.json
UKRAINE_WEEKLY_BLOB_URL=https://your-blob-url.com/ukraine-weekly-casualties-deduped_2025-09-21.json
RUSSIA_WEEKLY_BLOB_URL=https://your-blob-url.com/russia-weekly-casualties-deduped_2025-09-21.json
```

### Base URL Configuration

The base blob URL is configured in `src/lib/blobDiscovery.ts`:

```typescript
const BLOB_BASE_URL = 'https://uzymqtgbqiawhqjq.public.blob.vercel-storage.com';
```

## File Structure

```
src/lib/
 blobDiscovery.ts      # Automatic URL discovery logic
 blobDataLoader.ts     # Data loading from blob URLs
 hybridDataLoader.ts   # Main data loader (always uses blob)

scripts/
 upload-monthly-data.ts # Automated upload script
```

## Benefits

1. **No Manual Configuration** - URLs are discovered automatically
2. **Always Latest Data** - System always uses the most recent files
3. **Resilient** - Multiple fallback mechanisms
4. **Performance** - URL caching reduces API calls
5. **Scalable** - Easy to add new data types

## Troubleshooting

### Common Issues

1. **Blob Discovery Fails**
   - Check if `BLOB_READ_WRITE_TOKEN` is set
   - Verify blob storage permissions
   - Check network connectivity

2. **Files Not Found**
   - Ensure files follow the naming convention
   - Check if files were uploaded successfully
   - Verify the base URL configuration

3. **Cache Issues**
   - Use `clearBlobUrlCache()` to clear the cache
   - Check cache status with `getBlobUrlCacheStatus()`

### Debug Information

The system provides detailed logging:

```
 Discovered latest casualties: https://blob-url.com/russia-all-casualties_2025-09-21.json
 Using fallback URL for soldiers: https://blob-url.com/ukraine-all-casualties_2025-09-21.json
  No Ukraine monthly blob URL available
```

## Migration from Local Files

The system has been designed to completely replace local file usage:

1. **All data loading** now goes through `blobDataLoader.ts`
2. **Local files are excluded** from deployment via `.vercelignore`
3. **Fallback data** is provided if blob loading fails
4. **No code changes** needed when new data is uploaded

This ensures the application stays under Vercel's serverless function size limits while providing reliable data access.


// === File: docs\MONTHLY_AUTOMATION.md ===

# Monthly Automated Scraping Documentation

## Overview

The Ukrainian War Losses Tracker automatically updates casualty data on the 1st of each month at 2 AM UTC using real data scraped from the Ukrainian memorial website.

## Automation Methods

### 1. GitHub Actions (Primary)
- **File**: `.github/workflows/monthly-scrape.yml`
- **Schedule**: `0 2 1 * *` (2 AM UTC on 1st of each month)
- **Features**:
  - Automated data scraping and processing
  - Git commit and push of updated data
  - Summary report generation
  - Error handling and notifications

### 2. Vercel Cron Jobs (Backup)
- **File**: `vercel.json`
- **Schedule**: `0 2 1 * *` (2 AM UTC on 1st of each month)
- **Endpoint**: `/api/scrape`
- **Timeout**: 300 seconds (5 minutes)

## What Happens During Monthly Updates

### Data Collection Process
1. **Enhanced Scraper Activation**: Playwright-based scraper launches
2. **Sample Collection**: 500 representative pages scraped from ualosses.org
3. **Date Parsing**: Individual death dates extracted and validated
4. **Monthly Aggregation**: Casualties grouped by month with confirmed/unconfirmed separation
5. **Statistical Scaling**: Sample data scaled to match known totals
6. **Data Validation**: Sanity checks and quality assurance

### File Updates
- `src/data/casualties.json` - Main data file with updated monthly statistics
- `cache/ukraine-losses/` - Raw scraping results for backup and debugging
- Git commit with descriptive message including month/year

### Data Quality Metrics
- **Sample Size**: ~500 pages from 1,500+ total pages
- **Accuracy**: Scaled to match official total (158,892 as of August 2024)
- **Coverage**: February 2022 to present
- **Reliability**: Confirmed vs unconfirmed casualties properly categorized

## Schedule Details

### Timing Rationale
- **1st of month**: Allows time for new memorial entries to be added
- **2 AM UTC**: Low traffic time to minimize server load
- **Monthly frequency**: Balances data freshness with respectful scraping

### Time Zone Conversions
- **UTC**: 2:00 AM
- **EST**: 9:00 PM (previous day) / 10:00 PM (DST)
- **PST**: 6:00 PM (previous day) / 7:00 PM (DST)
- **CET**: 3:00 AM / 4:00 AM (DST)

## Monitoring and Alerts

### Success Indicators
- Updated `lastUpdated` timestamp in casualties.json
- New git commit with monthly data
- GitHub Actions summary report
- No error logs in application monitoring

### Failure Scenarios
- Network connectivity issues
- Website structure changes
- Rate limiting responses
- Data validation failures

### Manual Intervention
If automated scraping fails:
```bash
# Manual trigger via API
curl -X POST https://your-domain.com/api/scrape

# Or run locally
npm run dev
curl -X POST http://localhost:3000/api/scrape
```

## Data Backup and Recovery

### Automatic Backups
- **Git History**: All updates tracked in version control
- **Cache Files**: Raw scraping results stored locally
- **Vercel Logs**: Detailed execution logs for debugging

### Recovery Process
1. Check git history for last successful update
2. Review cache files for raw data
3. Manually trigger scraper if needed
4. Validate data integrity after recovery

## Configuration Management

### Environment Variables
- `NODE_ENV`: Set to 'production' for automated runs
- `YOUTUBE_API_KEY`: For video content updates
- `DEBUG_SCRAPER`: Enable detailed logging if needed

### Scraper Configuration
```typescript
{
  maxPages: 500,           // Large sample for accuracy
  delayBetweenRequests: 2000,  // Respectful rate limiting
  retryAttempts: 3,        // Error resilience
  enableCaching: true,     // Backup and debugging
  incrementalUpdate: false // Full refresh monthly
}
```

## Performance Metrics

### Expected Runtime
- **Scraping Phase**: 15-20 minutes (500 pages  2-3 seconds)
- **Processing Phase**: 2-3 minutes
- **Total Duration**: ~20-25 minutes

### Resource Usage
- **Memory**: ~500MB peak during scraping
- **Network**: ~50-100 MB data transfer
- **Storage**: ~10-20 MB cache files per run

## Maintenance Tasks

### Monthly Review (Recommended)
1. Verify data accuracy against known sources
2. Check for website structure changes
3. Review error logs and performance metrics
4. Update scraper patterns if needed

### Quarterly Tasks
1. Update Playwright and dependencies
2. Review and optimize scraper configuration
3. Validate data trends and patterns
4. Performance optimization

### Annual Tasks
1. Comprehensive data validation
2. Archive old cache files
3. Update documentation
4. Security review and updates

## Troubleshooting Guide

### Common Issues

#### 1. No Data Updated
**Symptoms**: No new git commit, same lastUpdated timestamp
**Solutions**:
- Check GitHub Actions logs
- Verify Vercel cron job status
- Test manual API call
- Check network connectivity

#### 2. Partial Data Updates
**Symptoms**: Some months missing, inconsistent patterns
**Solutions**:
- Review scraper error logs
- Check for website changes
- Validate date parsing logic
- Increase sample size temporarily

#### 3. Scaling Issues
**Symptoms**: Unrealistic monthly totals
**Solutions**:
- Verify known total accuracy
- Check sample representativeness
- Review scaling algorithm
- Manual validation of sample data

#### 4. Performance Degradation
**Symptoms**: Timeouts, slow execution
**Solutions**:
- Reduce sample size temporarily
- Increase request delays
- Check server resources
- Optimize parsing logic

### Emergency Contacts
- **Primary**: Check GitHub repository issues
- **Secondary**: Review Vercel dashboard logs
- **Fallback**: Manual data collection and update

## Future Enhancements

### Planned Improvements
1. **Real-time Updates**: WebSocket integration for live data
2. **Multiple Sources**: Cross-reference with other memorial sites
3. **Geographic Analysis**: Location-based casualty mapping
4. **Trend Prediction**: Statistical forecasting models
5. **Data Validation**: Cross-reference with official sources

### Scalability Considerations
1. **Distributed Scraping**: Multiple worker processes
2. **Database Migration**: Move from JSON to proper database
3. **API Rate Management**: Intelligent throttling
4. **CDN Integration**: Faster data distribution

## Compliance and Ethics

### Respectful Scraping
- 2-3 second delays between requests
- Limited concurrent connections
- Respectful of server resources
- Compliance with robots.txt

### Data Privacy
- Only public memorial information
- No personal data beyond memorial entries
- Transparent data usage
- Regular data audits

### Legal Considerations
- Fair use of public memorial data
- Attribution to original sources
- Compliance with applicable laws
- Respectful handling of sensitive information


// === File: docs\SCRAPER_DOCUMENTATION.md ===

# Ukrainian War Losses Scraper Documentation

## Overview

This enhanced scraper system extracts individual casualty data from the Ukrainian war losses memorial website (https://ualosses.org/en/soldiers/) and aggregates it into monthly statistics for visualization in charts.

## Architecture

### Core Components

1. **UkrainianLossesScraper** (`src/lib/ukraine-losses-scraper.ts`)
   - Main scraper class using Playwright for dynamic content handling
   - Implements proper rate limiting, retry logic, and error handling
   - Supports both sample-based and full scraping modes

2. **DateParser** (`src/lib/date-parser.ts`)
   - Comprehensive date parsing utility
   - Handles various date formats from the memorial website
   - Distinguishes between confirmed and estimated death dates

3. **ComprehensiveWarLossesScraper** (`src/lib/comprehensive-scraper.ts`)
   - Integration layer that combines Ukrainian and Russian data
   - Orchestrates the complete data pipeline

## Features

### Enhanced Data Extraction
- **Dynamic Content Rendering**: Uses Playwright instead of Puppeteer for better JavaScript handling
- **Multiple Date Formats**: Parses various date formats including:
  - "March 16, 2024"
  - "Mar. 16, 2024"
  - "(Feb. 17, 2025)" (estimated dates in parentheses)
- **Confirmed vs Unconfirmed**: Separates confirmed casualties from estimated ones
- **Error Recovery**: Graceful handling of malformed data and network issues

### Smart Sampling Strategy
- **Representative Sampling**: Intelligently selects pages across the entire dataset
- **Scalable Architecture**: Can handle both full scrapes and sample-based extractions
- **Statistical Scaling**: Accurately scales sample data to match known totals

### Data Processing Pipeline
- **Monthly Aggregation**: Groups casualties by death month
- **Data Validation**: Ensures dates fall within reasonable war timeframes
- **Caching System**: Stores results locally for backup and incremental updates

## Configuration Options

```typescript
interface ScrapingConfig {
  maxPages?: number;           // Maximum pages to scrape (default: 50)
  delayBetweenRequests?: number; // Delay in ms (default: 2000)
  retryAttempts?: number;      // Retry failed requests (default: 3)
  enableCaching?: boolean;     // Enable local caching (default: true)
  incrementalUpdate?: boolean; // Only fetch new data (default: false)
}
```

## Usage Examples

### Basic Usage
```typescript
import { createUkrainianLossesScraper } from '@/lib/ukraine-losses-scraper';

const scraper = createUkrainianLossesScraper({
  maxPages: 100,
  delayBetweenRequests: 2000,
  enableCaching: true
});

const result = await scraper.scrape();
const monthlyData = await scraper.aggregateByMonth(result.casualties);
const scaledData = await scraper.scaleToTotal(monthlyData, 158892);
```

### Integration with Existing System
```typescript
// In comprehensive-scraper.ts
const scraper = createUkrainianLossesScraper({
  maxPages: 100,
  delayBetweenRequests: 2000,
  retryAttempts: 3,
  enableCaching: true
});

const scrapingResult = await scraper.scrape();
const monthlyData = await scraper.aggregateByMonth(scrapingResult.casualties);
const scaledData = await scraper.scaleToTotal(monthlyData, 158892);
```

## Data Formats

### Casualty Entry
```typescript
interface CasualtyEntry {
  name: string;
  birthDate?: string;
  deathDate?: string;
  location?: string;
  isEstimated?: boolean; // Death date in parentheses
}
```

### Historical Data Output
```typescript
interface HistoricalData {
  date: string;        // YYYY-MM-DD format
  casualties: number;  // Total casualties for the month
  confirmed?: number;  // Confirmed casualties
  unconfirmed?: number; // Estimated casualties
}
```

### Scraping Result
```typescript
interface ScrapingResult {
  casualties: CasualtyEntry[];
  totalPages: number;
  scrapedPages: number;
  errors: string[];
  summary: {
    totalEntries: number;
    validDeathDates: number;
    estimatedDeaths: number;
    confirmedDeaths: number;
    failedParses: number;
  };
}
```

## Error Handling

### Network Errors
- Automatic retry with exponential backoff
- Graceful degradation to fallback data
- Comprehensive error logging

### Data Parsing Errors
- Individual entry failures don't stop the entire process
- Detailed logging of parsing failures
- Statistical summaries of data quality

### Site Structure Changes
- Multiple selector strategies for finding content
- Flexible pattern matching for different layouts
- Fallback to known data patterns

## Performance Considerations

### Rate Limiting
- 2-3 second delays between requests by default
- Respectful of server resources
- Configurable timing based on site responsiveness

### Memory Management
- Streaming data processing where possible
- Efficient date parsing algorithms
- Garbage collection friendly patterns

### Caching Strategy
- Local file system caching
- Incremental update support
- Backup of raw scraped data

## Testing

### Unit Tests
```bash
# Test the Lost Armour scraper
npm run dev
# Then visit http://localhost:3000/api/scrape-ukraine-lostarmour
```

### Test Coverage
- Date parser validation with various formats
- Scraper functionality with limited pages
- Monthly aggregation accuracy
- Scaling algorithm validation

## Monitoring and Maintenance

### Logging
- Comprehensive logging to console and files
- Timestamp-based log entries
- Error categorization and reporting

### Data Validation
- Sanity checks on casualty counts
- Date range validation
- Cross-reference with known totals

### Maintenance Alerts
- Detection of significant data changes
- Site structure change warnings
- Performance degradation monitoring

## API Integration

### Scrape Endpoint
```
POST /api/scrape
```
Triggers the comprehensive scraping process including the enhanced Ukrainian scraper.

### Data Endpoint
```
GET /api/data
```
Returns the latest scraped and processed data including monthly Ukrainian casualties.

## Future Enhancements

### Planned Features
1. **Real-time Updates**: WebSocket integration for live data updates
2. **Machine Learning**: Pattern recognition for improved data extraction
3. **Multi-language Support**: Support for Ukrainian language pages
4. **Geographic Analysis**: Location-based casualty mapping
5. **Trend Analysis**: Advanced statistical analysis of casualty patterns

### Scalability Improvements
1. **Distributed Scraping**: Multiple worker processes
2. **Database Integration**: Direct database storage for large datasets
3. **API Rate Limiting**: Intelligent request throttling
4. **CDN Integration**: Cached results distribution

## Troubleshooting

### Common Issues

1. **No Data Extracted**
   - Check internet connectivity
   - Verify site accessibility
   - Review selector patterns

2. **High Error Rates**
   - Increase delay between requests
   - Check for site structure changes
   - Verify Playwright installation

3. **Memory Issues**
   - Reduce maxPages configuration
   - Enable incremental updates
   - Monitor system resources

### Debug Mode
Set environment variable `DEBUG_SCRAPER=true` for detailed logging.

## Security Considerations

### Privacy
- No personal data storage beyond memorial information
- Respectful scraping practices
- Compliance with site terms of service

### Data Integrity
- Cryptographic hashing of cached data
- Validation against known totals
- Audit trails for all modifications

## Contributing

When contributing to the scraper:

1. Follow existing code patterns
2. Add comprehensive tests
3. Update documentation
4. Consider performance impact
5. Respect rate limiting guidelines

## License

This scraper is part of the Ukrainian War Losses Tracker project and follows the same licensing terms.


// === File: scripts\compile-russia-monthly.ts ===

import fs from 'fs/promises';
import path from 'path';

interface RussianCasualtyRecord {
  date: string;
  fullName: string;
  confirmationLink: string;
  year?: number;
}

interface RussiaMonthlyData {
  deaths: number; // Russian data only tracks deaths/casualties
  total: number;  // Same as deaths for Russia
}

async function main() {
  const inputArg = process.argv.find(a => a.startsWith('--input='));
  
  const inputPath = inputArg ? inputArg.split('=')[1] : path.join(process.cwd(), 'src', 'data', 'russia', 'casualties.json');
  
  console.log(` Compiling Russia monthly data from: ${inputPath}`);
  
  try {
    const raw = await fs.readFile(inputPath, 'utf-8');
    const records: RussianCasualtyRecord[] = JSON.parse(raw);
    
    if (!Array.isArray(records)) {
      throw new Error('Expected an array of casualty records from zona.media data');
    }
    
    const warStart = new Date('2022-02-24T00:00:00Z'); // Russia invasion start
    // Stop at current month minus one (e.g., if current month is August, stop at July)
    const now = new Date();
    const cutoffMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1); // Previous month
    
    const monthlyData: Record<string, RussiaMonthlyData> = {};

    for (const record of records) {
      if (!record.date || !record.fullName) continue;
      
      // Try to parse date in various formats (DD.MM.YYYY, DD/MM/YYYY, YYYY-MM-DD, etc.)
      let eventDate: Date | null = null;
      
      // Try DD.MM.YYYY format
      const ddmmyyyyMatch = record.date.match(/(\d{1,2})\.(\d{1,2})\.(\d{4})/);
      if (ddmmyyyyMatch) {
        const [, day, month, year] = ddmmyyyyMatch;
        eventDate = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));
      }
      
      // Try DD/MM/YYYY format
      if (!eventDate) {
        const ddmmyyyySlashMatch = record.date.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);
        if (ddmmyyyySlashMatch) {
          const [, day, month, year] = ddmmyyyySlashMatch;
          eventDate = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));
        }
      }
      
      // Try YYYY-MM-DD format
      if (!eventDate) {
        const yyyymmddMatch = record.date.match(/(\d{4})-(\d{1,2})-(\d{1,2})/);
        if (yyyymmddMatch) {
          const [, year, month, day] = yyyymmddMatch;
          eventDate = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));
        }
      }
      
      // If we have a year field, try to extract month/day from date string
      if (!eventDate && record.year) {
        // Look for month and day patterns in the date string
        const monthDayMatch = record.date.match(/(\d{1,2})\.(\d{1,2})/);
        if (monthDayMatch) {
          const [, day, month] = monthDayMatch;
          eventDate = new Date(record.year, parseInt(month) - 1, parseInt(day));
        }
      }
      
      if (!eventDate || isNaN(eventDate.getTime()) || eventDate < warStart) continue;
      
      // Skip if the date is in current month or future months
      const recordMonth = new Date(eventDate.getFullYear(), eventDate.getMonth(), 1);
      if (recordMonth > cutoffMonth) continue;
      
      const monthKey = `${eventDate.getFullYear()}-${String(eventDate.getMonth() + 1).padStart(2, '0')}`;
      
      if (!monthlyData[monthKey]) {
        monthlyData[monthKey] = { deaths: 0, total: 0 };
      }
      
      // Each record represents one death
      monthlyData[monthKey].deaths += 1;
      monthlyData[monthKey].total += 1;
    }

    // Sort by month key and create final output
    const sortedKeys = Object.keys(monthlyData).sort();
    const sortedMonthlyData: Record<string, RussiaMonthlyData> = {};
    for (const key of sortedKeys) {
      sortedMonthlyData[key] = monthlyData[key];
    }

    // Save the compiled monthly data
    const outputPath = path.join(process.cwd(), 'src', 'data', 'russia', `monthly_${new Date().toISOString().split('T')[0]}.json`);
    await fs.mkdir(path.dirname(outputPath), { recursive: true });
    await fs.writeFile(outputPath, JSON.stringify(sortedMonthlyData, null, 2), 'utf-8');
    
    console.log(` Russia monthly data compiled: ${outputPath}`);
    console.log(` Total months: ${sortedKeys.length}`);
    console.log(` Date range: ${sortedKeys[0]} to ${sortedKeys[sortedKeys.length - 1]}`);
    
    // Show sample data
    const sampleEntries = Object.entries(sortedMonthlyData).slice(-3);
    console.log(' Last 3 months sample:');
    for (const [month, data] of sampleEntries) {
      console.log(`  ${month}: ${data.total} total deaths`);
    }
    
  } catch (error) {
    if (error instanceof Error && (error as any).code === 'ENOENT') {
      console.error(` Input file not found: ${inputPath}`);
      console.error(' Make sure to run the Russian scraper first to generate the data file.');
    } else {
      console.error(' Error compiling Russia monthly data:', error);
    }
    process.exit(1);
  }
}

main().catch(err => {
  console.error(' Unexpected error:', err);
  process.exit(1);
});


// === File: scripts\compile-russia-weekly.ts ===

import fs from 'fs/promises';
import path from 'path';

interface RussianCasualtyRecord {
  date: string;
  fullName: string;
  confirmationLink: string;
  year?: number;
}

interface RussiaWeeklyData {
  deaths: number; // Russian data only tracks deaths/casualties
  total: number;  // Same as deaths for Russia
}

// Helper function to get week number and year
function getWeekKey(date: Date): string {
  const year = date.getFullYear();
  const startOfYear = new Date(year, 0, 1);
  const days = Math.floor((date.getTime() - startOfYear.getTime()) / (24 * 60 * 60 * 1000));
  const weekNumber = Math.ceil((days + startOfYear.getDay() + 1) / 7);
  return `${year}-W${String(weekNumber).padStart(2, '0')}`;
}

async function main() {
  const inputArg = process.argv.find(a => a.startsWith('--input='));
  
  const inputPath = inputArg ? inputArg.split('=')[1] : path.join(process.cwd(), 'src', 'data', 'russia', 'casualties.json');
  
  console.log(` Compiling Russia weekly data from: ${inputPath}`);
  
  try {
    const raw = await fs.readFile(inputPath, 'utf-8');
    const records: RussianCasualtyRecord[] = JSON.parse(raw);
    
    if (!Array.isArray(records)) {
      throw new Error('Expected an array of casualty records from zona.media data');
    }
    
    const warStart = new Date('2022-02-24T00:00:00Z'); // Russia invasion start
    // Stop at current month minus one (e.g., if current month is August, stop at July)
    const now = new Date();
    const cutoffMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1); // Previous month
    
    const weeklyData: Record<string, RussiaWeeklyData> = {};

    for (const record of records) {
      if (!record.date || !record.fullName) continue;
      
      // Try to parse date in various formats (DD.MM.YYYY, DD/MM/YYYY, YYYY-MM-DD, etc.)
      let eventDate: Date | null = null;
      
      // Try DD.MM.YYYY format
      const ddmmyyyyMatch = record.date.match(/(\d{1,2})\.(\d{1,2})\.(\d{4})/);
      if (ddmmyyyyMatch) {
        const [, day, month, year] = ddmmyyyyMatch;
        eventDate = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));
      }
      
      // Try DD/MM/YYYY format
      if (!eventDate) {
        const ddmmyyyySlashMatch = record.date.match(/(\d{1,2})\/(\d{1,2})\/(\d{4})/);
        if (ddmmyyyySlashMatch) {
          const [, day, month, year] = ddmmyyyySlashMatch;
          eventDate = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));
        }
      }
      
      // Try YYYY-MM-DD format
      if (!eventDate) {
        const yyyymmddMatch = record.date.match(/(\d{4})-(\d{1,2})-(\d{1,2})/);
        if (yyyymmddMatch) {
          const [, year, month, day] = yyyymmddMatch;
          eventDate = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));
        }
      }
      
      // If we have a year field, try to extract month/day from date string
      if (!eventDate && record.year) {
        // Look for month and day patterns in the date string
        const monthDayMatch = record.date.match(/(\d{1,2})\.(\d{1,2})/);
        if (monthDayMatch) {
          const [, day, month] = monthDayMatch;
          eventDate = new Date(record.year, parseInt(month) - 1, parseInt(day));
        }
      }
      
      if (!eventDate || isNaN(eventDate.getTime()) || eventDate < warStart) continue;
      
      // Skip if the date is in current month or future months
      const recordMonth = new Date(eventDate.getFullYear(), eventDate.getMonth(), 1);
      if (recordMonth > cutoffMonth) continue;
      
      const weekKey = getWeekKey(eventDate);
      
      if (!weeklyData[weekKey]) {
        weeklyData[weekKey] = { deaths: 0, total: 0 };
      }
      
      // Each record represents one death
      weeklyData[weekKey].deaths += 1;
      weeklyData[weekKey].total += 1;
    }

    // Sort by week key and create final output
    const sortedKeys = Object.keys(weeklyData).sort();
    const sortedWeeklyData: Record<string, RussiaWeeklyData> = {};
    for (const key of sortedKeys) {
      sortedWeeklyData[key] = weeklyData[key];
    }

    // Save the compiled weekly data
    const outputPath = path.join(process.cwd(), 'src', 'data', 'russia', `weekly_${new Date().toISOString().split('T')[0]}.json`);
    await fs.mkdir(path.dirname(outputPath), { recursive: true });
    await fs.writeFile(outputPath, JSON.stringify(sortedWeeklyData, null, 2), 'utf-8');
    
    console.log(` Russia weekly data compiled: ${outputPath}`);
    console.log(` Total weeks: ${sortedKeys.length}`);
    console.log(` Date range: ${sortedKeys[0]} to ${sortedKeys[sortedKeys.length - 1]}`);
    
    // Show sample data
    const sampleEntries = Object.entries(sortedWeeklyData).slice(-3);
    console.log(' Last 3 weeks sample:');
    for (const [week, data] of sampleEntries) {
      console.log(`  ${week}: ${data.total} total deaths`);
    }
    
  } catch (error) {
    if (error instanceof Error && (error as any).code === 'ENOENT') {
      console.error(` Input file not found: ${inputPath}`);
      console.error(' Make sure to run the Russian scraper first to generate the data file.');
    } else {
      console.error(' Error compiling Russia weekly data:', error);
    }
    process.exit(1);
  }
}

main().catch(err => {
  console.error(' Unexpected error:', err);
  process.exit(1);
});


// === File: scripts\compile-ukraine-monthly-deduplicated.ts ===

#!/usr/bin/env tsx

import fs from 'fs/promises';
import path from 'path';

interface UkraineLostArmourRecord {
  name: string;
  birthDate: string;
  deathDate: string;
  missingDate: string;
  location: string;
  rawText: string;
  pageSource: string;
  detailUrl: string;
  // Additional fields from Lost Armour
  rank?: string;
  age?: string;
  conscription?: string;
  sources?: string;
  recordType: 'death' | 'missing';
  estimatedDeathDate?: string;
}

interface UkraineMonthlyData {
  deaths: number;
  missing: number;
  total: number;
}

async function compileUkrainianMonthlyDeduplicated() {
  console.log(' Compiling Ukrainian monthly data from DEDUPLICATED Lost Armour records...\n');
  
  try {
    const inputPath = path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers.json');
    
    console.log(` Reading deduplicated data from: ${inputPath}`);
    
    // Check if deduplicated data exists
    try {
      await fs.access(inputPath);
    } catch (error) {
      console.error(` Deduplicated data file not found: ${inputPath}`);
      console.error('   Make sure to run deduplication first');
      process.exit(1);
    }
    
    const raw = await fs.readFile(inputPath, 'utf-8');
    const records: UkraineLostArmourRecord[] = JSON.parse(raw);
    
    console.log(` Deduplicated records loaded: ${records.length.toLocaleString()}`);
    
    // Analyze by record type
    const deathRecords = records.filter(r => r.recordType === 'death');
    const missingRecords = records.filter(r => r.recordType === 'missing');
    
    console.log(`   Deaths: ${deathRecords.length.toLocaleString()}`);
    console.log(`   Missing: ${missingRecords.length.toLocaleString()}`);
    
    // Define war start and cutoff
    const warStart = new Date('2022-02-01T00:00:00Z');
    const now = new Date();
    const cutoffMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1);
    
    console.log(` Date range: ${warStart.toISOString().split('T')[0]} to ${cutoffMonth.toISOString().split('T')[0]}`);
    
    const monthlyData: Record<string, UkraineMonthlyData> = {};
    
    // Process records
    let processedCount = 0;
    let skippedCount = 0;
    
    for (const record of records) {
      // Determine the event date based on record type
      let eventDateStr: string;
      let isDeathRecord = false;
      
      if (record.recordType === 'death' && record.deathDate) {
        eventDateStr = record.deathDate;
        isDeathRecord = true;
      } else if (record.recordType === 'missing' && record.missingDate) {
        eventDateStr = record.missingDate;
        isDeathRecord = false;
      } else {
        // Skip records without proper dates
        skippedCount++;
        continue;
      }
      
      const eventDate = new Date(eventDateStr);
      
      // Skip invalid dates or dates before war start
      if (isNaN(eventDate.getTime()) || eventDate < warStart) {
        skippedCount++;
        continue;
      }
      
      // Skip future dates beyond cutoff
      const recordMonth = new Date(eventDate.getFullYear(), eventDate.getMonth(), 1);
      if (recordMonth > cutoffMonth) {
        skippedCount++;
        continue;
      }
      
      // Create month key
      const monthKey = `${eventDate.getFullYear()}-${String(eventDate.getMonth() + 1).padStart(2, '0')}`;
      
      // Initialize month data if not exists
      if (!monthlyData[monthKey]) {
        monthlyData[monthKey] = { deaths: 0, missing: 0, total: 0 };
      }
      
      // Increment appropriate counter
      if (isDeathRecord) {
        monthlyData[monthKey].deaths += 1;
      } else {
        monthlyData[monthKey].missing += 1;
      }
      
      monthlyData[monthKey].total += 1;
      processedCount++;
    }
    
    console.log(`\n Processing results:`);
    console.log(`   Processed: ${processedCount.toLocaleString()}`);
    console.log(`   Skipped: ${skippedCount.toLocaleString()}`);
    
    // Sort by month
    const sortedKeys = Object.keys(monthlyData).sort();
    const sortedMonthlyData: Record<string, UkraineMonthlyData> = {};
    for (const key of sortedKeys) {
      sortedMonthlyData[key] = monthlyData[key];
    }
    
    // Save compiled data
    const timestamp = new Date().toISOString().split('T')[0];
    const outputPath = path.join(process.cwd(), 'src', 'data', 'ukraine', `monthly-deduplicated_${timestamp}.json`);
    
    await fs.mkdir(path.dirname(outputPath), { recursive: true });
    await fs.writeFile(outputPath, JSON.stringify(sortedMonthlyData, null, 2), 'utf-8');
    
    console.log(`\n Ukrainian deduplicated monthly data compiled: ${outputPath}`);
    console.log(` Total months: ${sortedKeys.length}`);
    
    if (sortedKeys.length > 0) {
      console.log(` Date range: ${sortedKeys[0]} to ${sortedKeys[sortedKeys.length - 1]}`);
    }
    
    // Show sample of recent months
    const sampleEntries = Object.entries(sortedMonthlyData).slice(-5);
    console.log('\n Last 5 months sample:');
    for (const [month, data] of sampleEntries) {
      console.log(`   ${month}: ${data.total.toLocaleString()} total (${data.deaths.toLocaleString()} deaths, ${data.missing.toLocaleString()} missing)`);
    }
    
    // Calculate totals
    const totalDeaths = Object.values(sortedMonthlyData).reduce((sum, data) => sum + data.deaths, 0);
    const totalMissing = Object.values(sortedMonthlyData).reduce((sum, data) => sum + data.missing, 0);
    const grandTotal = totalDeaths + totalMissing;
    
    console.log(`\n Grand totals:`);
    console.log(`   Deaths: ${totalDeaths.toLocaleString()}`);
    console.log(`   Missing: ${totalMissing.toLocaleString()}`);
    console.log(`   Total: ${grandTotal.toLocaleString()}`);
    
    console.log('\n Ukrainian deduplicated monthly compilation completed successfully!');
    
  } catch (error) {
    console.error(' Deduplicated monthly compilation failed:', error);
    process.exit(1);
  }
}

compileUkrainianMonthlyDeduplicated();


// === File: scripts\compile-ukraine-monthly.ts ===

import fs from 'fs/promises';
import path from 'path';

interface UkraineLostArmourRecord {
  name: string;
  birthDate: string;
  deathDate: string;
  missingDate: string;
  location: string;
  rawText: string;
  pageSource: string;
  detailUrl: string;
  // Additional fields from Lost Armour
  rank?: string;
  age?: string;
  conscription?: string;
  sources?: string;
  recordType: 'death' | 'missing';
  estimatedDeathDate?: string;
}

interface UkraineMonthlyData {
  deaths: number;
  missing: number;
  total: number;
}

async function main() {
  const inputArg = process.argv.find(a => a.startsWith('--input='));
  // Use the new Lost Armour raw data
  const inputPath = inputArg ? inputArg.split('=')[1] : path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers-raw.json');
  
  console.log(` Compiling Ukraine monthly data from RAW Lost Armour records: ${inputPath}`);
  
  const raw = await fs.readFile(inputPath, 'utf-8');
  const records: UkraineLostArmourRecord[] = JSON.parse(raw);
  
  console.log(` Raw records loaded: ${records.length.toLocaleString()}`);
  
  // Analyze by record type
  const deathRecords = records.filter(r => r.recordType === 'death');
  const missingRecords = records.filter(r => r.recordType === 'missing');
  
  console.log(`   Deaths: ${deathRecords.length.toLocaleString()}`);
  console.log(`   Missing: ${missingRecords.length.toLocaleString()}`);
  
  const warStart = new Date('2022-02-01T00:00:00Z');
  // Stop at current month minus one (e.g., if current month is August, stop at July)
  const now = new Date();
  const cutoffMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1); // Previous month
  
  const monthlyData: Record<string, UkraineMonthlyData> = {};

  let processedCount = 0;
  let skippedCount = 0;
  
  for (const record of records) {
    // Determine the event date based on record type
    let eventDateStr: string;
    let isDeathRecord = false;
    
    if (record.recordType === 'death' && record.deathDate) {
      eventDateStr = record.deathDate;
      isDeathRecord = true;
    } else if (record.recordType === 'missing' && record.missingDate) {
      eventDateStr = record.missingDate;
      isDeathRecord = false;
    } else {
      // Skip records without proper dates
      skippedCount++;
      continue;
    }
    
    const eventDate = new Date(eventDateStr);
    
    // Skip invalid dates or dates before war start
    if (isNaN(eventDate.getTime()) || eventDate < warStart) {
      skippedCount++;
      continue;
    }
    
    // Skip future dates beyond cutoff
    const recordMonth = new Date(eventDate.getFullYear(), eventDate.getMonth(), 1);
    if (recordMonth > cutoffMonth) {
      skippedCount++;
      continue;
    }
    
    // Create month key
    const monthKey = `${eventDate.getFullYear()}-${String(eventDate.getMonth() + 1).padStart(2, '0')}`;
    
    // Initialize month data if not exists
    if (!monthlyData[monthKey]) {
      monthlyData[monthKey] = { deaths: 0, missing: 0, total: 0 };
    }
    
    // Increment appropriate counter based on record type
    if (isDeathRecord) {
      monthlyData[monthKey].deaths += 1;
    } else {
      monthlyData[monthKey].missing += 1;
    }
    
    monthlyData[monthKey].total += 1;
    processedCount++;
  }
  
  console.log(`\n Processing results:`);
  console.log(`   Processed: ${processedCount.toLocaleString()}`);
  console.log(`   Skipped: ${skippedCount.toLocaleString()}`);

  // Sort by month key and create final output
  const sortedKeys = Object.keys(monthlyData).sort();
  const sortedMonthlyData: Record<string, UkraineMonthlyData> = {};
  for (const key of sortedKeys) {
    sortedMonthlyData[key] = monthlyData[key];
  }

  // Save the compiled monthly data as raw summary
  const outputPath = path.join(process.cwd(), 'src', 'data', 'ukraine', `monthly-raw_${new Date().toISOString().split('T')[0]}.json`);
  await fs.mkdir(path.dirname(outputPath), { recursive: true });
  await fs.writeFile(outputPath, JSON.stringify(sortedMonthlyData, null, 2), 'utf-8');
  
  console.log(` Ukraine monthly data compiled: ${outputPath}`);
  console.log(` Total months: ${sortedKeys.length}`);
  console.log(` Date range: ${sortedKeys[0]} to ${sortedKeys[sortedKeys.length - 1]}`);
  
  // Show sample data
  const sampleEntries = Object.entries(sortedMonthlyData).slice(-3);
  console.log(' Last 3 months sample:');
  for (const [month, data] of sampleEntries) {
    console.log(`  ${month}: ${data.total} total (${data.deaths} deaths, ${data.missing} missing)`);
  }
}

main().catch(err => {
  console.error(' Error compiling Ukraine monthly data:', err);
  process.exit(1);
});


// === File: scripts\compile-ukraine-weekly-deduplicated.ts ===

#!/usr/bin/env tsx

import fs from 'fs/promises';
import path from 'path';

interface UkraineLostArmourRecord {
  name: string;
  birthDate: string;
  deathDate: string;
  missingDate: string;
  location: string;
  rawText: string;
  pageSource: string;
  detailUrl: string;
  // Additional fields from Lost Armour
  rank?: string;
  age?: string;
  conscription?: string;
  sources?: string;
  recordType: 'death' | 'missing';
  estimatedDeathDate?: string;
}

interface UkraineWeeklyData {
  deaths: number;
  missing: number;
  total: number;
}

// Helper function to get week number and year
function getWeekKey(date: Date): string {
  const year = date.getFullYear();
  const startOfYear = new Date(year, 0, 1);
  const days = Math.floor((date.getTime() - startOfYear.getTime()) / (24 * 60 * 60 * 1000));
  const weekNumber = Math.ceil((days + startOfYear.getDay() + 1) / 7);
  return `${year}-W${String(weekNumber).padStart(2, '0')}`;
}

async function compileUkrainianWeeklyDeduplicated() {
  console.log(' Compiling Ukrainian weekly data from DEDUPLICATED Lost Armour records...\n');
  
  try {
    const inputPath = path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers.json');
    
    console.log(` Reading deduplicated data from: ${inputPath}`);
    
    // Check if deduplicated data exists
    try {
      await fs.access(inputPath);
    } catch (error) {
      console.error(` Deduplicated data file not found: ${inputPath}`);
      console.error('   Make sure to run deduplication first');
      process.exit(1);
    }
    
    const raw = await fs.readFile(inputPath, 'utf-8');
    const records: UkraineLostArmourRecord[] = JSON.parse(raw);
    
    console.log(` Deduplicated records loaded: ${records.length.toLocaleString()}`);
    
    // Analyze by record type
    const deathRecords = records.filter(r => r.recordType === 'death');
    const missingRecords = records.filter(r => r.recordType === 'missing');
    
    console.log(`   Deaths: ${deathRecords.length.toLocaleString()}`);
    console.log(`   Missing: ${missingRecords.length.toLocaleString()}`);
    
    // Define war start and cutoff
    const warStart = new Date('2022-02-01T00:00:00Z');
    const now = new Date();
    const cutoffMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1);
    
    console.log(` Date range: ${warStart.toISOString().split('T')[0]} to ${cutoffMonth.toISOString().split('T')[0]}`);
    
    const weeklyData: Record<string, UkraineWeeklyData> = {};
    
    // Process records
    let processedCount = 0;
    let skippedCount = 0;
    
    for (const record of records) {
      // Determine the event date based on record type
      let eventDateStr: string;
      let isDeathRecord = false;
      
      if (record.recordType === 'death' && record.deathDate) {
        eventDateStr = record.deathDate;
        isDeathRecord = true;
      } else if (record.recordType === 'missing' && record.missingDate) {
        eventDateStr = record.missingDate;
        isDeathRecord = false;
      } else {
        // Skip records without proper dates
        skippedCount++;
        continue;
      }
      
      const eventDate = new Date(eventDateStr);
      
      // Skip invalid dates or dates before war start
      if (isNaN(eventDate.getTime()) || eventDate < warStart) {
        skippedCount++;
        continue;
      }
      
      // Skip future dates beyond cutoff
      const recordMonth = new Date(eventDate.getFullYear(), eventDate.getMonth(), 1);
      if (recordMonth > cutoffMonth) {
        skippedCount++;
        continue;
      }
      
      // Create week key
      const weekKey = getWeekKey(eventDate);
      
      // Initialize week data if not exists
      if (!weeklyData[weekKey]) {
        weeklyData[weekKey] = { deaths: 0, missing: 0, total: 0 };
      }
      
      // Increment appropriate counter
      if (isDeathRecord) {
        weeklyData[weekKey].deaths += 1;
      } else {
        weeklyData[weekKey].missing += 1;
      }
      
      weeklyData[weekKey].total += 1;
      processedCount++;
    }
    
    console.log(`\n Processing results:`);
    console.log(`   Processed: ${processedCount.toLocaleString()}`);
    console.log(`   Skipped: ${skippedCount.toLocaleString()}`);
    
    // Sort by week
    const sortedKeys = Object.keys(weeklyData).sort();
    const sortedWeeklyData: Record<string, UkraineWeeklyData> = {};
    for (const key of sortedKeys) {
      sortedWeeklyData[key] = weeklyData[key];
    }
    
    // Save compiled data
    const timestamp = new Date().toISOString().split('T')[0];
    const outputPath = path.join(process.cwd(), 'src', 'data', 'ukraine', `weekly-deduplicated_${timestamp}.json`);
    
    await fs.mkdir(path.dirname(outputPath), { recursive: true });
    await fs.writeFile(outputPath, JSON.stringify(sortedWeeklyData, null, 2), 'utf-8');
    
    console.log(`\n Ukrainian deduplicated weekly data compiled: ${outputPath}`);
    console.log(` Total weeks: ${sortedKeys.length}`);
    
    if (sortedKeys.length > 0) {
      console.log(` Date range: ${sortedKeys[0]} to ${sortedKeys[sortedKeys.length - 1]}`);
    }
    
    // Show sample of recent weeks
    const sampleEntries = Object.entries(sortedWeeklyData).slice(-5);
    console.log('\n Last 5 weeks sample:');
    for (const [week, data] of sampleEntries) {
      console.log(`   ${week}: ${data.total.toLocaleString()} total (${data.deaths.toLocaleString()} deaths, ${data.missing.toLocaleString()} missing)`);
    }
    
    // Calculate totals
    const totalDeaths = Object.values(sortedWeeklyData).reduce((sum, data) => sum + data.deaths, 0);
    const totalMissing = Object.values(sortedWeeklyData).reduce((sum, data) => sum + data.missing, 0);
    const grandTotal = totalDeaths + totalMissing;
    
    console.log(`\n Grand totals:`);
    console.log(`   Deaths: ${totalDeaths.toLocaleString()}`);
    console.log(`   Missing: ${totalMissing.toLocaleString()}`);
    console.log(`   Total: ${grandTotal.toLocaleString()}`);
    
    console.log('\n Ukrainian deduplicated weekly compilation completed successfully!');
    
  } catch (error) {
    console.error(' Deduplicated weekly compilation failed:', error);
    process.exit(1);
  }
}

compileUkrainianWeeklyDeduplicated();


// === File: scripts\compile-ukraine-weekly.ts ===

import fs from 'fs/promises';
import path from 'path';

interface UkraineLostArmourRecord {
  name: string;
  birthDate: string;
  deathDate: string;
  missingDate: string;
  location: string;
  rawText: string;
  pageSource: string;
  detailUrl: string;
  // Additional fields from Lost Armour
  rank?: string;
  age?: string;
  conscription?: string;
  sources?: string;
  recordType: 'death' | 'missing';
  estimatedDeathDate?: string;
}

interface UkraineWeeklyData {
  deaths: number;
  missing: number;
  total: number;
}

// Helper function to get week number and year
function getWeekKey(date: Date): string {
  const year = date.getFullYear();
  const startOfYear = new Date(year, 0, 1);
  const days = Math.floor((date.getTime() - startOfYear.getTime()) / (24 * 60 * 60 * 1000));
  const weekNumber = Math.ceil((days + startOfYear.getDay() + 1) / 7);
  return `${year}-W${String(weekNumber).padStart(2, '0')}`;
}

// Helper function to get week start date
function getWeekStartDate(date: Date): Date {
  const dayOfWeek = date.getDay();
  const diff = date.getDate() - dayOfWeek + (dayOfWeek === 0 ? -6 : 1); // Adjust when day is Sunday
  return new Date(date.getFullYear(), date.getMonth(), diff);
}

async function main() {
  const inputArg = process.argv.find(a => a.startsWith('--input='));
  // Use the new Lost Armour raw data
  const inputPath = inputArg ? inputArg.split('=')[1] : path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers-raw.json');
  
  console.log(` Compiling Ukraine weekly data from RAW Lost Armour records: ${inputPath}`);
  
  const raw = await fs.readFile(inputPath, 'utf-8');
  const records: UkraineLostArmourRecord[] = JSON.parse(raw);
  
  console.log(` Raw records loaded: ${records.length.toLocaleString()}`);
  
  // Analyze by record type
  const deathRecords = records.filter(r => r.recordType === 'death');
  const missingRecords = records.filter(r => r.recordType === 'missing');
  
  console.log(`   Deaths: ${deathRecords.length.toLocaleString()}`);
  console.log(`   Missing: ${missingRecords.length.toLocaleString()}`);
  
  const warStart = new Date('2022-02-01T00:00:00Z');
  // Stop at current month minus one (e.g., if current month is August, stop at July)
  const now = new Date();
  const cutoffMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1); // Previous month
  
  const weeklyData: Record<string, UkraineWeeklyData> = {};

  let processedCount = 0;
  let skippedCount = 0;
  
  for (const record of records) {
    // Determine the event date based on record type
    let eventDateStr: string;
    let isDeathRecord = false;
    
    if (record.recordType === 'death' && record.deathDate) {
      eventDateStr = record.deathDate;
      isDeathRecord = true;
    } else if (record.recordType === 'missing' && record.missingDate) {
      eventDateStr = record.missingDate;
      isDeathRecord = false;
    } else {
      // Skip records without proper dates
      skippedCount++;
      continue;
    }
    
    const eventDate = new Date(eventDateStr);
    
    // Skip invalid dates or dates before war start
    if (isNaN(eventDate.getTime()) || eventDate < warStart) {
      skippedCount++;
      continue;
    }
    
    // Skip future dates beyond cutoff
    const recordMonth = new Date(eventDate.getFullYear(), eventDate.getMonth(), 1);
    if (recordMonth > cutoffMonth) {
      skippedCount++;
      continue;
    }
    
    // Create week key
    const weekKey = getWeekKey(eventDate);
    
    // Initialize week data if not exists
    if (!weeklyData[weekKey]) {
      weeklyData[weekKey] = { deaths: 0, missing: 0, total: 0 };
    }
    
    // Increment appropriate counter based on record type
    if (isDeathRecord) {
      weeklyData[weekKey].deaths += 1;
    } else {
      weeklyData[weekKey].missing += 1;
    }
    
    weeklyData[weekKey].total += 1;
    processedCount++;
  }
  
  console.log(`\n Processing results:`);
  console.log(`   Processed: ${processedCount.toLocaleString()}`);
  console.log(`   Skipped: ${skippedCount.toLocaleString()}`);

  // Sort by week key and create final output
  const sortedKeys = Object.keys(weeklyData).sort();
  const sortedWeeklyData: Record<string, UkraineWeeklyData> = {};
  for (const key of sortedKeys) {
    sortedWeeklyData[key] = weeklyData[key];
  }

  // Save the compiled weekly data as raw summary
  const outputPath = path.join(process.cwd(), 'src', 'data', 'ukraine', `weekly-raw_${new Date().toISOString().split('T')[0]}.json`);
  await fs.mkdir(path.dirname(outputPath), { recursive: true });
  await fs.writeFile(outputPath, JSON.stringify(sortedWeeklyData, null, 2), 'utf-8');
  
  console.log(` Ukraine weekly data compiled: ${outputPath}`);
  console.log(` Total weeks: ${sortedKeys.length}`);
  console.log(` Date range: ${sortedKeys[0]} to ${sortedKeys[sortedKeys.length - 1]}`);
  
  // Show sample data
  const sampleEntries = Object.entries(sortedWeeklyData).slice(-3);
  console.log(' Last 3 weeks sample:');
  for (const [week, data] of sampleEntries) {
    console.log(`  ${week}: ${data.total} total (${data.deaths} deaths, ${data.missing} missing)`);
  }
}

main().catch(err => {
  console.error(' Error compiling Ukraine weekly data:', err);
  process.exit(1);
});


// === File: scripts\deduplicate-russia-data.ts ===

#!/usr/bin/env tsx

import fs from 'fs/promises';
import path from 'path';

type RussianCasualtyRecord = {
    date: string;
    fullName: string;
    confirmationLink: string;
    year?: number;
};

async function deduplicateRussiaData() {
    console.log(' Running Russian casualties deduplication...');
    
    try {
        const inputPath = path.join(process.cwd(), 'src', 'data', 'russia', 'casualties.json');
        const outputPath = path.join(process.cwd(), 'src', 'data', 'russia', 'casualties-deduplicated.json');
        const backupPath = path.join(process.cwd(), 'src', 'data', 'russia', 'casualties-raw.json');
        
        console.log(` Reading raw data from: ${inputPath}`);
        
        // Read the raw data
        const rawData = await fs.readFile(inputPath, 'utf8');
        const records: RussianCasualtyRecord[] = JSON.parse(rawData);
        
        console.log(` Raw records loaded: ${records.length.toLocaleString()}`);
        
        // Backup the raw data
        await fs.writeFile(backupPath, rawData);
        console.log(` Raw data backed up to: ${backupPath}`);
        
        // Deduplication logic
        const seen = new Set<string>();
        const deduplicatedRecords: RussianCasualtyRecord[] = [];
        let duplicatesFound = 0;
        
        console.log(' Processing records for deduplication...');
        
        for (let i = 0; i < records.length; i++) {
            const record = records[i];
            
            // Create unique key for deduplication
            const key = `${record.date}|${record.fullName}|${record.confirmationLink}`;
            
            if (!seen.has(key)) {
                seen.add(key);
                deduplicatedRecords.push(record);
            } else {
                duplicatesFound++;
            }
            
            // Progress reporting
            if ((i + 1) % 1000 === 0) {
                console.log(`   Processed: ${(i + 1).toLocaleString()}/${records.length.toLocaleString()} (${duplicatesFound} duplicates found)`);
            }
        }
        
        console.log(` Deduplication completed!`);
        console.log(` Results:`);
        console.log(`   Original records: ${records.length.toLocaleString()}`);
        console.log(`   Unique records: ${deduplicatedRecords.length.toLocaleString()}`);
        console.log(`   Duplicates removed: ${duplicatesFound.toLocaleString()}`);
        console.log(`   Deduplication rate: ${((duplicatesFound / records.length) * 100).toFixed(1)}%`);
        
        // Analyze the deduplicated data
        console.log('\n Data analysis:');
        
        const yearCounts: Record<number, number> = {};
        let recordsWithLinks = 0;
        let recordsWithYear = 0;
        
        for (const record of deduplicatedRecords) {
            if (record.year) {
                yearCounts[record.year] = (yearCounts[record.year] || 0) + 1;
                recordsWithYear++;
            }
            if (record.confirmationLink) {
                recordsWithLinks++;
            }
        }
        
        console.log(`   Records with confirmation links: ${recordsWithLinks}/${deduplicatedRecords.length} (${((recordsWithLinks/deduplicatedRecords.length)*100).toFixed(1)}%)`);
        console.log(`   Records with year: ${recordsWithYear}/${deduplicatedRecords.length} (${((recordsWithYear/deduplicatedRecords.length)*100).toFixed(1)}%)`);
        
        if (Object.keys(yearCounts).length > 0) {
            console.log('   Year distribution:');
            Object.entries(yearCounts)
                .sort(([a], [b]) => parseInt(b) - parseInt(a))
                .forEach(([year, count]) => {
                    console.log(`     ${year}: ${count.toLocaleString()} records`);
                });
        }
        
        // Save deduplicated data
        console.log(`\n Saving deduplicated data...`);
        await fs.writeFile(outputPath, JSON.stringify(deduplicatedRecords, null, 2));
        console.log(` Deduplicated data saved to: ${outputPath}`);
        
        // Replace the original file with deduplicated data
        await fs.writeFile(inputPath, JSON.stringify(deduplicatedRecords, null, 2));
        console.log(` Original file updated with deduplicated data`);
        
        // File size comparison
        const originalStats = await fs.stat(backupPath);
        const deduplicatedStats = await fs.stat(inputPath);
        
        console.log(`\n File size comparison:`);
        console.log(`   Original: ${(originalStats.size / 1024 / 1024).toFixed(2)} MB`);
        console.log(`   Deduplicated: ${(deduplicatedStats.size / 1024 / 1024).toFixed(2)} MB`);
        console.log(`   Space saved: ${((originalStats.size - deduplicatedStats.size) / 1024 / 1024).toFixed(2)} MB`);
        
        console.log(`\n Deduplication process completed successfully!`);
        console.log(` Final dataset: ${deduplicatedRecords.length.toLocaleString()} unique records`);
        
        return {
            originalCount: records.length,
            deduplicatedCount: deduplicatedRecords.length,
            duplicatesRemoved: duplicatesFound,
            deduplicationRate: (duplicatesFound / records.length) * 100
        };
        
    } catch (error) {
        console.error(' Deduplication failed:', error);
        throw error;
    }
}

// Run if called directly
if (require.main === module) {
    deduplicateRussiaData().catch(error => {
        console.error(' Script failed:', error);
        process.exit(1);
    });
}

export { deduplicateRussiaData };


// === File: scripts\deduplicate-ukraine-lostarmour.ts ===

#!/usr/bin/env tsx

import fs from 'fs/promises';
import path from 'path';

interface UkraineLostArmourRecord {
  name: string;
  birthDate: string;
  deathDate: string;
  missingDate: string;
  location: string;
  rawText: string;
  pageSource: string;
  detailUrl: string;
  // Additional fields from Lost Armour
  rank?: string;
  age?: string;
  conscription?: string;
  sources?: string;
  recordType: 'death' | 'missing';
  estimatedDeathDate?: string;
}

async function deduplicateUkraineLostArmour() {
  console.log(' Starting Ukrainian Lost Armour data deduplication...\n');
  
  try {
    const inputPath = path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers-raw.json');
    const outputPath = path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers.json');
    const backupPath = path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers-raw-backup.json');
    
    console.log(` Reading raw data from: ${inputPath}`);
    
    // Check if raw data exists
    try {
      await fs.access(inputPath);
    } catch (error) {
      console.error(` Raw data file not found: ${inputPath}`);
      console.error('   Make sure to run the Lost Armour scraper first');
      process.exit(1);
    }
    
    const rawData = await fs.readFile(inputPath, 'utf-8');
    const records: UkraineLostArmourRecord[] = JSON.parse(rawData);
    
    console.log(` Raw records loaded: ${records.length.toLocaleString()}`);
    
    // Backup the original raw data
    await fs.writeFile(backupPath, JSON.stringify(records, null, 2), 'utf-8');
    console.log(` Raw data backed up to: ${backupPath}`);
    
    // Enhanced deduplication using comprehensive key
    console.log(` Using comprehensive deduplication key: name + birthDate + deathDate + missingDate + location`);
    
    const uniqueRecords = new Map<string, UkraineLostArmourRecord>();
    let duplicatesRemoved = 0;
    
    console.log(` Processing records for deduplication...`);
    
    for (let i = 0; i < records.length; i++) {
      const record = records[i];
      
      // Create comprehensive key for deduplication
      const key = `${record.name || ''}|${record.birthDate || ''}|${record.deathDate || ''}|${record.missingDate || ''}|${record.location || ''}`;
      
      if (uniqueRecords.has(key)) {
        duplicatesRemoved++;
        
        // If we have a duplicate, prefer the one with more information
        const existing = uniqueRecords.get(key)!;
        const current = record;
        
        // Prefer records with more fields populated
        const existingScore = [existing.rank, existing.age, existing.sources, existing.conscription].filter(Boolean).length;
        const currentScore = [current.rank, current.age, current.sources, current.conscription].filter(Boolean).length;
        
        if (currentScore > existingScore) {
          uniqueRecords.set(key, current);
        }
        
      } else {
        uniqueRecords.set(key, record);
      }
      
      // Progress indicator
      if ((i + 1) % 10000 === 0) {
        console.log(`   Processed: ${(i + 1).toLocaleString()}/${records.length.toLocaleString()} (${duplicatesRemoved} duplicates found)`);
      }
    }
    
    const finalUniqueRecords = Array.from(uniqueRecords.values());
    
    console.log(`\n Lost Armour deduplication completed!`);
    console.log(` Results:`);
    console.log(`   Original records: ${records.length.toLocaleString()}`);
    console.log(`   Unique records: ${finalUniqueRecords.length.toLocaleString()}`);
    console.log(`   Duplicates removed: ${duplicatesRemoved.toLocaleString()}`);
    console.log(`   Deduplication rate: ${(duplicatesRemoved / records.length * 100).toFixed(1)}%`);
    
    // Analyze by record type
    const deathRecords = finalUniqueRecords.filter(r => r.recordType === 'death');
    const missingRecords = finalUniqueRecords.filter(r => r.recordType === 'missing');
    
    console.log(`\n By record type:`);
    console.log(`   Deaths: ${deathRecords.length.toLocaleString()}`);
    console.log(`   Missing: ${missingRecords.length.toLocaleString()}`);
    
    // Date range analysis
    const allDates = finalUniqueRecords
      .map(r => r.deathDate || r.missingDate || r.estimatedDeathDate)
      .filter(Boolean)
      .sort();
    
    if (allDates.length > 0) {
      console.log(`\n Date range: ${allDates[0]} to ${allDates[allDates.length - 1]}`);
    }
    
    // Quality analysis
    const withSources = finalUniqueRecords.filter(r => r.sources && r.sources.length > 0);
    const withRank = finalUniqueRecords.filter(r => r.rank && r.rank.length > 0);
    const withAge = finalUniqueRecords.filter(r => r.age && r.age.length > 0);
    
    console.log(`\n Data quality:`);
    console.log(`   Records with sources: ${withSources.length.toLocaleString()} (${(withSources.length / finalUniqueRecords.length * 100).toFixed(1)}%)`);
    console.log(`   Records with rank: ${withRank.length.toLocaleString()} (${(withRank.length / finalUniqueRecords.length * 100).toFixed(1)}%)`);
    console.log(`   Records with age: ${withAge.length.toLocaleString()} (${(withAge.length / finalUniqueRecords.length * 100).toFixed(1)}%)`);
    
    // Save deduplicated data
    await fs.writeFile(outputPath, JSON.stringify(finalUniqueRecords, null, 2), 'utf-8');
    console.log(`\n Deduplicated data saved: ${outputPath}`);
    
    // Generate file size info
    const rawStats = await fs.stat(inputPath);
    const dedupeStats = await fs.stat(outputPath);
    
    console.log(` File sizes:`);
    console.log(`   Raw: ${(rawStats.size / 1024 / 1024).toFixed(1)} MB`);
    console.log(`   Deduplicated: ${(dedupeStats.size / 1024 / 1024).toFixed(1)} MB`);
    console.log(`   Size reduction: ${((1 - dedupeStats.size / rawStats.size) * 100).toFixed(1)}%`);
    
    console.log('\n Ukrainian Lost Armour deduplication completed successfully!');
    
  } catch (error) {
    console.error(' Deduplication failed:', error);
    process.exit(1);
  }
}

deduplicateUkraineLostArmour();


// === File: scripts\export-soldiers-csv.ts ===

import fs from 'fs/promises';
import path from 'path';

interface SoldierRecord {
  name: string;
  birthDate?: string;
  deathDate?: string;
  missingDate?: string;
  location?: string;
  rawText?: string;
  pageSource?: string;
  detailUrl?: string;
  monthlyDeaths?: number;
  monthlyMissing?: number;
  monthlyLosses?: number;
  totalDeaths?: number;
  totalMissing?: number;
  totalLosses?: number;
}

function csvEscape(value: unknown): string {
  const s = value === undefined || value === null ? '' : String(value);
  if (s.includes('"') || s.includes(',') || s.includes('\n') || s.includes('\r')) {
    return '"' + s.replace(/"/g, '""') + '"';
  }
  return s;
}

async function main() {
  const inputArg = process.argv.find(a => a.startsWith('--input='));
  const outputArg = process.argv.find(a => a.startsWith('--out='));
  const inputPath = inputArg ? inputArg.split('=')[1] : path.join(process.cwd(), 'cache', 'ukraine-soldiers', `soldiers_all_${new Date().toISOString().split('T')[0]}.json`);
  const outPath = outputArg ? outputArg.split('=')[1] : path.join(process.cwd(), 'cache', 'ukraine-soldiers', `soldiers_${new Date().toISOString().split('T')[0]}.csv`);

  const json = await fs.readFile(inputPath, 'utf-8');
  const records: SoldierRecord[] = JSON.parse(json);

  const headers = [
    'name',
    'birthDate',
    'deathDate',
    'missingDate',
    'location',
    'rawText',
    'pageSource',
    'detailUrl',
    'monthlyDeaths',
    'monthlyMissing',
    'monthlyLosses',
    'totalDeaths',
    'totalMissing',
    'totalLosses'
  ];

  const lines: string[] = [];
  lines.push(headers.join(','));
  for (const r of records) {
    const row = [
      r.name,
      r.birthDate,
      r.deathDate,
      r.missingDate,
      r.location,
      r.rawText,
      r.pageSource,
      r.detailUrl,
      r.monthlyDeaths,
      r.monthlyMissing,
      r.monthlyLosses,
      r.totalDeaths,
      r.totalMissing,
      r.totalLosses
    ].map(csvEscape).join(',');
    lines.push(row);
  }

  await fs.mkdir(path.dirname(outPath), { recursive: true });
  await fs.writeFile(outPath, lines.join('\n'), 'utf-8');
  console.log('CSV written:', outPath);
}

main().catch(err => {
  console.error(err);
  process.exit(1);
});




// === File: scripts\extract-russia-2000.ts ===

#!/usr/bin/env tsx

import * as fs from 'fs/promises';
import * as path from 'path';
import { createWriteStream } from 'fs';

type ZonaListItem = {
    id?: string | number;
    _id?: string | number;
    slug?: string;
    url?: string;
    name?: string;
    color?: number;
    [key: string]: any;
};

async function sleep(ms: number): Promise<void> {
    await new Promise(resolve => setTimeout(resolve, ms));
}

async function writeStreamAsync(stream: ReturnType<typeof createWriteStream>, text: string): Promise<void> {
    return new Promise((resolve, reject) => {
        const canWrite = stream.write(text, 'utf8');
        if (canWrite) return resolve();
        stream.once('drain', resolve);
        stream.once('error', reject);
    });
}

async function fetchWithRetry<T>(url: string, retries: number = 3): Promise<T> {
    let attempt = 0;
    let lastError: unknown = null;
    
    while (attempt <= retries) {
        try {
            const res = await fetch(url, { 
                cache: 'no-store',
                headers: {
                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
                }
            });
            
            if (res.status === 429) {
                const waitTime = 5000; // 5 second wait for rate limiting
                console.log(`    Rate limited, waiting ${waitTime/1000}s...`);
                await sleep(waitTime);
                attempt += 1;
                continue;
            }
            
            if (!res.ok) {
                throw new Error(`HTTP ${res.status} fetching ${url}`);
            }
            
            return await res.json() as T;
        } catch (err) {
            lastError = err;
            if (attempt === retries) break;
            await sleep(2000 * Math.pow(2, attempt));
            attempt += 1;
        }
    }
    throw lastError instanceof Error ? lastError : new Error('Unknown fetch error');
}

async function extractRussia2000() {
    console.log(' Extracting first 2000 Russian casualties from 2022...');
    console.log('This will take approximately 50 minutes with 1.5-second delays');
    console.log('');

    const startTime = Date.now();
    const targetRecords = 2000;
    
    try {
        // Get 2022 list
        console.log(' Fetching 2022 casualty list...');
        const listUrl = 'https://200.zona.media/api/case?death=2022';
        const listData = await fetchWithRetry<ZonaListItem[]>(listUrl);
        
        console.log(` Got ${listData.length.toLocaleString()} items from 2022`);
        console.log(` Extracting first ${targetRecords.toLocaleString()} records...`);
        
        const testItems = listData.slice(0, targetRecords);
        
        // Set up streaming write
        const outputPath = path.join(process.cwd(), 'src', 'data', 'russia', 'casualties.json');
        const dir = path.dirname(outputPath);
        await fs.mkdir(dir, { recursive: true });
        
        const tempPath = `${outputPath}.tmp`;
        const stream = createWriteStream(tempPath, { encoding: 'utf8' });
        
        let recordsWritten = 0;
        let successfulFetches = 0;
        let rateLimitHits = 0;
        
        await new Promise<void>((resolve, reject) => {
            stream.once('open', () => resolve());
            stream.once('error', reject);
        });
        
        await writeStreamAsync(stream, '[\n');
        
        console.log(' Starting extraction with 1.5-second delays...');
        console.log('Progress will be shown every 50 records');
        
        for (let i = 0; i < testItems.length; i++) {
            const item = testItems[i];
            
            try {
                const detailUrl = `https://200.zona.media/api/case/${item.url}`;
                
                const detail = await fetchWithRetry<any>(detailUrl);
                
                const enriched = { ...detail, year: 2022 };
                const json = JSON.stringify(enriched);
                
                if (recordsWritten > 0) {
                    await writeStreamAsync(stream, ',\n');
                }
                
                await writeStreamAsync(stream, json);
                recordsWritten++;
                successfulFetches++;
                
                // Progress reporting every 50 records
                if ((i + 1) % 50 === 0) {
                    const elapsed = (Date.now() - startTime) / 1000;
                    const rate = successfulFetches / elapsed;
                    const remaining = targetRecords - (i + 1);
                    const estimatedTimeLeft = remaining / rate / 60;
                    
                    console.log(` Progress: ${i + 1}/${targetRecords} (${((i + 1)/targetRecords*100).toFixed(1)}%)`);
                    console.log(`   Success: ${successfulFetches}, Rate: ${rate.toFixed(1)}/sec, ETA: ${estimatedTimeLeft.toFixed(1)}min`);
                }
                
            } catch (err) {
                if (err instanceof Error && err.message.includes('429')) {
                    rateLimitHits++;
                }
                console.log(`     ${i + 1}/${targetRecords} Failed: ${item.name} - ${err}`);
            }
            
            await sleep(1500); // 1.5-second delay
        }
        
        await writeStreamAsync(stream, '\n]\n');
        await new Promise<void>((resolve, reject) => {
            stream.end(() => resolve());
            stream.once('error', reject);
        });
        
        await fs.rename(tempPath, outputPath);
        
        const totalTime = (Date.now() - startTime) / 1000;
        const rate = successfulFetches / totalTime;
        
        console.log(`\n Extraction completed!`);
        console.log(` Final Results:`);
        console.log(`   Records written: ${recordsWritten.toLocaleString()}`);
        console.log(`   Success rate: ${successfulFetches}/${targetRecords} (${((successfulFetches/targetRecords)*100).toFixed(1)}%)`);
        console.log(`   Rate limit hits: ${rateLimitHits}`);
        console.log(`   Total time: ${(totalTime/60).toFixed(1)} minutes`);
        console.log(`   Average rate: ${rate.toFixed(2)} records/sec`);
        console.log(`   File saved: ${outputPath}`);
        
        // Verify file
        const fileStats = await fs.stat(outputPath);
        console.log(`   File size: ${(fileStats.size / 1024 / 1024).toFixed(2)} MB`);
        
        // Test monthly compiler
        console.log(`\n Running monthly compiler...`);
        const { exec } = require('child_process');
        const { promisify } = require('util');
        const execAsync = promisify(exec);
        
        try {
            const compilerResult = await execAsync('npx tsx scripts/compile-russia-monthly.ts');
            console.log(' Monthly compilation successful!');
            
            // Show compiler output
            const lines = compilerResult.stdout.trim().split('\n');
            lines.slice(-5).forEach((line: string) => console.log(`   ${line}`));
            
        } catch (compilerError) {
            console.log(' Monthly compiler failed:', compilerError);
        }
        
        console.log(`\n Production scaling insights:`);
        console.log(`   Current rate: ${rate.toFixed(2)} records/sec`);
        console.log(`   For full 2022 (18,517 records): ~${(18517 / rate / 3600).toFixed(1)} hours`);
        console.log(`   For all years (101,372 records): ~${(101372 / rate / 3600).toFixed(1)} hours`);
        console.log(`   Recommended: Process one year at a time to avoid long-running requests`);
        
    } catch (error) {
        console.error(' Extraction failed:', error);
    }
}

extractRussia2000();


// === File: scripts\run-ukraine-lostarmour-production.ts ===

#!/usr/bin/env tsx

import { createLostArmourCombinedScraper } from '../src/lib/lostarmour-combined-scraper';
import { execSync } from 'child_process';
import fs from 'fs/promises';
import path from 'path';

async function runUkraineLostArmourProduction() {
  console.log(' Starting Ukraine Lost Armour Production Pipeline...\n');
  
  const startTime = Date.now();
  
  try {
    // Step 1: Scrape both deaths and missing persons from Lost Armour
    console.log(' STEP 1: Scraping Ukrainian casualties from Lost Armour...');
    console.log('   - Deaths: https://lostarmour.info/panel/next/api/public/ukr200/search');
    console.log('   - Missing: https://lostarmour.info/panel/next/api/public/ukr-mia/search');
    
    const scraper = createLostArmourCombinedScraper({
      delayBetweenRequests: 1500, // Be respectful to their API
      maxRetries: 3,
      enableCaching: true,
      testMode: false // Full production mode
    });
    
    const combinedRecords = await scraper.scrapeAllData();
    
    // Generate summary
    scraper.generateSummary(combinedRecords);
    
    // Save combined data
    const savedPath = await scraper.saveToFile(combinedRecords);
    
    const scrapingTime = (Date.now() - startTime) / 1000;
    console.log(` Step 1 completed: Scraping successful!`);
    console.log(`  Scraping time: ${(scrapingTime / 60).toFixed(1)} minutes`);
    console.log(` Total records: ${combinedRecords.length.toLocaleString()}`);
    console.log(` Data saved: ${savedPath}`);
    
    // Step 2: Deduplicate the data
    console.log('\n STEP 2: Deduplicating Ukrainian data...');
    const dedupeStartTime = Date.now();
    
    try {
      execSync('npx tsx scripts/deduplicate-ukraine-lostarmour.ts', {
        stdio: 'inherit',
        cwd: process.cwd()
      });
      
      const dedupeTime = (Date.now() - dedupeStartTime) / 1000;
      console.log(` Step 2 completed: Deduplication successful!`);
      console.log(`  Deduplication time: ${dedupeTime.toFixed(1)} seconds`);
      
    } catch (error) {
      console.error(' Step 2 failed: Deduplication error');
      console.error(error);
      // Continue with compilation even if deduplication fails
    }
    
    // Step 3: Compile monthly data (raw)
    console.log('\n STEP 3: Compiling monthly data from raw records...');
    const compileStartTime = Date.now();
    
    try {
      execSync('npx tsx scripts/compile-ukraine-monthly.ts', {
        stdio: 'inherit',
        cwd: process.cwd()
      });
      
      const compileTime = (Date.now() - compileStartTime) / 1000;
      console.log(` Step 3 completed: Monthly compilation successful!`);
      console.log(`  Compilation time: ${compileTime.toFixed(1)} seconds`);
      
    } catch (error) {
      console.error(' Step 3 failed: Monthly compilation error');
      console.error(error);
      throw error;
    }
    
    // Step 4: Compile monthly data (deduplicated) if deduplication succeeded
    console.log('\n STEP 4: Compiling monthly data from deduplicated records...');
    const deduplicatedPath = path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers.json');
    
    try {
      await fs.access(deduplicatedPath);
      
      execSync('npx tsx scripts/compile-ukraine-monthly-deduplicated.ts', {
        stdio: 'inherit',
        cwd: process.cwd()
      });
      
      console.log(` Step 4 completed: Deduplicated monthly compilation successful!`);
      
    } catch (error) {
      console.log('  Step 4 skipped: No deduplicated data found or compilation failed');
      console.log('   This is not critical - raw data compilation succeeded');
    }
    
    // Step 5: Summary and next steps
    const totalTime = (Date.now() - startTime) / 1000;
    console.log('\n UKRAINE LOST ARMOUR PRODUCTION PIPELINE COMPLETED!');
    console.log(`  Total time: ${(totalTime / 60).toFixed(1)} minutes`);
    
    console.log('\n RESULTS:');
    console.log(`   Raw records: ${combinedRecords.length.toLocaleString()}`);
    console.log(`   Deaths: ${combinedRecords.filter(r => r.recordType === 'death').length.toLocaleString()}`);
    console.log(`   Missing: ${combinedRecords.filter(r => r.recordType === 'missing').length.toLocaleString()}`);
    
    // Check for generated files
    const dataDir = path.join(process.cwd(), 'src', 'data', 'ukraine');
    const files = await fs.readdir(dataDir);
    
    console.log('\n Generated files:');
    const relevantFiles = files.filter(f => 
      f.includes('soldiers-raw.json') || 
      f.includes('soldiers.json') || 
      f.includes('monthly-')
    );
    
    for (const file of relevantFiles) {
      const filePath = path.join(dataDir, file);
      const stats = await fs.stat(filePath);
      const sizeMB = (stats.size / 1024 / 1024).toFixed(1);
      console.log(`   ${file} (${sizeMB} MB)`);
    }
    
    console.log('\n NEXT STEPS:');
    console.log('   1. The chart will now use the new Lost Armour data');
    console.log('   2. Data is much cleaner with no duplicates from website glitches');
    console.log('   3. Missing persons are now properly categorized');
    console.log('   4. Run "npm run dev" to see updated charts');
    
    console.log('\n Production pipeline completed successfully!');
    
  } catch (error) {
    console.error(' Production pipeline failed:', error);
    process.exit(1);
  }
}

// Handle graceful shutdown
process.on('SIGINT', () => {
  console.log('\n  Pipeline interrupted by user');
  process.exit(1);
});

process.on('SIGTERM', () => {
  console.log('\n  Pipeline terminated');
  process.exit(1);
});

runUkraineLostArmourProduction();


// === File: scripts\test-russia-2022-production.ts ===

#!/usr/bin/env tsx

import { exec } from 'child_process';
import { promisify } from 'util';
import fs from 'fs/promises';
import path from 'path';

const execAsync = promisify(exec);

async function testRussia2022Production() {
    console.log(' Testing Russia scraper - First 2000 records from 2022...');
    console.log('This will test the production-ready API with rate limiting protection');
    console.log('');

    const startTime = Date.now();
    
    try {
        // Call the Russia casualties API
        // Using maxPages to limit the number of pages for testing
        console.log(' Calling Russia scraper API...');
        console.log('Parameters: maxPages=50 (to get ~2000 records), delayMs=1500');
        
        const response = await fetch('http://localhost:3000/api/scrape-russia-casualties?maxPages=50&delayMs=1500', {
            method: 'GET',
            headers: {
                'Accept': 'application/json',
            }
        });

        if (!response.ok) {
            throw new Error(`API call failed: ${response.status} ${response.statusText}`);
        }

        const result = await response.json();
        
        if (result.success) {
            const elapsed = (Date.now() - startTime) / 1000;
            console.log(` Russia scraping completed successfully!`);
            console.log(` Records extracted: ${result.total.toLocaleString()}`);
            console.log(`  Total time: ${elapsed.toFixed(1)} seconds`);
            console.log(` Average rate: ${(result.total / elapsed).toFixed(1)} records/sec`);
            console.log(` Data saved to: ${result.outputPath}`);
            
            // Verify the data file
            console.log('\n Verifying data file...');
            const dataExists = await fs.access(result.outputPath).then(() => true).catch(() => false);
            
            if (dataExists) {
                const fileStats = await fs.stat(result.outputPath);
                console.log(` File size: ${(fileStats.size / 1024 / 1024).toFixed(2)} MB`);
                
                // Parse and analyze the data
                const rawData = await fs.readFile(result.outputPath, 'utf8');
                const records = JSON.parse(rawData);
                
                console.log(` Records in file: ${records.length.toLocaleString()}`);
                
                if (records.length > 0) {
                    // Show sample data
                    console.log('\n Sample records:');
                    records.slice(0, 5).forEach((record: any, i: number) => {
                        console.log(`  ${i + 1}. ${record.fullName} - ${record.date}`);
                        console.log(`     Year: ${record.year || 'N/A'}, Link: ${record.confirmationLink ? 'Yes' : 'No'}`);
                    });
                    
                    // Analyze data distribution
                    const monthCounts: Record<string, number> = {};
                    const yearCounts: Record<string, number> = {};
                    
                    for (const record of records) {
                        if (record.date) {
                            const dateMatch = record.date.match(/(\d{1,2})\.(\d{1,2})\.(\d{4})/);
                            if (dateMatch) {
                                const [, day, month, year] = dateMatch;
                                const monthKey = `${year}-${month.padStart(2, '0')}`;
                                monthCounts[monthKey] = (monthCounts[monthKey] || 0) + 1;
                                yearCounts[year] = (yearCounts[year] || 0) + 1;
                            }
                        }
                    }
                    
                    console.log('\n Data Analysis:');
                    console.log('Monthly distribution (top 5):');
                    Object.entries(monthCounts)
                        .sort(([,a], [,b]) => b - a)
                        .slice(0, 5)
                        .forEach(([month, count]) => {
                            console.log(`  ${month}: ${count} casualties`);
                        });
                    
                    console.log('\nYearly distribution:');
                    Object.entries(yearCounts)
                        .sort(([a], [b]) => a.localeCompare(b))
                        .forEach(([year, count]) => {
                            console.log(`  ${year}: ${count} casualties`);
                        });
                }
                
                // Run the monthly compiler
                console.log('\n Running monthly compiler...');
                const compilerResult = await execAsync(`npx tsx scripts/compile-russia-monthly.ts --input="${result.outputPath}"`);
                console.log('Compiler output:', compilerResult.stdout);
                
                // Verify monthly data
                const monthlyPath = path.join(process.cwd(), 'src', 'data', 'russia', `monthly_${new Date().toISOString().split('T')[0]}.json`);
                const monthlyExists = await fs.access(monthlyPath).then(() => true).catch(() => false);
                
                if (monthlyExists) {
                    const monthlyData = JSON.parse(await fs.readFile(monthlyPath, 'utf8'));
                    const monthlyKeys = Object.keys(monthlyData);
                    console.log(` Monthly data compiled: ${monthlyKeys.length} months`);
                    console.log(` Date range: ${monthlyKeys[0]} to ${monthlyKeys[monthlyKeys.length - 1]}`);
                    
                    // Show sample monthly data
                    console.log('\n Monthly totals sample:');
                    Object.entries(monthlyData).slice(-3).forEach(([month, data]: [string, any]) => {
                        console.log(`  ${month}: ${data.total} total deaths`);
                    });
                } else {
                    console.log(' Monthly data compilation failed');
                }
                
            } else {
                console.log(' Data file not found');
            }
            
        } else {
            console.log(` Russia scraper failed: ${result.error}`);
        }
        
    } catch (error) {
        const elapsed = (Date.now() - startTime) / 1000;
        console.error(` Test failed after ${elapsed.toFixed(1)}s:`, error);
        
        if (error instanceof Error && error.message.includes('fetch')) {
            console.log('\n Troubleshooting tips:');
            console.log('1. Make sure the dev server is running: npm run dev');
            console.log('2. Check if the API endpoint is accessible: http://localhost:3000/api/scrape-russia-casualties');
            console.log('3. The API might be rate-limited - try with smaller batchSize');
        }
    }
}

testRussia2022Production();


// === File: scripts\test-russia-direct.ts ===

#!/usr/bin/env tsx

import fs from 'fs/promises';
import path from 'path';
import { createWriteStream } from 'fs';

type ZonaListItem = {
    id?: string | number;
    _id?: string | number;
    slug?: string;
    url?: string;
    name?: string;
    color?: number;
    [key: string]: any;
};

async function sleep(ms: number): Promise<void> {
    await new Promise(resolve => setTimeout(resolve, ms));
}

async function writeStreamAsync(stream: ReturnType<typeof createWriteStream>, text: string): Promise<void> {
    return new Promise((resolve, reject) => {
        const canWrite = stream.write(text, 'utf8');
        if (canWrite) return resolve();
        stream.once('drain', resolve);
        stream.once('error', reject);
    });
}

async function fetchWithRetry<T>(url: string, retries: number = 3): Promise<T> {
    let attempt = 0;
    let lastError: unknown = null;
    
    while (attempt <= retries) {
        try {
            const res = await fetch(url, { 
                cache: 'no-store',
                headers: {
                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
                }
            });
            
            if (res.status === 429) {
                console.log(`  Rate limited, waiting 3s before retry...`);
                await sleep(3000);
                attempt += 1;
                continue;
            }
            
            if (!res.ok) {
                throw new Error(`HTTP ${res.status} fetching ${url}`);
            }
            
            return await res.json() as T;
        } catch (err) {
            lastError = err;
            if (attempt === retries) break;
            await sleep(1000 * Math.pow(2, attempt));
            attempt += 1;
        }
    }
    throw lastError instanceof Error ? lastError : new Error('Unknown fetch error');
}

async function testRussiaDirect() {
    console.log(' Direct Russia scraper test - First 50 records from 2022...');
    console.log('This bypasses the Next.js API and calls zona.media directly');
    console.log('');

    const startTime = Date.now();
    
    try {
        // Get 2022 list
        console.log(' Fetching 2022 casualty list...');
        const listUrl = 'https://200.zona.media/api/case?death=2022';
        const listData = await fetchWithRetry<ZonaListItem[]>(listUrl);
        
        console.log(` Got ${listData.length.toLocaleString()} items from 2022`);
        
        // Take first 50 for testing (to simulate getting ~2000 we'd need to do this 40 times)
        const targetRecords = 50;
        const testItems = listData.slice(0, targetRecords);
        
        console.log(` Testing with first ${targetRecords} records...`);
        
        // Set up streaming write
        const outputPath = path.join(process.cwd(), 'src', 'data', 'russia', 'casualties.json');
        const dir = path.dirname(outputPath);
        await fs.mkdir(dir, { recursive: true });
        
        const tempPath = `${outputPath}.tmp`;
        const stream = createWriteStream(tempPath, { encoding: 'utf8' });
        
        let recordsWritten = 0;
        let successfulFetches = 0;
        
        await new Promise<void>((resolve, reject) => {
            stream.once('open', () => resolve());
            stream.once('error', reject);
        });
        
        await writeStreamAsync(stream, '[\n');
        
        console.log(' Fetching details with 1-second delays...');
        
        for (let i = 0; i < testItems.length; i++) {
            const item = testItems[i];
            
            try {
                const detailUrl = `https://200.zona.media/api/case/${item.url}`;
                console.log(`  ${i + 1}/${testItems.length}: ${item.name}`);
                
                const detail = await fetchWithRetry<any>(detailUrl);
                
                const enriched = { ...detail, year: 2022 };
                const json = JSON.stringify(enriched);
                
                if (recordsWritten > 0) {
                    await writeStreamAsync(stream, ',\n');
                }
                
                await writeStreamAsync(stream, json);
                recordsWritten++;
                successfulFetches++;
                
            } catch (err) {
                console.log(`     Failed: ${err}`);
            }
            
            await sleep(1000); // 1-second delay
        }
        
        await writeStreamAsync(stream, '\n]\n');
        await new Promise<void>((resolve, reject) => {
            stream.end(() => resolve());
            stream.once('error', reject);
        });
        
        await fs.rename(tempPath, outputPath);
        
        const totalTime = (Date.now() - startTime) / 1000;
        const rate = successfulFetches / totalTime;
        
        console.log(`\n Direct test completed:`);
        console.log(` Records written: ${recordsWritten}`);
        console.log(` Success rate: ${successfulFetches}/${testItems.length} (${((successfulFetches/testItems.length)*100).toFixed(1)}%)`);
        console.log(`  Total time: ${totalTime.toFixed(1)}s`);
        console.log(` Average rate: ${rate.toFixed(1)} records/sec`);
        
        // Estimate for 2000 records
        const estimatedTimeFor2000 = (2000 / rate) / 60;
        console.log(` Estimated time for 2000 records: ${estimatedTimeFor2000.toFixed(1)} minutes`);
        
        // Show sample data
        if (recordsWritten > 0) {
            const testData = JSON.parse(await fs.readFile(outputPath, 'utf8'));
            console.log(`\n Sample data (first 3 records):`);
            testData.slice(0, 3).forEach((record: any, i: number) => {
                console.log(`  ${i + 1}. ${record.name} - ${record.death} (${record.region})`);
            });
            
            // Test the monthly compiler
            console.log('\n Testing monthly compiler...');
            const { exec } = require('child_process');
            const { promisify } = require('util');
            const execAsync = promisify(exec);
            
            try {
                const compilerResult = await execAsync('npx tsx scripts/compile-russia-monthly.ts');
                console.log(' Monthly compiler worked:');
                console.log(compilerResult.stdout.split('\n').slice(-5).join('\n')); // Last 5 lines
            } catch (compilerError) {
                console.log(' Monthly compiler failed:', compilerError);
            }
        }
        
        console.log(`\n Production scaling insights:`);
        console.log(`   For 2000 records: ~${(2000 / rate / 60).toFixed(1)} minutes`);
        console.log(`   For 18,517 records (full 2022): ~${(18517 / rate / 60).toFixed(1)} minutes`);
        console.log(`   For 101,372 records (all years): ~${(101372 / rate / 3600).toFixed(1)} hours`);
        
    } catch (error) {
        console.error(' Direct test failed:', error);
    }
}

testRussiaDirect();


// === File: scripts\upload-monthly-data.ts ===

#!/usr/bin/env tsx

/**
 * Monthly Data Upload Script
 * 
 * This script uploads the latest scraped data to Vercel Blob storage
 * with proper naming conventions for automatic discovery.
 * 
 * Usage: npm run upload-monthly-data
 */

import { put } from '@vercel/blob';
import fs from 'fs/promises';
import path from 'path';

// Configuration
const BLOB_TOKEN = process.env.BLOB_READ_WRITE_TOKEN;
const DATA_DIR = path.join(process.cwd(), 'src', 'data');

// File patterns and their blob naming conventions
const UPLOAD_CONFIG = [
  {
    localPath: 'russia/casualties.json',
    blobName: `russia-all-casualties_${getCurrentDate()}.json`,
    description: 'Russia all casualties data'
  },
  {
    localPath: 'ukraine/soldiers.json',
    blobName: `ukraine-all-casualties_${getCurrentDate()}.json`,
    description: 'Ukraine all casualties data'
  },
  {
    localPath: 'ukraine/monthly-deduplicated_2025-08-21.json',
    blobName: `ukraine-monthly-casualties-deduped_${getCurrentDate()}.json`,
    description: 'Ukraine monthly casualties (deduplicated)'
  },
  {
    localPath: 'russia/monthly-deduplicated_2025-08-20.json',
    blobName: `russia-monthly-casualties-deduped_${getCurrentDate()}.json`,
    description: 'Russia monthly casualties (deduplicated)'
  },
  {
    localPath: 'ukraine/weekly-deduplicated_2025-08-21.json',
    blobName: `ukraine-weekly-casualties-deduped_${getCurrentDate()}.json`,
    description: 'Ukraine weekly casualties (deduplicated)'
  },
  {
    localPath: 'russia/weekly_2025-08-21.json',
    blobName: `russia-weekly-casualties-deduped_${getCurrentDate()}.json`,
    description: 'Russia weekly casualties (deduplicated)'
  }
];

function getCurrentDate(): string {
  const now = new Date();
  return now.toISOString().split('T')[0]; // YYYY-MM-DD format
}

async function uploadFile(localPath: string, blobName: string, description: string): Promise<void> {
  try {
    const fullLocalPath = path.join(DATA_DIR, localPath);
    
    // Check if file exists
    try {
      await fs.access(fullLocalPath);
    } catch {
      console.log(`  Skipping ${description}: File not found at ${fullLocalPath}`);
      return;
    }

    console.log(` Uploading ${description}...`);
    
    const fileBuffer = await fs.readFile(fullLocalPath);
    const { url } = await put(blobName, fileBuffer, {
      access: 'public',
      token: BLOB_TOKEN
    });

    console.log(` Successfully uploaded ${description}`);
    console.log(`    URL: ${url}`);
    console.log(`    Blob name: ${blobName}`);
    
  } catch (error) {
    console.error(` Failed to upload ${description}:`, error);
    throw error;
  }
}

async function main() {
  console.log(' Starting monthly data upload to Vercel Blob...');
  console.log(` Date: ${getCurrentDate()}`);
  console.log('');

  if (!BLOB_TOKEN) {
    console.error(' BLOB_READ_WRITE_TOKEN environment variable is required');
    process.exit(1);
  }

  const results = {
    success: 0,
    failed: 0,
    skipped: 0
  };

  for (const config of UPLOAD_CONFIG) {
    try {
      await uploadFile(config.localPath, config.blobName, config.description);
      results.success++;
    } catch (error) {
      results.failed++;
    }
  }

  console.log('');
  console.log(' Upload Summary:');
  console.log(`    Successful: ${results.success}`);
  console.log(`    Failed: ${results.failed}`);
  console.log(`     Skipped: ${results.skipped}`);
  console.log('');
  console.log(' Monthly data upload completed!');
  console.log('');
  console.log(' The application will automatically discover and use these new files.');
  console.log('   No manual configuration changes are needed.');
}

// Run the script
if (require.main === module) {
  main().catch((error) => {
    console.error(' Script failed:', error);
    process.exit(1);
  });
}


// === File: scripts\upload-to-blob.ts ===

#!/usr/bin/env tsx

import { put } from '@vercel/blob';
import * as fs from 'fs/promises';
import * as path from 'path';



async function uploadFileToBlob(filePath: string, blobName: string) {
  try {
    console.log(` Uploading ${filePath} to blob storage as ${blobName}...`);
    
    const fileContent = await fs.readFile(filePath);
    const result = await put(blobName, fileContent, {
      access: 'public',
      contentType: 'application/json',
      token: process.env.BLOB_READ_WRITE_TOKEN
    });
    
    console.log(` Uploaded ${blobName}: ${result.url}`);
    console.log(`   Size: ${(fileContent.length / 1024 / 1024).toFixed(2)} MB`);
    
    return result;
  } catch (error) {
    console.error(` Failed to upload ${blobName}:`, error);
    throw error;
  }
}

async function uploadDataFiles() {
  console.log(' Starting upload of data files to Vercel Blob Storage...\n');
  
  const uploads = [
    {
      filePath: 'src/data/ukraine/soldiers-raw.json',
      blobName: 'ukraine-soldiers-raw.json',
      envVar: 'UKRAINE_SOLDIERS_BLOB_URL'
    },
    {
      filePath: 'src/data/ukraine/monthly-raw_2025-08-21.json',
      blobName: 'ukraine-monthly-raw.json',
      envVar: 'UKRAINE_MONTHLY_BLOB_URL'
    },
    {
      filePath: 'src/data/russia/monthly_2025-08-21.json',
      blobName: 'russia-monthly.json',
      envVar: 'RUSSIA_MONTHLY_BLOB_URL'
    },
    {
      filePath: 'src/data/ukraine/weekly-raw_2025-08-21.json',
      blobName: 'ukraine-weekly-raw.json',
      envVar: 'UKRAINE_WEEKLY_BLOB_URL'
    },
    {
      filePath: 'src/data/russia/weekly_2025-08-21.json',
      blobName: 'russia-weekly.json',
      envVar: 'RUSSIA_WEEKLY_BLOB_URL'
    }
  ];
  
  const results: Record<string, string> = {};
  
  for (const upload of uploads) {
    try {
      const result = await uploadFileToBlob(upload.filePath, upload.blobName);
      results[upload.envVar] = result.url;
    } catch (error) {
      console.error(`Failed to upload ${upload.filePath}`);
    }
  }
  
  console.log('\n Environment variables to add to your .env file:');
  console.log('==================================================');
  
  for (const [envVar, url] of Object.entries(results)) {
    console.log(`${envVar}=${url}`);
  }
  
  console.log('\n Add these environment variables to your Vercel project settings');
  console.log('   or to your .env.local file for local development.');
  
  return results;
}

// Run the upload
uploadDataFiles().catch(console.error);


// === File: .github\workflows\monthly-scrape.yml ===

name: Monthly Ukrainian Losses Data Update

on:
  schedule:
    # Run at 2 AM UTC on the 1st day of every month
    - cron: '0 2 1 * *'
  workflow_dispatch: # Allow manual triggering

jobs:
  scrape-and-update:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        cache: 'npm'
        
    - name: Install dependencies
      run: npm ci
      
    - name: Install Playwright browsers
      run: npx playwright install chromium
      
    - name: Run comprehensive scraper
      run: |
        npm run build
        npm start &
        sleep 30
        curl -X POST http://localhost:3000/api/scrape -H "Content-Type: application/json"
      env:
        NODE_ENV: production
        
    - name: Commit and push updated data
      run: |
        git config --local user.email "action@github.com"
        git config --local user.name "GitHub Action"
        git add src/data/casualties.json
        git add cache/ || true
        if git diff --staged --quiet; then
          echo "No changes to commit"
        else
          git commit -m " Monthly Ukrainian losses data update - $(date +'%B %Y')"
          git push
        fi
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        
    - name: Create summary report
      run: |
        echo "##  Monthly Scraping Report - $(date +'%B %Y')" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo " Ukrainian losses data updated successfully" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "### Data Summary" >> $GITHUB_STEP_SUMMARY
        echo "- **Last Updated**: $(date)" >> $GITHUB_STEP_SUMMARY
        echo "- **Total Ukrainian Casualties**: $(jq '.ukraine.total_losses' src/data/casualties.json)" >> $GITHUB_STEP_SUMMARY
        echo "- **Historical Data Points**: $(jq '.ukraineHistorical | length' src/data/casualties.json)" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "### Recent Monthly Data" >> $GITHUB_STEP_SUMMARY
        echo "$(jq -r '.ukraineHistorical[-3:] | .[] | "- **\(.date)**: \(.casualties) casualties (\(.confirmed // 0) confirmed, \(.unconfirmed // 0) unconfirmed)"' src/data/casualties.json)" >> $GITHUB_STEP_SUMMARY


// === File: src\app\globals.css ===

@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

html {
  font-size: 16px;
  scroll-padding-top: 100px; /* Account for sticky header height */
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  line-height: 1.6;
  color: #e2e8f0;
  background-color: #1b1b1b;
  min-height: 100vh;
  overflow-x: hidden;
}

.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 16px;
}

@media (min-width: 640px) {
  .container {
    padding: 0 20px;
  }
}

@media (min-width: 1024px) {
  .container {
    padding: 0 24px;
  }
}

.pulse {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}

/* Custom country flags */
.ukraine-flag {
  background: linear-gradient(to bottom, #0057b7 50%, #ffd700 50%);
  width: 24px;
  height: 18px;
  border-radius: 3px;
  display: inline-block;
}

.russia-flag {
  background: linear-gradient(to bottom, #ffffff 33%, #0039a6 33%, #0039a6 66%, #d52b1e 66%);
  border: 1px solid #3d3d3d;
  width: 24px;
  height: 18px;
  border-radius: 3px;
  display: inline-block;
}

.source-flag {
  width: 32px;
  height: 24px;
  border-radius: 4px;
  flex-shrink: 0;
}

/* Ad placeholder styling for development */
.ad-placeholder {
  background: #333333;
  border: 1px dashed #5a5a5a;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #a0aec0;
  font-size: 0.875rem;
  font-weight: 500;
  min-height: 90px;
}

.ad-placeholder.large {
  min-height: 250px;
}

.ad-placeholder.medium {
  min-height: 280px;
}

/* Responsive ad containers */
.ad-mobile-only {
  display: block;
}

.ad-desktop-only {
  display: none;
}

@media (min-width: 768px) {
  .ad-mobile-only {
    display: none;
  }
  
  .ad-desktop-only {
    display: block;
  }
}

@media (max-width: 767px) {
  .hero h1 {
    font-size: 1.75rem;
  }
  
  .stats-grid {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .stat-card {
    padding: 1.25rem;
  }
  
  .stat-number {
    font-size: 2rem;
  }
  
  .nav {
    display: none;
  }
  
  .header-content {
    justify-content: center;
  }
  
  /* Mobile-specific chart styles */
  .mobile-compact-chart {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Ensure minimum width for readability */
  .mobile-compact-chart .recharts-wrapper {
    min-width: 500px;
  }
  
  /* Add scroll indicator */
  .mobile-compact-chart::after {
    content: '';
    position: absolute;
    bottom: 10px;
    right: 10px;
    background: rgba(0,0,0,0.7);
    color: white;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 12px;
    pointer-events: none;
  }
}

/* Full screen modal specific styles */
.fixed.inset-0 .recharts-wrapper {
  width: 100% !important;
  height: 100% !important;
}

/* Modal chart container styles */
.fixed.inset-0 .flex-1.relative.overflow-hidden {
  height: calc(100vh - 60px); /* Subtract header height */
}

.fixed.inset-0 .recharts-responsive-container {
  width: 100% !important;
  height: 100% !important;
}

/* Ensure chart takes full available space in modal */
.fixed.inset-0 .recharts-responsive-container .recharts-wrapper {
  width: 100% !important;
  height: 100% !important;
}


// === File: src\app\layout.tsx ===

import type { Metadata } from 'next';
import './globals.css';

export const metadata: Metadata = {
  title: {
    default: 'Ukraine-Russia War Personnel Losses Tracker | Real-Time Casualty Data & Statistics',
    template: '%s | Ukraine War Losses Tracker'
  },
  description: 'Comprehensive real-time tracking of Ukraine-Russia war personnel casualties. Get accurate statistics, historical trends, and verified data from official sources. Updated daily with advanced web scraping technology.',
     keywords: 'ukraine russia war casualties, ukraine war losses, russia war losses, military casualties tracker, ukraine russia conflict statistics, war casualties data, ukraine military losses, russia military losses, conflict casualty tracking, ukraine war statistics, russia war statistics, military personnel losses, war data analysis, ukraine russia war tracker, historylegends, history legends',
  authors: [{ name: 'Ukraine War Losses Team' }],
  creator: 'Ukraine War Losses Tracker',
  publisher: 'Ukraine War Losses Tracker',
  formatDetection: {
    email: false,
    address: false,
    telephone: false,
  },
     metadataBase: new URL('https://ukrainewarlosses.org'),
  alternates: {
         canonical: 'https://ukrainewarlosses.org',
  },
  openGraph: {
    title: 'Ukraine-Russia War Personnel Losses Tracker',
    description: 'Real-time tracking of Ukraine-Russia war personnel casualties with verified data, historical trends, and comprehensive statistics.',
    url: 'https://ukrainewarlosses.com',
    siteName: 'Ukraine War Losses Tracker',
    images: [
      {
        url: '/og-main.jpg',
        width: 1200,
        height: 630,
        alt: 'Ukraine-Russia War Casualties Tracker',
      },
    ],
    locale: 'en_US',
    type: 'website',
  },
  twitter: {
    card: 'summary_large_image',
    title: 'Ukraine-Russia War Personnel Losses Tracker',
    description: 'Real-time tracking of Ukraine-Russia war personnel casualties with verified data and comprehensive statistics.',
    creator: '@ukrainewarlosses',
    images: ['/og-main.jpg'],
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      'max-video-preview': -1,
      'max-image-preview': 'large',
      'max-snippet': -1,
    },
  },
  verification: {
    google: 'your-google-verification-code',
    yandex: 'your-yandex-verification-code',
  },
  other: {
    'geo.region': 'UA',
    'geo.placename': 'Ukraine',
    'geo.position': '48.3794;31.1656',
    'ICBM': '48.3794, 31.1656',
  },
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en" className="scroll-smooth">
      <head>
        <link rel="canonical" href="https://ukrainewarlosses.org" />
        <script 
          async 
          src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1234567890123456" 
          crossOrigin="anonymous"
        />
      </head>
      <body className="font-inter antialiased">
        <script
          type="application/ld+json"
          dangerouslySetInnerHTML={{
            __html: JSON.stringify({
              '@context': 'https://schema.org',
              '@type': 'WebSite',
              name: 'Ukraine War Losses Tracker',
              description: 'Real-time tracking of Ukraine-Russia war personnel casualties with verified data and comprehensive statistics',
              url: 'https://ukrainewarlosses.org',
              author: {
                '@type': 'Organization',
                name: 'Ukraine War Losses Tracker',
                url: 'https://ukrainewarlosses.org'
              },
              publisher: {
                '@type': 'Organization',
                name: 'Ukraine War Losses Tracker',
                url: 'https://ukrainewarlosses.org'
              },
                             keywords: 'ukraine russia war casualties, military losses tracker, war statistics, conflict data, historylegends, history legends',
              inLanguage: 'en-US',
              potentialAction: {
                '@type': 'SearchAction',
                target: 'https://ukrainewarlosses.org/search?q={search_term_string}',
                'query-input': 'required name=search_term_string'
              }
            })
          }}
        />
        <script
          type="application/ld+json"
          dangerouslySetInnerHTML={{
            __html: JSON.stringify({
              '@context': 'https://schema.org',
              '@type': 'Dataset',
              name: 'Ukraine-Russia War Personnel Casualties Dataset',
              description: 'Comprehensive dataset of Ukraine-Russia war personnel casualties with verified data from official sources',
              url: 'https://ukrainewarlosses.org',
              identifier: 'ukraine-russia-war-casualties-2022-2025',
              creator: {
                '@type': 'Organization',
                name: 'Ukraine War Losses Tracker'
              },
              publisher: {
                '@type': 'Organization',
                name: 'Ukraine War Losses Tracker'
              },
              temporalCoverage: '2022-02-24/2025-12-31',
              spatialCoverage: {
                '@type': 'Place',
                name: 'Ukraine and Russia',
                geo: {
                  '@type': 'GeoCoordinates',
                  latitude: 48.3794,
                  longitude: 31.1656
                }
              },
                             keywords: ['ukraine war', 'russia war', 'casualties', 'military losses', 'conflict data', 'historylegends', 'history legends'],
              license: 'https://creativecommons.org/licenses/by-nc/4.0/',
              distribution: [
                {
                  '@type': 'DataDownload',
                  encodingFormat: 'JSON',
                  contentUrl: 'https://ukrainewarlosses.org/api/data'
                }
              ]
            })
          }}
        />
        {children}
      </body>
    </html>
  );
}


// === File: src\app\manifest.json ===

{
  "name": "Ukraine-Russia War Personnel Losses Tracker",
  "short_name": "UkraineWarLosses.org",
  "description": "Real-time tracking of military personnel casualties in the Ukraine-Russia conflict",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#1b1b1b",
  "theme_color": "#d4a574",
  "icons": [
    {
      "src": "/icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}


// === File: src\app\page.tsx ===

import { Metadata } from 'next';
import Header from '@/components/Header';
import Footer from '@/components/Footer';
import Hero from '@/components/Hero';
import StatsCard from '@/components/StatsCard';
import AdBanner from '@/components/AdBanner';
import VideoCard from '@/components/VideoCard';
import SourceCard from '@/components/SourceCard';
import Chart from '@/components/Chart';
import ChartMobileWrapper from '@/components/ChartMobileWrapper';
import { loadCasualtyDataHybrid } from '@/lib/hybridDataLoader';
import { YouTubeEmbed } from '@/types';

export const metadata: Metadata = {
  title: 'Ukraine-Russia War Personnel Losses Tracker | Real-Time Casualty Data & Statistics',
  description: 'Comprehensive real-time tracking of Ukraine-Russia war personnel casualties. Get accurate statistics, historical trends, and verified data from official sources. Updated daily with advanced web scraping technology.',
     keywords: 'ukraine russia war casualties, ukraine war losses, russia war losses, military casualties tracker, ukraine russia conflict statistics, war casualties data, ukraine military losses, russia military losses, conflict casualty tracking, ukraine war statistics, russia war statistics, military personnel losses, war data analysis, ukraine russia war tracker, historylegends, history legends',
  authors: [{ name: 'Ukraine War Losses Team' }],
  creator: 'Ukraine War Losses Tracker',
  publisher: 'Ukraine War Losses Tracker',
  formatDetection: {
    email: false,
    address: false,
    telephone: false,
  },
     metadataBase: new URL('https://ukrainewarlosses.org'),
  alternates: {
         canonical: 'https://ukrainewarlosses.org',
  },
  openGraph: {
    title: 'Ukraine-Russia War Personnel Losses Tracker',
    description: 'Real-time tracking of Ukraine-Russia war personnel casualties with verified data, historical trends, and comprehensive statistics.',
    url: 'https://ukrainewarlosses.org',
    siteName: 'Ukraine War Losses Tracker',
    images: [
      {
        url: '/og-main.jpg',
        width: 1200,
        height: 630,
        alt: 'Ukraine-Russia War Casualties Tracker',
      },
    ],
    locale: 'en_US',
    type: 'website',
  },
  twitter: {
    card: 'summary_large_image',
    title: 'Ukraine-Russia War Personnel Losses Tracker',
    description: 'Real-time tracking of Ukraine-Russia war personnel casualties with verified data and comprehensive statistics.',
    creator: '@ukrainewarlosses',
    images: ['/og-main.jpg'],
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      'max-video-preview': -1,
      'max-image-preview': 'large',
      'max-snippet': -1,
    },
  },
  verification: {
    google: 'your-google-verification-code',
    yandex: 'your-yandex-verification-code',
  },
  other: {
    'geo.region': 'UA',
    'geo.placename': 'Ukraine',
    'geo.position': '48.3794;31.1656',
    'ICBM': '48.3794, 31.1656',
  },
};

// YouTube videos now loaded dynamically from scraped data

async function getCasualtyData() {
  try {
    const data = await loadCasualtyDataHybrid();
    return {
        ukraine: data.ukraine,
        russia: data.russia,
        ukraineHistorical: data.ukraineHistorical,
        russiaHistorical: data.russiaHistorical || [],
        ukraineWeekly: data.ukraineWeekly || [],
        russiaWeekly: data.russiaWeekly || [],
        youtubeVideos: data.youtubeVideos || [],
        lastUpdated: data.lastUpdated
      };
  } catch (error) {
    console.error('Error loading casualty data:', error);
    // Return fallback data
    return {
      ukraine: {
        country: 'ukraine' as const,
        total_losses: 158892,
        dead: 79061,
        missing: 75253,
        prisoners: 4578,
        last_updated: new Date().toISOString(),
        source_url: 'https://ualosses.org/en/soldiers/'
      },
      russia: {
        country: 'russia' as const,
        total_losses: 121507,
        last_updated: new Date().toISOString(),
        source_url: 'https://en.zona.media/article/2025/08/01/casualties_eng-trl'
      },
      ukraineHistorical: [],
      russiaHistorical: [],
      youtubeVideos: [
        {
          title: 'Ukraine War Update - Latest Military Developments',
          youtube_id: 'dQw4w9WgXcQ',
          channel_name: 'History Legends',
        },
        {
          title: 'Military Analysis: Russia vs Ukraine Forces',
          youtube_id: 'oHg5SJYRHA0',
          channel_name: 'History Legends',
        },
        {
          title: 'War Report: Current Situation Analysis',
          youtube_id: 'fC7oUOUEEi4',
          channel_name: 'History Legends',
        },
      ],
      lastUpdated: new Date().toISOString()
    };
  }
}

// Use dynamic rendering to avoid build-time data loading issues
export const dynamic = 'force-dynamic';

export default async function HomePage() {
  // Fetch casualty data server-side with caching
  const data = await getCasualtyData();

  // Structured data for the main page
  const structuredData = {
    '@context': 'https://schema.org',
    '@type': 'WebPage',
    name: 'Ukraine-Russia War Personnel Losses Tracker',
    description: 'Real-time tracking of Ukraine-Russia war personnel casualties with verified data and comprehensive statistics',
    url: 'https://ukrainewarlosses.org',
    mainEntity: {
      '@type': 'Dataset',
      name: 'Ukraine-Russia War Personnel Casualties',
      description: `Current casualty data: Ukraine ${data.ukraine.total_losses.toLocaleString()} losses, Russia ${data.russia.total_losses.toLocaleString()} losses`,
      temporalCoverage: '2022-02-24/2025-12-31',
      spatialCoverage: {
        '@type': 'Place',
        name: 'Ukraine and Russia'
      },
             variableMeasured: ['Ukrainian military casualties', 'Russian military casualties'],
       keywords: ['ukraine war', 'russia war', 'casualties', 'military losses', 'conflict data', 'historylegends', 'history legends'],
      measurementTechnique: 'Web scraping and data verification',
      creator: {
        '@type': 'Organization',
        name: 'Ukraine War Losses Tracker'
      }
    },
    breadcrumb: {
      '@type': 'BreadcrumbList',
      itemListElement: [
        {
          '@type': 'ListItem',
          position: 1,
          name: 'Home',
          item: 'https://ukrainewarlosses.org'
        }
      ]
    }
  };

  return (
    <main className="min-h-screen">
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{
          __html: JSON.stringify(structuredData)
        }}
      />
      <Header />
      
      {/* Header Banner Ad (Desktop) */}
      <div className="container">
        <AdBanner size="header" adSlot="1234567890" />
      </div>

      <div className="container">
        <Hero />

        {/* Personnel Losses Overview */}
        <section id="overview" className="py-8">
          <h2 className="text-2xl font-bold text-text-primary mb-6">
            Personnel Losses Overview
          </h2>
          
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12">
            <StatsCard
              country="russia"
              casualties={data.russia.total_losses}
              title="Russian Forces"
            />
            <StatsCard
              country="ukraine"
              casualties={data.ukraine.total_losses}
              title="Ukrainian Forces"
              breakdown={{
                dead: data.ukraine.dead,
                missing: data.ukraine.missing,
                prisoners: data.ukraine.prisoners
              }}
            />
          </div>
        </section>

        {/* In-Content Ad */}
        <AdBanner size="content" adSlot="0987654321" />

        {/* Trends Chart Section */}
        <section id="trends" className="bg-card-bg border border-border-color rounded-lg p-4 sm:p-6 lg:p-8 my-8">
          <h2 className="text-lg sm:text-xl font-bold text-text-primary mb-4">
             Personnel Casualty Trends Over Time
          </h2>
          <div className="w-full overflow-x-auto">
            <ChartMobileWrapper 
              currentStats={{
                ukraineTotal: data.ukraine.total_losses,
                russiaTotal: data.russia.total_losses,
                lastUpdated: data.lastUpdated
              }}
            >
              <Chart 
                ukraineHistorical={data.ukraineHistorical} 
                russiaHistorical={data.russiaHistorical}
                ukraineWeekly={data.ukraineWeekly}
                russiaWeekly={data.russiaWeekly}
              />
            </ChartMobileWrapper>
          </div>
        </section>

        {/* Mobile Sidebar Ad */}
        <AdBanner size="mobile" adSlot="1122334455" />

        {/* Latest Media Coverage */}
        <section id="videos" className="bg-card-bg border border-border-color rounded-lg p-8 my-8">
          <h2 className="text-xl font-bold text-text-primary mb-4">
             Latest Media Coverage
          </h2>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-4">
            {data.youtubeVideos.map((video, index) => (
              <VideoCard key={index} video={video} />
            ))}
          </div>
        </section>

        {/* Data Sources */}
        <section id="sources" className="bg-card-bg border border-border-color rounded-lg p-8 my-8">
          <h2 className="text-xl font-bold text-text-primary mb-4">
             Data Sources
          </h2>
          <p className="mb-4 text-text-light">
            Our personnel casualty data is compiled from the following verified sources:
          </p>
          
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <SourceCard
              title="Zona Media"
              description="Russian personnel casualty tracking based on probate registry data and open sources"
              url="https://en.zona.media/article/2025/08/01/casualties_eng-trl"
              country="russia"
            />
            <SourceCard
              title="UA Losses"
              description="Ukrainian military personnel casualties from official and verified sources"
              url="https://ualosses.org/en/soldiers/"
              country="ukraine"
            />
          </div>
          
          <p className="mt-6 text-sm text-text-light leading-relaxed">
            Data is continuously monitored and updated from these sources. For detailed methodology information, see our{' '}
            <a href="/methodology" className="text-primary hover:text-primary-dark hover:underline transition-colors">
              methodology page
            </a>
            . We prioritize accuracy and verification over speed of reporting, focusing specifically on personnel losses.
          </p>
        </section>
      </div>

      {/* Footer Banner Ad */}
      <div className="container">
        <AdBanner size="footer" adSlot="5566778899" />
      </div>

      <Footer />
    </main>
  );
}


// === File: src\app\robots.ts ===

import { MetadataRoute } from 'next';

export default function robots(): MetadataRoute.Robots {
  return {
    rules: [
      {
        userAgent: '*',
        allow: '/',
        disallow: ['/api/scrape', '/api/test-*'],
      },
      {
        userAgent: 'Googlebot',
        allow: '/',
        disallow: ['/api/scrape'],
      },
    ],
               sitemap: 'https://ukrainewarlosses.org/sitemap.xml',
           host: 'https://ukrainewarlosses.org',
  };
}


// === File: src\app\sitemap.ts ===

import { MetadataRoute } from 'next';

export default function sitemap(): MetadataRoute.Sitemap {
  return [
    {
             url: 'https://ukrainewarlosses.org',
      lastModified: new Date(),
      changeFrequency: 'daily',
      priority: 1,
    },
    {
             url: 'https://ukrainewarlosses.org/methodology',
      lastModified: new Date(),
      changeFrequency: 'weekly',
      priority: 0.8,
    },
    {
             url: 'https://ukrainewarlosses.org/api/data',
      lastModified: new Date(),
      changeFrequency: 'hourly',
      priority: 0.6,
    },
  ];
}


// === File: src\components\AdBanner.tsx ===

'use client';

import { useEffect } from 'react';
import { AdBannerProps } from '@/types';

declare global {
  interface Window {
    adsbygoogle: any[];
  }
}

const AD_SIZES = {
  header: { width: 728, height: 90, label: '728 x 90 Leaderboard Ad' },
  content: { width: 336, height: 280, label: '336 x 280 Large Rectangle Ad' },
  mobile: { width: 300, height: 250, label: '300 x 250 Medium Rectangle Ad' },
  footer: { width: 728, height: 90, label: '728 x 90 Footer Leaderboard Ad' },
};

export default function AdBanner({ size, adSlot }: AdBannerProps) {
  const adSize = AD_SIZES[size];
  
  useEffect(() => {
    try {
      if (typeof window !== 'undefined' && window.adsbygoogle) {
        (window.adsbygoogle = window.adsbygoogle || []).push({});
      }
    } catch (err) {
      console.log('AdSense error:', err);
    }
  }, []);

  const getResponsiveClasses = () => {
    switch (size) {
      case 'header':
      case 'footer':
        return 'ad-desktop-only';
      case 'mobile':
        return 'ad-mobile-only';
      default:
        return '';
    }
  };

  return (
    <div className={`bg-card-bg border border-border-color rounded-lg p-4 my-8 text-center ${getResponsiveClasses()}`}>
      <div className="text-xs text-text-light uppercase tracking-wide mb-2 font-medium">
        Advertisement
      </div>
      <div className={`ad-placeholder ${size === 'content' ? 'large' : size === 'mobile' ? 'medium' : ''}`}>
        {adSize.label}
        {/* Production AdSense code - uncomment when ready */}
        {/*
        <ins 
          className="adsbygoogle"
          style={{ display: 'block' }}
          data-ad-client={process.env.NEXT_PUBLIC_GOOGLE_ADSENSE_ID}
          data-ad-slot={adSlot}
          data-ad-format={size === 'header' || size === 'footer' ? 'horizontal' : 'rectangle'}
        />
        */}
      </div>
    </div>
  );
}


// === File: src\components\Chart.tsx ===

'use client';

import { useState, useEffect } from 'react';
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';
import { ChartProps } from '@/types';

interface ChartData {
  date: string;
  isoDate: string; // For sorting/filtering
  ukraineTotal: number;
  ukraineDeaths: number;
  ukraineMissing: number;
  ukraineTotalCumulative: number;
  russiaDeaths: number;
  russiaTotalCumulative: number;
}

type TimePeriod = 'monthly' | 'weekly';

export default function Chart({ 
  ukraineHistorical, 
  russiaHistorical, 
  ukraineWeekly, 
  russiaWeekly
}: ChartProps) {
  const [chartData, setChartData] = useState<ChartData[]>([]);
  const [loading, setLoading] = useState(true);
  const [isMobile, setIsMobile] = useState(false);
  const [timePeriod, setTimePeriod] = useState<TimePeriod>('monthly');
  const [isInModal, setIsInModal] = useState(false);
  const [modalHeight, setModalHeight] = useState(0);

  useEffect(() => {
    // Mobile detection
    const checkMobile = () => {
      setIsMobile(window.innerWidth < 768);
    };
    
    checkMobile();
    window.addEventListener('resize', checkMobile);
    
    return () => window.removeEventListener('resize', checkMobile);
  }, []);

  useEffect(() => {
    // Detect if chart is inside modal and calculate height
    const checkModalAndHeight = () => {
      const modalElement = document.querySelector('.fixed.inset-0');
      const isInModalContext = !!modalElement;
      setIsInModal(isInModalContext);
      
      if (isInModalContext) {
        // window.innerHeight - 150px (for header and padding)
        const height = window.innerHeight - 150;
        setModalHeight(height);
      }
    };
    
    checkModalAndHeight();
    window.addEventListener('resize', checkModalAndHeight);
    
    // Use MutationObserver to detect when modal opens/closes
    const observer = new MutationObserver(checkModalAndHeight);
    observer.observe(document.body, { childList: true, subtree: true });
    
    return () => {
      window.removeEventListener('resize', checkModalAndHeight);
      observer.disconnect();
    };
  }, []);

  useEffect(() => {
    const processHistoricalData = () => {
      const dataMap: { [key: string]: ChartData } = {};

      // Choose data source based on time period
      const ukraineData = timePeriod === 'monthly' ? ukraineHistorical : (ukraineWeekly || []);
      const russiaData = timePeriod === 'monthly' ? russiaHistorical : (russiaWeekly || []);
      
      // Debug logging
      console.log(`Chart processing ${timePeriod} data:`, {
        ukraineDataLength: ukraineData.length,
        russiaDataLength: russiaData.length,
        timePeriod
      });

      if (ukraineData && ukraineData.length > 0) {
        ukraineData.forEach(item => {
          let dateKey: string;
          let isoDate: string;
          
          if (timePeriod === 'monthly') {
            // Monthly data: "2022-02-01" format
            const [year, month] = item.date.split('-');
            const date = new Date(parseInt(year), parseInt(month) - 1, 1);
            dateKey = date.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
            isoDate = `${year}-${month}-01`;
          } else {
            // Weekly data: "2022-W09" format
            dateKey = item.date; // Use week key directly
            isoDate = item.date;
          }
          
          if (!dataMap[dateKey]) {
            dataMap[dateKey] = { 
              date: dateKey, 
              isoDate, 
              ukraineTotal: 0, 
              ukraineDeaths: 0, 
              ukraineMissing: 0, 
              ukraineTotalCumulative: 0,
              russiaDeaths: 0,
              russiaTotalCumulative: 0
            };
          }
          
          const deaths = item.confirmed || 0;
          const missing = item.unconfirmed || 0;
          const total = deaths + missing;
          dataMap[dateKey].ukraineTotal = total;
          dataMap[dateKey].ukraineDeaths = deaths;
          dataMap[dateKey].ukraineMissing = missing;
        });
      }

      if (russiaData && russiaData.length > 0) {
        russiaData.forEach(item => {
          let dateKey: string;
          let isoDate: string;
          
          if (timePeriod === 'monthly') {
            // Monthly data: "2022-02-01" format
            const [year, month] = item.date.split('-');
            const date = new Date(parseInt(year), parseInt(month) - 1, 1);
            dateKey = date.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
            isoDate = `${year}-${month}-01`;
          } else {
            // Weekly data: "2022-W09" format
            dateKey = item.date; // Use week key directly
            isoDate = item.date;
          }
          
          if (!dataMap[dateKey]) {
            dataMap[dateKey] = { 
              date: dateKey, 
              isoDate, 
              ukraineTotal: 0, 
              ukraineDeaths: 0, 
              ukraineMissing: 0, 
              ukraineTotalCumulative: 0,
              russiaDeaths: 0,
              russiaTotalCumulative: 0
            };
          }
          
          const deaths = item.casualties || 0; // Russia data has deaths in casualties field
          dataMap[dateKey].russiaDeaths = deaths;
        });
      }

      const processedData = Object.values(dataMap);
      if (processedData.length > 0) {
        // Cut off at last fully completed period (exclude current period and future)
        const now = new Date();
        let filtered: ChartData[];
        
        if (timePeriod === 'monthly') {
          const cutoffDate = new Date(now.getFullYear(), now.getMonth() - 1, 1); // Previous month
          filtered = processedData.filter(p => {
            const d = new Date(p.isoDate);
            return d < cutoffDate;
          });
        } else {
          // For weekly data, we need to handle the ISO week format differently
          // Calculate the current week number and exclude current week
          const currentYear = now.getFullYear();
          const startOfYear = new Date(currentYear, 0, 1);
          const days = Math.floor((now.getTime() - startOfYear.getTime()) / (24 * 60 * 60 * 1000));
          const currentWeekNumber = Math.ceil((days + startOfYear.getDay() + 1) / 7);
          const currentWeekKey = `${currentYear}-W${String(currentWeekNumber).padStart(2, '0')}`;
          
          filtered = processedData.filter(p => {
            // For weekly data, compare week keys directly
            return p.date < currentWeekKey;
          });
        }

        const sortedData = filtered.sort((a, b) => {
          if (timePeriod === 'monthly') {
            const [monthA, yearA] = a.date.split(' ');
            const [monthB, yearB] = b.date.split(' ');
            const dateA = new Date(monthA + ' 1, ' + yearA);
            const dateB = new Date(monthB + ' 1, ' + yearB);
            return dateA.getTime() - dateB.getTime();
          } else {
            // Weekly data is already in sortable format (YYYY-W##)
            return a.date.localeCompare(b.date);
          }
        });

        let ukraineTotalCum = 0;
        let russiaTotalCum = 0;
        const finalData = sortedData.map(item => {
          ukraineTotalCum += item.ukraineTotal;
          russiaTotalCum += item.russiaDeaths;
          return {
            ...item,
            ukraineTotalCumulative: ukraineTotalCum,
            russiaTotalCumulative: russiaTotalCum
          };
        });
        
        console.log(`Final ${timePeriod} chart data:`, {
          dataPoints: finalData.length,
          firstPoint: finalData[0]?.date,
          lastPoint: finalData[finalData.length - 1]?.date
        });
        
        return finalData;
      }

      return [] as ChartData[];
    };

    const processedData = processHistoricalData();
    setChartData(processedData);
    setLoading(false);
  }, [ukraineHistorical, russiaHistorical, ukraineWeekly, russiaWeekly, timePeriod]);

  // Chart configuration based on view mode
  const getChartConfig = () => {
    if (isInModal) {
      return {
        height: modalHeight,
        margins: { top: 30, right: 40, left: 30, bottom: 60 },
        strokeWidth: { ukraine: 4, russia: 3, ukraineCum: 3, russiaCum: 3 },
        dotRadius: { ukraine: 5, russia: 4, ukraineCum: 0, russiaCum: 0 },
        activeDotRadius: { ukraine: 7, russia: 6, ukraineCum: 6, russiaCum: 6 },
        fontSize: { axis: 14, legend: 14, tooltip: 14 },
        xAxisInterval: timePeriod === 'weekly' ? 5 : 2,
        legendLayout: 'horizontal' as const,
        legendAlign: 'center' as const,
        legendVerticalAlign: 'bottom' as const
      };
    } else if (isMobile) {
      return {
        height: "h-80",
        margins: { top: 25, right: 20, left: 15, bottom: 80 },
        strokeWidth: { ukraine: 3, russia: 2.5, ukraineCum: 2, russiaCum: 2 },
        dotRadius: { ukraine: 3, russia: 2, ukraineCum: 0, russiaCum: 0 },
        activeDotRadius: { ukraine: 4, russia: 3, ukraineCum: 3, russiaCum: 3 },
        fontSize: { axis: 10, legend: 12, tooltip: 12 },
        xAxisInterval: 'preserveStartEnd' as const,
        legendLayout: 'vertical' as const,
        legendAlign: 'right' as const,
        legendVerticalAlign: 'top' as const
      };
    } else {
      return {
        height: "h-80 sm:h-96 lg:h-[28rem]",
        margins: { top: 20, right: 30, left: 20, bottom: 40 },
        strokeWidth: { ukraine: 4, russia: 2.5, ukraineCum: 3, russiaCum: 3 },
        dotRadius: { ukraine: 4, russia: 3, ukraineCum: 0, russiaCum: 0 },
        activeDotRadius: { ukraine: 6, russia: 5, ukraineCum: 5, russiaCum: 5 },
        fontSize: { axis: 12, legend: 12, tooltip: 12 },
        xAxisInterval: timePeriod === 'weekly' ? 10 : 3,
        legendLayout: 'horizontal' as const,
        legendAlign: 'center' as const,
        legendVerticalAlign: 'bottom' as const
      };
    }
  };

  const config = getChartConfig();

  const CustomTooltip = ({ active, payload, label }: any) => {
    if (active && payload && payload.length) {
      const data = payload[0].payload;
      
      return (
        <div className={`bg-gray-800 border border-border-color rounded-lg shadow-lg ${isInModal ? 'p-4' : isMobile ? 'p-2 text-xs' : 'p-4'}`}>
          <p className={`text-text-primary font-medium ${isInModal ? 'mb-3 text-sm' : isMobile ? 'mb-1 text-xs' : 'mb-3'}`}>
            {isInModal ? `${timePeriod === 'monthly' ? 'Month' : 'Week'}: ${label}` : isMobile ? label : `${timePeriod === 'monthly' ? 'Month' : 'Week'}: ${label}`}
          </p>
          
          <div className={isInModal ? 'space-y-2' : isMobile ? 'space-y-1' : 'space-y-2'}>
            <div>
              <p className={`font-medium ${isInModal ? 'text-sm' : isMobile ? 'text-xs' : 'text-sm'}`} style={{ color: '#0057B7' }}>
                {isInModal ? 'Ukrainian Total (Deaths + Missing)' : isMobile ? 'UA Total' : 'Ukrainian Total (Deaths + Missing)'}
              </p>
              <p className={`text-gray-300 ${isInModal ? 'text-sm' : 'text-xs'}`}>
                {isInModal ? `${timePeriod === 'monthly' ? 'Monthly' : 'Weekly'}: ${data.ukraineTotal?.toLocaleString() || 0} (${(data.ukraineDeaths || 0).toLocaleString()} + ${(data.ukraineMissing || 0).toLocaleString()})` : 
                 isMobile ? `Period: ${data.ukraineTotal?.toLocaleString() || 0}` : 
                 `${timePeriod === 'monthly' ? 'Monthly' : 'Weekly'}: ${data.ukraineTotal?.toLocaleString() || 0} (${(data.ukraineDeaths || 0).toLocaleString()} + ${(data.ukraineMissing || 0).toLocaleString()})`}
              </p>
              <p className={`text-gray-300 ${isInModal ? 'text-sm' : 'text-xs'}`}>{isInModal ? 'Cumulative' : isMobile ? 'Cum' : 'Cumulative'}: {data.ukraineTotalCumulative?.toLocaleString() || 0}</p>
            </div>
            
            <div>
              <p className={`font-medium ${isInModal ? 'text-sm' : isMobile ? 'text-xs' : 'text-sm'}`} style={{ color: '#DA291C' }}>
                {isInModal ? 'Russian Deaths' : isMobile ? 'RU Deaths' : 'Russian Deaths'}
              </p>
              <p className={`text-gray-300 ${isInModal ? 'text-sm' : 'text-xs'}`}>{isInModal ? `${timePeriod === 'monthly' ? 'Monthly' : 'Weekly'}: ${data.russiaDeaths?.toLocaleString() || 0}` : isMobile ? `Period: ${data.russiaDeaths?.toLocaleString() || 0}` : `${timePeriod === 'monthly' ? 'Monthly' : 'Weekly'}: ${data.russiaDeaths?.toLocaleString() || 0}`}</p>
              <p className={`text-gray-300 ${isInModal ? 'text-sm' : 'text-xs'}`}>{isInModal ? 'Cumulative' : isMobile ? 'Cum' : 'Cumulative'}: {data.russiaTotalCumulative?.toLocaleString() || 0}</p>
            </div>
          </div>
        </div>
      );
    }
    return null;
  };

  if (loading) {
    return (
      <div className="h-75 bg-gray-800 border-2 border-dashed border-gray-600 rounded-md flex items-center justify-content-center text-text-light">
        <div className="text-center">
          <div className="animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"></div>
          Loading chart data...
        </div>
      </div>
    );
  }

  return (
    <div className="w-full">
      {/* Tab Navigation */}
      <div className="flex justify-center mb-6">
        <div className="flex bg-gray-700 rounded-lg p-1">
          <button
            onClick={() => setTimePeriod('monthly')}
            className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${
              timePeriod === 'monthly'
                ? 'bg-primary text-white'
                : 'text-gray-300 hover:text-white hover:bg-gray-600'
            }`}
          >
            Monthly
          </button>
          <button
            onClick={() => setTimePeriod('weekly')}
            className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${
              timePeriod === 'weekly'
                ? 'bg-primary text-white'
                : 'text-gray-300 hover:text-white hover:bg-gray-600'
            }`}
          >
            Weekly
          </button>
        </div>
      </div>

      {/* Chart Container */}
      <div 
        className={typeof config.height === 'string' ? `${config.height} w-full overflow-hidden` : 'w-full overflow-hidden'}
        style={typeof config.height === 'number' ? { height: config.height, width: '100%' } : undefined}
      >
        <ResponsiveContainer width="100%" height="100%">
          <LineChart 
            data={chartData} 
            margin={config.margins}
          >
            <CartesianGrid strokeDasharray="3 3" stroke="#3d3d3d" />
            <XAxis 
              dataKey="date" 
              stroke="#a0aec0" 
              fontSize={config.fontSize.axis}
              tick={{ fill: '#a0aec0', fontSize: config.fontSize.axis }}
              angle={isInModal ? 0 : isMobile ? -45 : 0}
              textAnchor={isInModal ? 'middle' : isMobile ? 'end' : 'middle'}
              height={isInModal ? 50 : isMobile ? 60 : 40}
              interval={config.xAxisInterval}
            />
            <YAxis 
              yAxisId="period"
              stroke="#a0aec0" 
              fontSize={config.fontSize.axis}
              tick={{ fill: '#a0aec0', fontSize: config.fontSize.axis }}
              tickFormatter={(value) => `${(value / 1000).toFixed(0)}k`}
              width={isInModal ? 60 : isMobile ? 30 : 50}
            />
            <YAxis 
              yAxisId="cumulative"
              orientation="right"
              stroke="#a0aec0" 
              fontSize={config.fontSize.axis}
              tick={{ fill: '#a0aec0', fontSize: config.fontSize.axis }}
              tickFormatter={(value) => `${(value / 1000).toFixed(0)}k`}
              width={isInModal ? 60 : isMobile ? 30 : 50}
            />
            <Tooltip content={<CustomTooltip />} />
            <Legend 
              wrapperStyle={{ 
                color: '#a0aec0', 
                fontSize: `${config.fontSize.legend}px`,
                paddingTop: '10px'
              }}
              iconType="line"
              layout={config.legendLayout}
              align={config.legendAlign}
              verticalAlign={config.legendVerticalAlign}
            />
            <Line 
              yAxisId="period"
              type="monotone" 
              dataKey="ukraineTotal" 
              stroke="#0057B7" 
              strokeWidth={config.strokeWidth.ukraine}
              name={isInModal ? "Ukrainian Total (Deaths + Missing)" : isMobile ? "UA Total" : "Ukrainian Total (Deaths + Missing)"}
              dot={{ fill: '#0057B7', strokeWidth: 1, r: config.dotRadius.ukraine }}
              activeDot={{ r: config.activeDotRadius.ukraine, stroke: '#0057B7', strokeWidth: 1, fill: '#0057B7' }}
            />

            <Line 
              yAxisId="period"
              type="monotone" 
              dataKey="russiaDeaths" 
              stroke="#DA291C" 
              strokeWidth={config.strokeWidth.russia}
              name={isInModal ? "Russian Deaths" : isMobile ? "RU Deaths" : "Russian Deaths"}
              dot={{ fill: '#DA291C', strokeWidth: 1, r: config.dotRadius.russia }}
              activeDot={{ r: config.activeDotRadius.russia, stroke: '#DA291C', strokeWidth: 1, fill: '#DA291C' }}
            />
            <Line 
              yAxisId="cumulative"
              type="monotone" 
              dataKey="ukraineTotalCumulative" 
              stroke="#0057B7" 
              strokeWidth={config.strokeWidth.ukraineCum}
              strokeDasharray="5 5"
              name={isInModal ? "Ukrainian Total (Cumulative)" : isMobile ? "UA Total (Cum)" : "Ukrainian Total (Cumulative)"}
              dot={false}
              activeDot={{ r: config.activeDotRadius.ukraineCum, stroke: '#0057B7', strokeWidth: 1, fill: '#0057B7' }}
            />
            <Line 
              yAxisId="cumulative"
              type="monotone" 
              dataKey="russiaTotalCumulative" 
              stroke="#DA291C" 
              strokeWidth={config.strokeWidth.russiaCum}
              strokeDasharray="5 5"
              name={isInModal ? "Russian Total (Cumulative)" : isMobile ? "RU Total (Cum)" : "Russian Total (Cumulative)"}
              dot={false}
              activeDot={{ r: config.activeDotRadius.russiaCum, stroke: '#DA291C', strokeWidth: 1, fill: '#DA291C' }}
            />
          </LineChart>
        </ResponsiveContainer>
      </div>
    </div>
  );
}


// === File: src\components\ChartMobileWrapper.tsx ===

'use client';

import { useState, useEffect } from 'react';
import { Maximize2, X } from 'lucide-react';

interface ChartMobileWrapperProps {
  children: React.ReactNode;
  currentStats?: {
    ukraineTotal: number;
    russiaTotal: number;
    lastUpdated: string;
  };
}

export default function ChartMobileWrapper({ children, currentStats }: ChartMobileWrapperProps) {
  const [isMobile, setIsMobile] = useState(false);
  const [isFullScreen, setIsFullScreen] = useState(false);
  const [modalHeight, setModalHeight] = useState(0);

  useEffect(() => {
    const checkMobile = () => {
      setIsMobile(window.innerWidth < 768);
    };
    
    checkMobile();
    window.addEventListener('resize', checkMobile);
    return () => window.removeEventListener('resize', checkMobile);
  }, []);

  useEffect(() => {
    const calculateModalHeight = () => {
      // window.innerHeight - 56 (header) - 32 (padding)
      const height = window.innerHeight - 56 - 32;
      setModalHeight(height);
    };
    
    calculateModalHeight();
    window.addEventListener('resize', calculateModalHeight);
    return () => window.removeEventListener('resize', calculateModalHeight);
  }, []);

  // Only show mobile features on mobile
  if (!isMobile) {
    return <>{children}</>;
  }

  return (
    <>
      {/* Mobile Compact View */}
      {!isFullScreen && (
        <div>
          {/* Quick Stats Cards - Above existing chart */}
          {currentStats && (
            <div className="grid grid-cols-2 gap-2 mb-3">
              <div className="bg-gray-800 rounded-lg p-3 border border-gray-700">
                <p className="text-xs text-gray-400 mb-1">Ukraine Total</p>
                <p className="text-lg font-bold text-blue-400">
                  {currentStats.ukraineTotal.toLocaleString()}
                </p>
              </div>
              <div className="bg-gray-800 rounded-lg p-3 border border-gray-700">
                <p className="text-xs text-gray-400 mb-1">Russia Total</p>
                <p className="text-lg font-bold text-red-400">
                  {currentStats.russiaTotal.toLocaleString()}
                </p>
              </div>
            </div>
          )}

          {/* Expand Button */}
          <button
            onClick={() => setIsFullScreen(true)}
            className="w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg 
                     flex items-center justify-center gap-2 transition-colors mb-4"
          >
            <Maximize2 size={18} />
            <span className="font-medium">View Full Screen</span>
          </button>

          {/* Original Chart - Unchanged */}
          <div className="mobile-compact-chart">
            {children}
          </div>
        </div>
      )}

      {/* Full Screen Modal - Renders the SAME chart in a modal */}
      {isFullScreen && (
        <div className="fixed inset-0 bg-gray-900 z-50 flex flex-col">
          <div className="bg-gray-800 px-4 py-2 flex justify-between items-center border-b border-gray-700">
            <h2 className="text-lg font-semibold text-white">Casualty Statistics</h2>
            <button
              onClick={() => setIsFullScreen(false)}
              className="p-2 rounded-lg bg-gray-700 hover:bg-gray-600"
            >
              <X size={20} className="text-gray-300" />
            </button>
          </div>
          
          <div className="flex-1 p-4" style={{ height: modalHeight, width: '100%' }}>
            {children}
          </div>
        </div>
      )}
    </>
  );
}


// === File: src\components\Footer.tsx ===

import Link from 'next/link';

export default function Footer() {
  return (
    <footer className="bg-card-bg border-t border-border-color py-8 mt-12">
      <div className="container">
        <div className="text-center text-text-light text-sm leading-relaxed">
          <p className="font-semibold">
            <span className="text-text-primary">UkraineWarLosses.org</span> | Independent tracking of military personnel casualties in the Ukraine-Russia conflict
          </p>
          <p className="mt-2">
            Personnel data compiled from public sources  Not affiliated with any government or military organization
          </p>
          <div className="mt-4 text-xs">
            <span>Last database update: {new Date().toLocaleDateString('en-US', { 
              year: 'numeric', 
              month: 'long', 
              day: 'numeric',
              hour: '2-digit',
              minute: '2-digit',
              timeZone: 'UTC',
              timeZoneName: 'short'
            })}</span>
            <span className="mx-2">|</span>
            <Link href="/methodology" className="text-primary hover:text-primary-dark hover:underline transition-colors">
              Methodology
            </Link>
            <span className="mx-2">|</span>
            <Link href="/contact" className="text-primary hover:text-primary-dark hover:underline transition-colors">
              Contact
            </Link>
          </div>
        </div>
      </div>
    </footer>
  );
}


// === File: src\components\Header.tsx ===

'use client';

import Link from 'next/link';
import { useState, useEffect } from 'react';

export default function Header() {
  const [isSticky, setIsSticky] = useState(false);
  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      setIsSticky(window.scrollY > 0);
    };

    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  return (
    <header className={`bg-card-bg border-b border-border-color sticky top-0 z-50 transition-all duration-200 ${isSticky ? 'shadow-lg shadow-black/30' : 'shadow-sm shadow-black/10'}`}>
      <div className="container">
        <div className="flex justify-between items-center py-4">
                     <Link href="/" className="text-2xl font-bold text-primary no-underline hover:text-primary-dark transition-colors">
             UkraineWarLosses.org
           </Link>
          <nav className="hidden md:flex gap-8">
            <Link href="/" className="text-primary-dark font-medium py-2 border-b-2 border-transparent hover:text-primary hover:border-primary transition-all duration-200">
              Home
            </Link>
            <Link href="/#overview" className="text-primary-dark font-medium py-2 border-b-2 border-transparent hover:text-primary hover:border-primary transition-all duration-200">
              Overview
            </Link>
            <Link href="/#trends" className="text-primary-dark font-medium py-2 border-b-2 border-transparent hover:text-primary hover:border-primary transition-all duration-200">
              Trends
            </Link>
            <Link href="/#videos" className="text-primary-dark font-medium py-2 border-b-2 border-transparent hover:text-primary hover:border-primary transition-all duration-200">
              Coverage
            </Link>
            <Link href="/#sources" className="text-primary-dark font-medium py-2 border-b-2 border-transparent hover:text-primary hover:border-primary transition-all duration-200">
              Sources
            </Link>
            <Link href="/methodology" className="text-primary-dark font-medium py-2 border-b-2 border-transparent hover:text-primary hover:border-primary transition-all duration-200">
              Methodology
            </Link>
          </nav>
          <div className="md:hidden">
            <button
              onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}
              className="text-primary-dark hover:text-primary transition-colors"
            >
              <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
              </svg>
            </button>
          </div>
        </div>
        
        {/* Mobile Menu */}
        {isMobileMenuOpen && (
          <div className="md:hidden border-t border-border-color bg-card-bg">
            <nav className="flex flex-col py-4">
              <Link 
                href="/" 
                className="text-primary-dark font-medium py-3 px-4 hover:text-primary hover:bg-gray-800 transition-colors"
                onClick={() => setIsMobileMenuOpen(false)}
              >
                Home
              </Link>
              <Link 
                href="/#overview" 
                className="text-primary-dark font-medium py-3 px-4 hover:text-primary hover:bg-gray-800 transition-colors"
                onClick={() => setIsMobileMenuOpen(false)}
              >
                Overview
              </Link>
              <Link 
                href="/#trends" 
                className="text-primary-dark font-medium py-3 px-4 hover:text-primary hover:bg-gray-800 transition-colors"
                onClick={() => setIsMobileMenuOpen(false)}
              >
                Trends
              </Link>
              <Link 
                href="/#videos" 
                className="text-primary-dark font-medium py-3 px-4 hover:text-primary hover:bg-gray-800 transition-colors"
                onClick={() => setIsMobileMenuOpen(false)}
              >
                Coverage
              </Link>
              <Link 
                href="/#sources" 
                className="text-primary-dark font-medium py-3 px-4 hover:text-primary hover:bg-gray-800 transition-colors"
                onClick={() => setIsMobileMenuOpen(false)}
              >
                Sources
              </Link>
              <Link 
                href="/methodology" 
                className="text-primary-dark font-medium py-3 px-4 hover:text-primary hover:bg-gray-800 transition-colors"
                onClick={() => setIsMobileMenuOpen(false)}
              >
                Methodology
              </Link>
            </nav>
          </div>
        )}
      </div>
    </header>
  );
}


// === File: src\components\Hero.tsx ===

import UpdateIndicator from './UpdateIndicator';

export default function Hero() {
  return (
    <section className="bg-card-bg py-8 pb-4 border-b border-border-color">
      <div className="container">
        <div className="text-left">
          <h1 className="text-3xl md:text-4xl font-bold text-text-primary mb-2 leading-tight">
            Ukraine-Russia War Personnel Losses Tracker
          </h1>
          <p className="text-base text-text-muted mb-4 max-w-2xl">
            Real-time tracking of military personnel casualties in the Ukraine-Russia conflict, based on verified open sources, obituaries, and official reports.
          </p>
          
          <UpdateIndicator />
          
          <div className="bg-yellow-900/20 border border-yellow-700/40 rounded-md p-4 mt-4">
            <p className="text-sm text-primary leading-relaxed">
              <strong> Methodology Note:</strong> Casualty figures are compiled from publicly available sources including obituaries, social media reports, and official announcements. Numbers represent confirmed minimum losses and actual figures may be higher due to unreported casualties and classification restrictions.
            </p>
          </div>
        </div>
      </div>
    </section>
  );
}


// === File: src\components\SourceCard.tsx ===

interface SourceCardProps {
  title: string;
  description: string;
  url: string;
  country: 'ukraine' | 'russia';
}

export default function SourceCard({ title, description, url, country }: SourceCardProps) {
  const getFlagClass = () => {
    return country === 'ukraine' ? 'ukraine-flag source-flag' : 'russia-flag source-flag';
  };

  return (
    <a 
      href={url} 
      target="_blank" 
      rel="noopener noreferrer"
      className="border border-border-color rounded-md p-4 flex items-center gap-4 text-inherit no-underline transition-all duration-200 bg-gray-800 hover:border-primary hover:bg-border-color"
    >
      <div className={getFlagClass()}></div>
      <div>
        <h3 className="font-semibold text-text-primary mb-1 text-sm">
          {title}
        </h3>
        <p className="text-xs text-text-light">
          {description}
        </p>
      </div>
    </a>
  );
}


// === File: src\components\StatsCard.tsx ===

'use client';

import { useEffect, useState, useRef } from 'react';
import { StatsCardProps } from '@/types';

export default function StatsCard({ country, casualties, title, breakdown }: StatsCardProps) {
  const [displayCount, setDisplayCount] = useState(0);
  const [isVisible, setIsVisible] = useState(false);
  const cardRef = useRef<HTMLDivElement>(null);

  const animateCounter = (target: number) => {
    let current = 0;
    const increment = target / 80;
    const timer = setInterval(() => {
      current += increment;
      if (current >= target) {
        current = target;
        clearInterval(timer);
      }
      setDisplayCount(Math.floor(current));
    }, 25);
  };

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting && !isVisible) {
          setIsVisible(true);
          animateCounter(casualties);
        }
      },
      { threshold: 0.3 }
    );

    if (cardRef.current) {
      observer.observe(cardRef.current);
    }

    return () => observer.disconnect();
  }, [casualties, isVisible]);

  const getFlagClass = () => {
    return country === 'ukraine' ? 'ukraine-flag' : 'russia-flag';
  };

  return (
    <div
      ref={cardRef}
      className="bg-card-bg border border-border-color rounded-lg p-6 transition-all duration-200 hover:border-primary hover:shadow-lg hover:shadow-primary/10"
    >
      <div className="flex justify-between items-center mb-4">
        <div className="flex items-center gap-2 text-base font-semibold text-text-muted">
          <div className={getFlagClass()}></div>
          {title}
        </div>
      </div>
      <div className="text-4xl font-black text-casualty mb-1 leading-none">
        {displayCount.toLocaleString()}
      </div>
      <div className="text-sm text-text-light uppercase tracking-wide font-semibold">
        Total Personnel Losses
      </div>
      <div className="text-xs text-text-muted mt-1">
        February 24, 2022 - {(() => {
          const now = new Date();
          const prevMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1);
          return prevMonth.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
        })()}
      </div>
      
      {breakdown && (breakdown.dead || breakdown.missing || breakdown.prisoners) && (
        <div className="mt-3 pt-3 border-t border-border-color">
          <div className="grid grid-cols-3 gap-2 text-xs">
            {breakdown.dead && (
              <div className="text-center">
                <div className="text-red-400 font-semibold">{breakdown.dead.toLocaleString()}</div>
                <div className="text-text-light">Dead</div>
              </div>
            )}
            {breakdown.missing && (
              <div className="text-center">
                <div className="text-orange-400 font-semibold">{breakdown.missing.toLocaleString()}</div>
                <div className="text-text-light">Missing</div>
              </div>
            )}
            {breakdown.prisoners && (
              <div className="text-center">
                <div className="text-blue-400 font-semibold">{breakdown.prisoners.toLocaleString()}</div>
                <div className="text-text-light">Prisoners</div>
              </div>
            )}
          </div>
        </div>
      )}
    </div>
  );
}


// === File: src\components\UpdateIndicator.tsx ===

'use client';

import { useEffect, useState } from 'react';

export default function UpdateIndicator() {
  const [currentTime, setCurrentTime] = useState<string>('');

  useEffect(() => {
    const updateTime = () => {
      const now = new Date();
      const utcTime = now.toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        timeZone: 'UTC',
        timeZoneName: 'short'
      });
      setCurrentTime(utcTime);
    };

    updateTime();
    const interval = setInterval(updateTime, 60000); // Update every minute

    return () => clearInterval(interval);
  }, []);

  return (
    <div className="flex items-center gap-4 my-4 p-3 bg-gray-800 rounded-md border-l-4 border-primary pulse">
      <div className="text-sm text-text-muted font-medium">
         Last updated: {currentTime}
      </div>
    </div>
  );
}


// === File: src\components\VideoCard.tsx ===

'use client';

import { VideoCardProps } from '@/types';

export default function VideoCard({ video }: VideoCardProps) {
  return (
    <div className="border border-border-color rounded-md overflow-hidden transition-all duration-200 bg-gray-800 hover:border-primary hover:shadow-lg hover:shadow-primary/10">
      <div className="relative w-full h-40 bg-border-color">
        <iframe
          width="100%"
          height="100%"
          src={`https://www.youtube.com/embed/${video.youtube_id}?rel=0&modestbranding=1`}
          title={video.title}
          frameBorder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowFullScreen
          className="w-full h-full"
          loading="lazy"
        />
      </div>
      <div className="p-4">
        <div className="font-semibold text-text-primary mb-2 line-clamp-2 text-sm leading-tight">
          {video.title}
        </div>
        <div className="text-xs text-text-light">
          {video.channel_name}
        </div>
      </div>
    </div>
  );
}


// === File: src\lib\blobDataLoader.ts ===

import { CasualtyData, HistoricalData, ScrapedData } from '@/types';
import { discoverLatestBlobUrl } from './blobDiscovery';
import { YouTubeService } from './youtube';

// Fallback data in case blob files don't exist
const fallbackData: ScrapedData = {
  ukraine: {
    country: 'ukraine',
    total_losses: 158892,
    dead: 79061,
    missing: 75253,
    prisoners: 4578,
    last_updated: new Date().toISOString(),
    source_url: 'https://ualosses.org/en/soldiers/'
  },
  russia: {
    country: 'russia',
    total_losses: 121507,
    last_updated: new Date().toISOString(),
    source_url: 'https://en.zona.media/article/2025/08/01/casualties_eng-trl'
  },
  ukraineHistorical: [],
  russiaHistorical: [],
  youtubeVideos: [],
  lastUpdated: new Date().toISOString()
};

// Helper function to fetch JSON from blob storage
async function fetchFromBlob<T>(blobUrl: string): Promise<T | null> {
  try {
    const response = await fetch(blobUrl);
    if (!response.ok) {
      throw new Error(`HTTP ${response.status} fetching ${blobUrl}`);
    }
    return await response.json() as T;
  } catch (error) {
    console.warn(`Failed to fetch from blob ${blobUrl}:`, error);
    return null;
  }
}

// Load Ukraine Lost Armour totals from blob
async function loadUkraineLostArmourTotals(): Promise<CasualtyData | null> {
  try {
    const soldiersUrl = await discoverLatestBlobUrl('soldiers');
    if (!soldiersUrl) {
      console.warn('No soldiers blob URL available');
      return null;
    }

    const data = await fetchFromBlob<CasualtyData[]>(soldiersUrl);
    if (data && data.length > 0) {
      const latest = data[data.length - 1];
      return {
        country: 'ukraine',
        total_losses: latest.total_losses || 0,
        dead: latest.dead || 0,
        missing: latest.missing || 0,
        prisoners: latest.prisoners || 0,
        last_updated: latest.last_updated || new Date().toISOString(),
        source_url: latest.source_url || 'https://ualosses.org/en/soldiers/'
      };
    }
  } catch (error) {
    console.warn('Failed to load Ukraine Lost Armour totals from blob:', error);
  }
  return null;
}

// Load Russia casualties data from blob
async function loadRussiaCasualtiesFromBlob(): Promise<CasualtyData | null> {
  try {
    const casualtiesUrl = await discoverLatestBlobUrl('casualties');
    if (!casualtiesUrl) {
      console.warn('No casualties blob URL available');
      return null;
    }

    const data = await fetchFromBlob<{ russia: CasualtyData }>(casualtiesUrl);
    if (data && data.russia) {
      return data.russia;
    }
  } catch (error) {
    console.warn('Failed to load Russia casualties from blob:', error);
  }
  return null;
}

// Load compiled Ukraine monthly data from blob
export async function loadCompiledUkraineMonthly(): Promise<HistoricalData[]> {
  try {
    const monthlyUrl = await discoverLatestBlobUrl('ukraine_monthly');
    if (!monthlyUrl) {
      console.warn('No Ukraine monthly blob URL available');
      return [];
    }

    const data = await fetchFromBlob<Record<string, { deaths: number; missing: number; total: number }>>(monthlyUrl);
    if (data) {
      return Object.entries(data)
        .map(([date, stats]) => ({
          date,
          casualties: stats.total,
          confirmed: stats.deaths,
          unconfirmed: stats.missing
        }))
        .sort((a, b) => a.date.localeCompare(b.date));
    }
  } catch (error) {
    console.warn('Failed to load Ukraine monthly data from blob:', error);
  }
  return [];
}

// Load compiled Russia monthly data from blob
export async function loadCompiledRussiaMonthly(): Promise<HistoricalData[]> {
  try {
    const monthlyUrl = await discoverLatestBlobUrl('russia_monthly');
    if (!monthlyUrl) {
      console.warn('No Russia monthly blob URL available');
      return [];
    }

    const data = await fetchFromBlob<Record<string, { deaths: number; total: number }>>(monthlyUrl);
    if (data) {
      return Object.entries(data)
        .map(([date, stats]) => ({
          date,
          casualties: stats.total
        }))
        .sort((a, b) => a.date.localeCompare(b.date));
    }
  } catch (error) {
    console.warn('Failed to load Russia monthly data from blob:', error);
  }
  return [];
}

// Load compiled Ukraine weekly data from blob
async function loadCompiledUkraineWeekly(): Promise<HistoricalData[]> {
  try {
    const weeklyUrl = await discoverLatestBlobUrl('ukraine_weekly');
    if (!weeklyUrl) {
      console.warn('No Ukraine weekly blob URL available');
      return [];
    }

    const data = await fetchFromBlob<Record<string, { deaths: number; missing: number; total: number }>>(weeklyUrl);
    if (data) {
      return Object.entries(data)
        .map(([date, stats]) => ({
          date,
          casualties: stats.total,
          confirmed: stats.deaths,
          unconfirmed: stats.missing
        }))
        .sort((a, b) => a.date.localeCompare(b.date));
    }
  } catch (error) {
    console.warn('Failed to load Ukraine weekly data from blob:', error);
  }
  return [];
}

// Load compiled Russia weekly data from blob
async function loadCompiledRussiaWeekly(): Promise<HistoricalData[]> {
  try {
    const weeklyUrl = await discoverLatestBlobUrl('russia_weekly');
    if (!weeklyUrl) {
      console.warn('No Russia weekly blob URL available');
      return [];
    }

    const data = await fetchFromBlob<Record<string, { deaths: number; total: number }>>(weeklyUrl);
    if (data) {
      return Object.entries(data)
        .map(([date, stats]) => ({
          date,
          casualties: stats.total
        }))
        .sort((a, b) => a.date.localeCompare(b.date));
    }
  } catch (error) {
    console.warn('Failed to load Russia weekly data from blob:', error);
  }
  return [];
}

export async function loadCasualtyDataFromBlob(): Promise<ScrapedData> {
  try {
    let data: ScrapedData = { ...fallbackData };
    
    // Load current Ukraine totals from Lost Armour data
    const ukraineTotals = await loadUkraineLostArmourTotals();
    if (ukraineTotals) {
      data.ukraine = ukraineTotals;
    }
    
    // Load Russia casualties data from blob
    const russiaCasualties = await loadRussiaCasualtiesFromBlob();
    if (russiaCasualties) {
      data.russia = russiaCasualties;
    }
    
    // Load Ukraine monthly historical from blob
    const ukraineMonthlyHistorical = await loadCompiledUkraineMonthly();
    if (ukraineMonthlyHistorical.length > 0) {
      data.ukraineHistorical = ukraineMonthlyHistorical;
    }
    
    // Load Russia monthly historical from blob
    const russiaMonthlyHistorical = await loadCompiledRussiaMonthly();
    if (russiaMonthlyHistorical.length > 0) {
      data.russiaHistorical = russiaMonthlyHistorical;
    }
    
    // Load Ukraine weekly historical from blob
    const ukraineWeeklyHistorical = await loadCompiledUkraineWeekly();
    if (ukraineWeeklyHistorical.length > 0) {
      data.ukraineWeekly = ukraineWeeklyHistorical;
    }
    
    // Load Russia weekly historical from blob
    const russiaWeeklyHistorical = await loadCompiledRussiaWeekly();
    if (russiaWeeklyHistorical.length > 0) {
      data.russiaWeekly = russiaWeeklyHistorical;
    }
    
    // Load YouTube videos dynamically
    try {
      const youtubeService = new YouTubeService();
      const youtubeVideos = await youtubeService.getHistoryLegendsLatestVideos();
      if (youtubeVideos && youtubeVideos.length > 0) {
        // Convert YouTubeVideo format to YouTubeEmbed format
        data.youtubeVideos = youtubeVideos.map(video => ({
          title: video.title,
          youtube_id: video.id,
          channel_name: 'History Legends'
        }));
      }
    } catch (error) {
      console.warn('Failed to load YouTube videos:', error);
      // Keep empty array if YouTube loading fails
    }
    
    // Calculate grand totals from monthly historical data
    // Date range: February 24, 2022 until current month
    const startDate = new Date('2022-02-24');
    const now = new Date();
    const endDate = new Date(now.getFullYear(), now.getMonth(), 1);
    
    let ukraineGrandTotal = 0;
    let russiaGrandTotal = 0;
    
    // Calculate Ukraine grand total from monthly data
    if (data.ukraineHistorical && data.ukraineHistorical.length > 0) {
      ukraineGrandTotal = data.ukraineHistorical
        .filter(item => {
          const [year, month] = item.date.split('-');
          const itemDate = new Date(parseInt(year), parseInt(month) - 1, 1);
          return itemDate >= startDate && itemDate <= endDate;
        })
        .reduce((total, item) => total + (item.casualties || 0), 0);
    }
    
    // Calculate Russia grand total from monthly data
    if (data.russiaHistorical && data.russiaHistorical.length > 0) {
      russiaGrandTotal = data.russiaHistorical
        .filter(item => {
          const [year, month] = item.date.split('-');
          const itemDate = new Date(parseInt(year), parseInt(month) - 1, 1);
          return itemDate >= startDate && itemDate <= endDate;
        })
        .reduce((total, item) => total + (item.casualties || 0), 0);
    }
    
    // Update the totals with grand totals from monthly data
    if (ukraineGrandTotal > 0) {
      data.ukraine.total_losses = ukraineGrandTotal;
    }
    
    if (russiaGrandTotal > 0) {
      data.russia.total_losses = russiaGrandTotal;
    }
    
    // Update last updated timestamp
    data.lastUpdated = new Date().toISOString();
    
    return data;
  } catch (error) {
    console.warn('Could not load casualty data from blob, using fallback data:', error);
    return fallbackData;
  }
}


// === File: src\lib\blobDiscovery.ts ===

// Blob discovery utility for automatically finding the latest data files
import { list } from '@vercel/blob';

// Base blob storage URL
const BLOB_BASE_URL = 'https://uzymqtgbqiawhqjq.public.blob.vercel-storage.com';

// File patterns to look for
const FILE_PATTERNS = {
  casualties: /^russia-all-casualties_\d{4}-\d{2}-\d{2}\.json$/,
  soldiers: /^ukraine-all-casualties_\d{4}-\d{2}-\d{2}\.json$/,
  ukraine_monthly: /^ukraine-monthly-casualties-deduped_\d{4}-\d{2}-\d{2}\.json$/,
  russia_monthly: /^russia-monthly-casualties-deduped_\d{4}-\d{2}-\d{2}\.json$/,
  ukraine_weekly: /^ukraine-weekly-casualties-deduped_\d{4}-\d{2}-\d{2}\.json$/,
  russia_weekly: /^russia-weekly-casualties-deduped_\d{4}-\d{2}-\d{2}\.json$/,
};

// Cache for discovered URLs to avoid repeated API calls
let urlCache: Record<string, { url: string; timestamp: number }> = {};
const CACHE_DURATION = 5 * 60 * 1000; // 5 minutes

// Helper function to extract date from filename
function extractDateFromFilename(filename: string): Date | null {
  const dateMatch = filename.match(/\d{4}-\d{2}-\d{2}/);
  if (dateMatch) {
    return new Date(dateMatch[0]);
  }
  return null;
}

// Helper function to find the latest file matching a pattern
function findLatestFile(files: Array<{ pathname: string; uploadedAt: string }>, pattern: RegExp): string | null {
  const matchingFiles = files
    .filter(file => pattern.test(file.pathname))
    .map(file => ({
      pathname: file.pathname,
      uploadedAt: new Date(file.uploadedAt),
      dateFromName: extractDateFromFilename(file.pathname)
    }))
    .sort((a, b) => {
      // Prefer date from filename if available, otherwise use upload date
      const dateA = a.dateFromName || a.uploadedAt;
      const dateB = b.dateFromName || b.uploadedAt;
      return dateB.getTime() - dateA.getTime();
    });

  return matchingFiles.length > 0 ? matchingFiles[0].pathname : null;
}

// Main function to discover the latest blob URL for a given pattern
export async function discoverLatestBlobUrl(pattern: string): Promise<string | null> {
  try {
    // Check cache first
    const cached = urlCache[pattern];
    if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {
      return cached.url;
    }

    // Skip environment variables for now and always use fallback URLs
    // const envUrl = process.env[`${pattern.toUpperCase()}_BLOB_URL`];
    // if (envUrl) {
    //   urlCache[pattern] = { url: envUrl, timestamp: Date.now() };
    //   return envUrl;
    // }

    // Skip blob listing for now and always use fallback URLs
    console.log(` Using fallback URLs for ${pattern} (blob listing disabled)`);

    // Fallback to hardcoded URLs if blob listing fails
    const fallbackUrls: Record<string, string> = {
      'casualties': `${BLOB_BASE_URL}/russia-all-casualties_2025-08-21.json`,
      'soldiers': `${BLOB_BASE_URL}/ukraine-all-casualties_2025-08-21.json`,
      'ukraine_monthly': `${BLOB_BASE_URL}/ukraine-monthly-casualties-deduped_2025-08-21.json`,
      'russia_monthly': `${BLOB_BASE_URL}/russia-monthly-casualties-deduped_2025-08-21.json`,
      'ukraine_weekly': `${BLOB_BASE_URL}/ukraine-weekly-casualties-deduped_2025-08-21.json`,
      'russia_weekly': `${BLOB_BASE_URL}/russia-weekly-casualties-deduped_2025-08-21.json`,
    };

    const fallbackUrl = fallbackUrls[pattern];
    if (fallbackUrl) {
      urlCache[pattern] = { url: fallbackUrl, timestamp: Date.now() };
      console.log(` Using fallback URL for ${pattern}: ${fallbackUrl}`);
      return fallbackUrl;
    }

    console.warn(`No URL found for pattern: ${pattern}`);
    return null;
  } catch (error) {
    console.warn(`Failed to discover blob URL for pattern ${pattern}:`, error);
    return null;
  }
}

// Function to clear the cache (useful for testing or manual refresh)
export function clearBlobUrlCache(): void {
  urlCache = {};
}

// Function to get cache status
export function getBlobUrlCacheStatus(): Record<string, { url: string; age: number }> {
  const now = Date.now();
  const status: Record<string, { url: string; age: number }> = {};
  
  for (const [pattern, cached] of Object.entries(urlCache)) {
    status[pattern] = {
      url: cached.url,
      age: now - cached.timestamp
    };
  }
  
  return status;
}


// === File: src\lib\dataLoader.ts ===

import fs from 'fs/promises';
import path from 'path';
import { CasualtyData, HistoricalData, ScrapedData } from '@/types';
import fsSync from 'fs';

// Fallback data in case JSON file doesn't exist
const fallbackData: ScrapedData = {
  ukraine: {
    country: 'ukraine',
    total_losses: 158892,
    dead: 79061,
    missing: 75253,
    prisoners: 4578,
    last_updated: new Date().toISOString(),
    source_url: 'https://ualosses.org/en/soldiers/'
  },
  russia: {
    country: 'russia',
    total_losses: 121507,
    last_updated: new Date().toISOString(),
    source_url: 'https://en.zona.media/article/2025/08/01/casualties_eng-trl'
  },
  ukraineHistorical: [],
  russiaHistorical: [],
  youtubeVideos: [
    {
      title: 'Ukraine War Update - Latest Military Developments',
      youtube_id: 'dQw4w9WgXcQ',
      channel_name: 'History Legends',
    },
    {
      title: 'Military Analysis: Russia vs Ukraine Forces',
      youtube_id: 'oHg5SJYRHA0',
      channel_name: 'History Legends',
    },
    {
      title: 'War Report: Current Situation Analysis',
      youtube_id: 'fC7oUOUEEi4',
      channel_name: 'History Legends',
    },
  ],
  lastUpdated: new Date().toISOString()
};

export async function loadCasualtyData(): Promise<ScrapedData> {
  try {
    let data: ScrapedData = { ...fallbackData };
    
    // Load current Ukraine totals from Lost Armour data
    const ukraineTotals = await loadUkraineLostArmourTotals();
    if (ukraineTotals) {
      data.ukraine = ukraineTotals;
    }
    
    // Load Russia data from casualties.json if it exists
    try {
      const dataPath = path.join(process.cwd(), 'src', 'data', 'casualties.json');
      const fileContent = await fs.readFile(dataPath, 'utf8');
      const oldData = JSON.parse(fileContent);
      if (oldData.russia) {
        data.russia = oldData.russia;
      }
    } catch {
      // Keep fallback Russia data
    }
    
    // Load Ukraine monthly historical from RAW summaries
    const ukraineMonthlyHistorical = await loadCompiledUkraineMonthly();
    if (ukraineMonthlyHistorical.length > 0) {
      data.ukraineHistorical = ukraineMonthlyHistorical;
    }
    
    // Load Russia monthly historical from RAW summaries
    const russiaMonthlyHistorical = await loadCompiledRussiaMonthly();
    if (russiaMonthlyHistorical.length > 0) {
      data.russiaHistorical = russiaMonthlyHistorical;
    }
    
    // Load Ukraine weekly historical from RAW summaries
    const ukraineWeeklyHistorical = await loadCompiledUkraineWeekly();
    if (ukraineWeeklyHistorical.length > 0) {
      data.ukraineWeekly = ukraineWeeklyHistorical;
    }
    
    // Load Russia weekly historical from RAW summaries
    const russiaWeeklyHistorical = await loadCompiledRussiaWeekly();
    if (russiaWeeklyHistorical.length > 0) {
      data.russiaWeekly = russiaWeeklyHistorical;
    }
    
    // Update last updated timestamp
    data.lastUpdated = new Date().toISOString();
    
    return data;
  } catch (error) {
    console.warn('Could not load casualty data, using fallback data:', error);
    return fallbackData;
  }
}

export async function loadCasualtyDataClient(): Promise<ScrapedData> {
  try {
    // For client-side, we'll fetch from a public API endpoint or static file
    const response = await fetch('/api/data');
    if (response.ok) {
      const payload = await response.json();
      return payload;
    }
    
    // Fallback to static file served by Next.js
    const staticResponse = await fetch('/data/casualties.json');
    if (staticResponse.ok) {
      return await staticResponse.json();
    }
    
    return fallbackData;
  } catch (error) {
    console.warn('Could not load casualty data on client:', error);
    return fallbackData;
  }
}

export function getCasualtyBreakdown(data: CasualtyData): {
  dead: number;
  missing: number;
  prisoners: number;
} {
  return {
    dead: data.dead || 0,
    missing: data.missing || 0,
    prisoners: data.prisoners || 0
  };
}

export function formatLastUpdated(isoString: string): string {
  try {
    const date = new Date(isoString);
    return date.toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit',
      timeZone: 'UTC',
      timeZoneName: 'short'
    });
  } catch (error) {
    return 'Unknown';
  }
}

// Load Ukraine totals from Lost Armour data
async function loadUkraineLostArmourTotals(): Promise<CasualtyData | null> {
  try {
    const ukrainePath = path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers-raw.json');
    
    // Check if Lost Armour data exists
    if (!fsSync.existsSync(ukrainePath)) {
      console.log(' Lost Armour data not found, using fallback');
      return null;
    }
    
    const content = await fs.readFile(ukrainePath, 'utf8');
    const records: Array<{
      recordType: 'death' | 'missing';
      deathDate?: string;
      missingDate?: string;
    }> = JSON.parse(content);
    
    // Count deaths and missing persons
    let deaths = 0;
    let missing = 0;
    
    for (const record of records) {
      if (record.recordType === 'death') {
        deaths++;
      } else if (record.recordType === 'missing') {
        missing++;
      }
    }
    
    const total = deaths + missing;
    
    console.log(` Loaded Ukraine Lost Armour totals: ${total.toLocaleString()} (${deaths.toLocaleString()} deaths, ${missing.toLocaleString()} missing)`);
    
    return {
      country: 'ukraine',
      total_losses: total,
      dead: deaths,
      missing: missing,
      prisoners: 0, // Lost Armour doesn't track prisoners
      last_updated: new Date().toISOString(),
      source_url: 'https://lostarmour.info/ukr200'
    };
    
  } catch (error) {
    console.warn('Failed to load Ukraine Lost Armour totals:', error);
    return null;
  }
}

// Load compiled monthly summaries from raw data (both Ukraine and Russia)
async function loadCompiledUkraineMonthly(): Promise<HistoricalData[]> {
  try {
    // First try to load from the new raw monthly summary
    const rawSummaryPath = path.join(process.cwd(), 'src', 'data', 'ukraine');
    if (fsSync.existsSync(rawSummaryPath)) {
      const files = await fs.readdir(rawSummaryPath);
      const candidates = files.filter(f => f.startsWith('monthly-raw_') && f.endsWith('.json'));
      if (candidates.length > 0) {
        candidates.sort();
        const latest = candidates[candidates.length - 1];
        const fullPath = path.join(rawSummaryPath, latest);
        const content = await fs.readFile(fullPath, 'utf8');
        const obj = JSON.parse(content) as Record<string, { deaths: number; missing: number; total: number }>;
        const arr: HistoricalData[] = Object.entries(obj)
          .map(([ym, counts]) => ({
            date: `${ym}-01`,
            casualties: counts.total,
            confirmed: counts.deaths,
            unconfirmed: counts.missing
          }))
          .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());
        console.log(` Loaded Ukraine RAW monthly data: ${arr.length} months from ${latest}`);
        return arr;
      }
    }

    // Fallback to old cache directory
    const dir = path.join(process.cwd(), 'cache', 'ualosses');
    if (!fsSync.existsSync(dir)) return [];
    const files = await fs.readdir(dir);
    const candidates = files.filter(f => f.startsWith('ukraine_monthly_') && f.endsWith('.json'));
    if (candidates.length === 0) return [];
    // Pick latest by filename (dates in name sort lexicographically) or mtime as fallback
    candidates.sort();
    const latest = candidates[candidates.length - 1];
    const fullPath = path.join(dir, latest);
    const content = await fs.readFile(fullPath, 'utf8');
    const obj = JSON.parse(content) as Record<string, { deaths: number; missing: number; total: number }>;
    const arr: HistoricalData[] = Object.entries(obj)
      .map(([ym, counts]) => ({
        date: `${ym}-01`,
        casualties: counts.total,
        confirmed: counts.deaths,
        unconfirmed: counts.missing
      }))
      .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());
    return arr;
  } catch {
    return [];
  }
}

// Load compiled Russia monthly data from raw summaries
async function loadCompiledRussiaMonthly(): Promise<HistoricalData[]> {
  try {
    const rawSummaryPath = path.join(process.cwd(), 'src', 'data', 'russia');
    if (fsSync.existsSync(rawSummaryPath)) {
      const files = await fs.readdir(rawSummaryPath);
      const candidates = files.filter(f => f.startsWith('monthly_') && f.endsWith('.json'));
      if (candidates.length > 0) {
        candidates.sort();
        const latest = candidates[candidates.length - 1];
        const fullPath = path.join(rawSummaryPath, latest);
        const content = await fs.readFile(fullPath, 'utf8');
        const obj = JSON.parse(content) as Record<string, { deaths: number; total: number }>;
        const arr: HistoricalData[] = Object.entries(obj)
          .map(([ym, counts]) => ({
            date: `${ym}-01`,
            casualties: counts.total, // For Russia, total = deaths (no missing category)
            confirmed: counts.deaths,
            unconfirmed: 0 // Russia data doesn't have missing
          }))
          .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());
        console.log(` Loaded Russia RAW monthly data: ${arr.length} months from ${latest}`);
        return arr;
      }
    }
    return [];
  } catch {
    return [];
  }
}

// Load compiled Ukraine weekly data from raw summaries
async function loadCompiledUkraineWeekly(): Promise<HistoricalData[]> {
  try {
    const rawSummaryPath = path.join(process.cwd(), 'src', 'data', 'ukraine');
    if (fsSync.existsSync(rawSummaryPath)) {
      const files = await fs.readdir(rawSummaryPath);
      const candidates = files.filter(f => f.startsWith('weekly-raw_') && f.endsWith('.json'));
      if (candidates.length > 0) {
        candidates.sort();
        const latest = candidates[candidates.length - 1];
        const fullPath = path.join(rawSummaryPath, latest);
        const content = await fs.readFile(fullPath, 'utf8');
        const obj = JSON.parse(content) as Record<string, { deaths: number; missing: number; total: number }>;
        const arr: HistoricalData[] = Object.entries(obj)
          .map(([week, counts]) => ({
            date: week, // Use week key directly (e.g., "2022-W09")
            casualties: counts.total,
            confirmed: counts.deaths,
            unconfirmed: counts.missing
          }))
          .sort((a, b) => a.date.localeCompare(b.date));
        console.log(` Loaded Ukraine RAW weekly data: ${arr.length} weeks from ${latest}`);
        return arr;
      }
    }
    return [];
  } catch {
    return [];
  }
}

// Load compiled Russia weekly data from raw summaries
async function loadCompiledRussiaWeekly(): Promise<HistoricalData[]> {
  try {
    const rawSummaryPath = path.join(process.cwd(), 'src', 'data', 'russia');
    if (fsSync.existsSync(rawSummaryPath)) {
      const files = await fs.readdir(rawSummaryPath);
      const candidates = files.filter(f => f.startsWith('weekly_') && f.endsWith('.json'));
      if (candidates.length > 0) {
        candidates.sort();
        const latest = candidates[candidates.length - 1];
        const fullPath = path.join(rawSummaryPath, latest);
        const content = await fs.readFile(fullPath, 'utf8');
        const obj = JSON.parse(content) as Record<string, { deaths: number; total: number }>;
        const arr: HistoricalData[] = Object.entries(obj)
          .map(([week, counts]) => ({
            date: week, // Use week key directly (e.g., "2022-W09")
            casualties: counts.total,
            confirmed: counts.deaths,
            unconfirmed: 0 // Russia data doesn't have missing
          }))
          .sort((a, b) => a.date.localeCompare(b.date));
        console.log(` Loaded Russia RAW weekly data: ${arr.length} weeks from ${latest}`);
        return arr;
      }
    }
    return [];
  } catch {
    return [];
  }
}


// === File: src\lib\date-parser.ts ===

/**
 * Comprehensive date parser for Ukrainian war losses data
 * Handles various date formats from the ualosses.org website
 */

export interface ParsedDate {
  date: Date | null;
  isEstimated: boolean;
  originalText: string;
}

export class DateParser {
  private static readonly MONTH_ABBREVIATIONS: { [key: string]: number } = {
    'Jan': 0, 'Jan.': 0, 'January': 0,
    'Feb': 1, 'Feb.': 1, 'February': 1,
    'Mar': 2, 'Mar.': 2, 'March': 2,
    'Apr': 3, 'Apr.': 3, 'April': 3,
    'May': 4,
    'Jun': 5, 'Jun.': 5, 'June': 5,
    'Jul': 6, 'Jul.': 6, 'July': 6,
    'Aug': 7, 'Aug.': 7, 'August': 7,
    'Sep': 8, 'Sep.': 8, 'September': 8,
    'Oct': 9, 'Oct.': 9, 'October': 9,
    'Nov': 10, 'Nov.': 10, 'November': 10,
    'Dec': 11, 'Dec.': 11, 'December': 11
  };

  /**
   * Parse a date string from the Ukrainian losses website
   * Handles formats like:
   * - "March 16, 2024"
   * - "Mar. 16, 2024"
   * - "(Feb. 17, 2025)" - estimated/unconfirmed
   * - "July 4, 1966"
   * - "Jan. 19, 1981"
   */
  static parseDate(dateText: string): ParsedDate {
    if (!dateText || typeof dateText !== 'string') {
      return {
        date: null,
        isEstimated: false,
        originalText: dateText || ''
      };
    }

    const trimmed = dateText.trim();
    const isEstimated = trimmed.startsWith('(') && trimmed.endsWith(')');
    const cleanText = trimmed.replace(/[()]/g, '');

    // Try different date parsing strategies
    const strategies = [
      this.parseStandardFormat,
      this.parseAbbreviatedFormat,
      this.parseAlternativeFormat
    ];

    for (const strategy of strategies) {
      const result = strategy(cleanText);
      if (result) {
        return {
          date: result,
          isEstimated,
          originalText: trimmed
        };
      }
    }

    console.warn(`Failed to parse date: "${dateText}"`);
    return {
      date: null,
      isEstimated,
      originalText: trimmed
    };
  }

  /**
   * Parse standard format: "March 16, 2024" or "July 4, 1966"
   */
  private static parseStandardFormat(dateText: string): Date | null {
    try {
      // Try direct parsing first
      const date = new Date(dateText);
      if (!isNaN(date.getTime()) && date.getFullYear() > 1900) {
        return date;
      }
    } catch {
      // Continue to manual parsing
    }

    // Manual parsing for edge cases
    const match = dateText.match(/^([A-Za-z]+\.?)\s+(\d{1,2}),?\s+(\d{4})$/);
    if (match) {
      const [, monthStr, dayStr, yearStr] = match;
      const month = this.MONTH_ABBREVIATIONS[monthStr];
      
      if (month !== undefined) {
        const day = parseInt(dayStr, 10);
        const year = parseInt(yearStr, 10);
        
        if (day >= 1 && day <= 31 && year > 1900 && year <= new Date().getFullYear() + 1) {
          return new Date(year, month, day);
        }
      }
    }

    return null;
  }

  /**
   * Parse abbreviated format: "Mar. 16, 2024" or "Jan. 19, 1981"
   */
  private static parseAbbreviatedFormat(dateText: string): Date | null {
    const match = dateText.match(/^([A-Za-z]{3}\.?)\s+(\d{1,2}),?\s+(\d{4})$/);
    if (match) {
      const [, monthStr, dayStr, yearStr] = match;
      const month = this.MONTH_ABBREVIATIONS[monthStr];
      
      if (month !== undefined) {
        const day = parseInt(dayStr, 10);
        const year = parseInt(yearStr, 10);
        
        if (day >= 1 && day <= 31 && year > 1900 && year <= new Date().getFullYear() + 1) {
          return new Date(year, month, day);
        }
      }
    }

    return null;
  }

  /**
   * Parse alternative formats and edge cases
   */
  private static parseAlternativeFormat(dateText: string): Date | null {
    // Handle format without comma: "March 16 2024"
    const match = dateText.match(/^([A-Za-z]+\.?)\s+(\d{1,2})\s+(\d{4})$/);
    if (match) {
      const [, monthStr, dayStr, yearStr] = match;
      const month = this.MONTH_ABBREVIATIONS[monthStr];
      
      if (month !== undefined) {
        const day = parseInt(dayStr, 10);
        const year = parseInt(yearStr, 10);
        
        if (day >= 1 && day <= 31 && year > 1900 && year <= new Date().getFullYear() + 1) {
          return new Date(year, month, day);
        }
      }
    }

    return null;
  }

  /**
   * Parse a date range like "July 4, 1966 - March 16, 2024"
   * Returns both birth and death dates
   */
  static parseDateRange(rangeText: string): { 
    birthDate: ParsedDate; 
    deathDate: ParsedDate; 
  } {
    if (!rangeText || typeof rangeText !== 'string') {
      return {
        birthDate: { date: null, isEstimated: false, originalText: '' },
        deathDate: { date: null, isEstimated: false, originalText: '' }
      };
    }

    // Split on dash, handling various dash types
    const parts = rangeText.split(/\s*[-]\s+/);
    
    if (parts.length === 2) {
      return {
        birthDate: this.parseDate(parts[0].trim()),
        deathDate: this.parseDate(parts[1].trim())
      };
    }

    // If no valid split, try to find dates in the text
    const dateMatches = rangeText.match(/([A-Za-z]+\.?\s+\d{1,2},?\s+\d{4})/g);
    if (dateMatches && dateMatches.length >= 2) {
      return {
        birthDate: this.parseDate(dateMatches[0]),
        deathDate: this.parseDate(dateMatches[dateMatches.length - 1])
      };
    }

    return {
      birthDate: { date: null, isEstimated: false, originalText: rangeText },
      deathDate: { date: null, isEstimated: false, originalText: rangeText }
    };
  }

  /**
   * Format a date to YYYY-MM format for monthly aggregation
   */
  static formatToMonthKey(date: Date): string {
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    return `${year}-${month}`;
  }

  /**
   * Validate if a parsed date is reasonable for war casualty data
   */
  static isValidCasualtyDate(date: Date): boolean {
    const warStart = new Date('2022-02-24');
    const now = new Date();
    const futureLimit = new Date(now.getFullYear() + 1, now.getMonth(), now.getDate());
    
    return date >= warStart && date <= futureLimit;
  }

  /**
   * Get a human-readable summary of parsing results
   */
  static getSummary(results: ParsedDate[]): {
    total: number;
    parsed: number;
    estimated: number;
    failed: number;
  } {
    const total = results.length;
    const parsed = results.filter(r => r.date !== null).length;
    const estimated = results.filter(r => r.isEstimated && r.date !== null).length;
    const failed = results.filter(r => r.date === null).length;

    return { total, parsed, estimated, failed };
  }
}


// === File: src\lib\hybridDataLoader.ts ===

import { loadCasualtyDataFromBlob } from './blobDataLoader';
import { ScrapedData } from '@/types';

export async function loadCasualtyDataHybrid(): Promise<ScrapedData> {
  // Always use blob storage to avoid serverless function size limits and ensure consistency
  console.log(' Using blob storage for data loading');
  return await loadCasualtyDataFromBlob();
}


// === File: src\lib\lostarmour-combined-scraper.ts ===

import fs from 'fs/promises';
import path from 'path';
import { createLostArmourUkraineScraper, LostArmourUkraineRecord } from './lostarmour-ukraine-scraper';
import { createLostArmourMissingScraper, LostArmourMissingRecord } from './lostarmour-missing-scraper';

export interface CombinedUkraineRecord {
  name: string;
  birthDate: string;
  deathDate: string;
  missingDate: string;
  location: string;
  rawText: string;
  pageSource: string;
  detailUrl: string;
  // Additional fields
  rank?: string;
  age?: string;
  conscription?: string;
  sources?: string;
  recordType: 'death' | 'missing';
  estimatedDeathDate?: string;
}

export interface CombinedScraperConfig {
  delayBetweenRequests?: number;
  maxRetries?: number;
  enableCaching?: boolean;
  testMode?: boolean; // For testing with limited data
}

export class LostArmourCombinedScraper {
  private config: Required<CombinedScraperConfig>;
  
  constructor(config: CombinedScraperConfig = {}) {
    this.config = {
      delayBetweenRequests: config.delayBetweenRequests || 1500,
      maxRetries: config.maxRetries || 3,
      enableCaching: config.enableCaching ?? true,
      testMode: config.testMode ?? false
    };
  }
  
  async scrapeAllData(): Promise<CombinedUkraineRecord[]> {
    console.log(' Starting Lost Armour Combined Ukraine scraping...');
    console.log(` Mode: ${this.config.testMode ? 'TEST' : 'PRODUCTION'}`);
    
    const allRecords: CombinedUkraineRecord[] = [];
    
    try {
      // 1. Scrape Deaths Data
      console.log('\n PHASE 1: Scraping Deaths Data...');
      const deathsScraper = createLostArmourUkraineScraper({
        delayBetweenRequests: this.config.delayBetweenRequests,
        maxRetries: this.config.maxRetries,
        enableCaching: this.config.enableCaching
      });
      
      let deathsRecords: LostArmourUkraineRecord[];
      
      if (this.config.testMode) {
        // Test mode: only scrape first 2 letters
        console.log(' Test mode: scraping first 2 letters for deaths');
        deathsRecords = await this.scrapeTestDeaths(deathsScraper);
      } else {
        // Production mode: scrape all letters
        deathsRecords = await deathsScraper.scrapeAllLetters();
      }
      
      console.log(` Deaths scraping completed: ${deathsRecords.length} records`);
      
      // Convert deaths to combined format
      const standardDeaths = deathsScraper.convertToStandardFormat(deathsRecords);
      const combinedDeaths: CombinedUkraineRecord[] = standardDeaths.map(record => ({
        ...record,
        recordType: 'death' as const,
        estimatedDeathDate: record.deathDate
      }));
      
      allRecords.push(...combinedDeaths);
      console.log(` Added ${combinedDeaths.length} death records to combined dataset`);
      
      // 2. Scrape Missing Persons Data
      console.log('\n PHASE 2: Scraping Missing Persons Data...');
      const missingScraper = createLostArmourMissingScraper({
        delayBetweenRequests: this.config.delayBetweenRequests,
        maxRetries: this.config.maxRetries,
        enableCaching: this.config.enableCaching,
        maxPages: this.config.testMode ? 5 : 0 // Limit pages in test mode
      });
      
      const missingRecords = await missingScraper.scrapeAllLetters();
      console.log(` Missing persons scraping completed: ${missingRecords.length} records`);
      
      // Convert missing to combined format
      const standardMissing = missingScraper.convertToStandardFormat(missingRecords);
      const combinedMissing: CombinedUkraineRecord[] = standardMissing.map(record => ({
        ...record,
        recordType: 'missing' as const,
        estimatedDeathDate: record.estimatedDeathDate || record.missingDate
      }));
      
      allRecords.push(...combinedMissing);
      console.log(` Added ${combinedMissing.length} missing records to combined dataset`);
      
      // 3. Summary
      console.log('\n Combined scraping completed!');
      console.log(` Total combined records: ${allRecords.length}`);
      console.log(`   Deaths: ${combinedDeaths.length}`);
      console.log(`   Missing: ${combinedMissing.length}`);
      
      return allRecords;
      
    } catch (error) {
      console.error(' Combined scraping failed:', error);
      throw error;
    }
  }
  
  private async scrapeTestDeaths(scraper: any): Promise<LostArmourUkraineRecord[]> {
    // This is a simplified version that only scrapes first 2 letters for testing
    const testLetters = ['', ''];
    const allRecords: LostArmourUkraineRecord[] = [];
    
    for (const letter of testLetters) {
      console.log(` Test scraping letter: ${letter}`);
      
      let currentPage = 1;
      let hasMorePages = true;
      
      while (hasMorePages && currentPage <= 3) { // Limit to 3 pages per letter in test
        try {
          const encodedLetter = encodeURIComponent(letter);
          const url = `https://lostarmour.info/panel/next/api/public/ukr200/search?letter=${encodedLetter}&page=${currentPage}`;
          
          const response = await fetch(url, {
            headers: {
              'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36',
              'Accept': 'application/json, text/plain, */*',
              'Accept-Language': 'en-US,en;q=0.9',
              'Referer': 'https://lostarmour.info/'
            }
          });
          
          if (!response.ok) {
            throw new Error(`HTTP ${response.status}: ${response.statusText}`);
          }
          
          const data = await response.json();
          
          if (data.items && data.items.length > 0) {
            allRecords.push(...data.items);
            console.log(`   Page ${currentPage}: ${data.items.length} records (total: ${allRecords.length})`);
            hasMorePages = currentPage < data.paginator.pages && currentPage < 3;
            currentPage++;
            
            if (hasMorePages) {
              await new Promise(resolve => setTimeout(resolve, this.config.delayBetweenRequests));
            }
          } else {
            hasMorePages = false;
          }
          
        } catch (error) {
          console.error(`   Error on page ${currentPage}:`, error);
          hasMorePages = false;
        }
      }
    }
    
    return allRecords;
  }
  
  async saveToFile(records: CombinedUkraineRecord[], filename?: string): Promise<string> {
    if (!this.config.enableCaching) {
      console.log(' Caching disabled, skipping file save');
      return '';
    }
    
    const timestamp = new Date().toISOString().split('T')[0];
    const defaultFilename = `ukraine-combined_${timestamp}.json`;
    const finalFilename = filename || defaultFilename;
    
    // Save to cache directory
    const cacheDir = path.join(process.cwd(), 'cache', 'ukraine-lostarmour');
    await fs.mkdir(cacheDir, { recursive: true });
    
    const cachePath = path.join(cacheDir, finalFilename);
    await fs.writeFile(cachePath, JSON.stringify(records, null, 2));
    
    // Also save to data directory for production use
    const dataDir = path.join(process.cwd(), 'src', 'data', 'ukraine');
    await fs.mkdir(dataDir, { recursive: true });
    
    const dataPath = path.join(dataDir, 'soldiers-raw.json');
    await fs.writeFile(dataPath, JSON.stringify(records, null, 2));
    
    console.log(` Combined data saved to:`);
    console.log(`   Cache: ${cachePath}`);
    console.log(`   Data:  ${dataPath}`);
    
    return cachePath;
  }
  
  generateSummary(records: CombinedUkraineRecord[]): void {
    const deaths = records.filter(r => r.recordType === 'death');
    const missing = records.filter(r => r.recordType === 'missing');
    
    console.log('\n COMBINED DATA SUMMARY:');
    console.log(`   Total records: ${records.length.toLocaleString()}`);
    console.log(`   Deaths: ${deaths.length.toLocaleString()}`);
    console.log(`   Missing: ${missing.length.toLocaleString()}`);
    
    // Date range analysis
    const allDates = records
      .map(r => r.deathDate || r.missingDate || r.estimatedDeathDate)
      .filter(Boolean)
      .sort();
    
    if (allDates.length > 0) {
      console.log(`   Date range: ${allDates[0]} to ${allDates[allDates.length - 1]}`);
    }
    
    // Sample records
    console.log('\n Sample records:');
    const sampleDeaths = deaths.slice(0, 2);
    const sampleMissing = missing.slice(0, 2);
    
    sampleDeaths.forEach((record, i) => {
      console.log(`   Death ${i + 1}: ${record.name} (${record.birthDate} - ${record.deathDate})`);
    });
    
    sampleMissing.forEach((record, i) => {
      console.log(`   Missing ${i + 1}: ${record.name} (${record.birthDate} - missing: ${record.missingDate})`);
    });
  }
}

export function createLostArmourCombinedScraper(config?: CombinedScraperConfig): LostArmourCombinedScraper {
  return new LostArmourCombinedScraper(config);
}


// === File: src\lib\lostarmour-missing-scraper.ts ===

import fs from 'fs/promises';
import path from 'path';

export interface LostArmourMissingRecord {
  fullname: string;
  age: string | null;
  date_of_birth: string | null;
  date_of_miss: string | null;
  region_of_miss: string | null;
  // Additional computed fields
  estimated_death_date?: string;
}

export interface LostArmourMissingApiResponse {
  items: LostArmourMissingRecord[];
  paginator: {
    on_page: number;
    per_page: number;
    page: number;
    pages: number;
    total: number;
  };
}

export interface LostArmourMissingScraperConfig {
  delayBetweenRequests?: number;
  maxRetries?: number;
  enableCaching?: boolean;
  maxPages?: number;
}

const DEFAULT_HEADERS = {
  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36',
  'Accept': 'application/json, text/plain, */*',
  'Accept-Language': 'en-US,en;q=0.9',
  'Referer': 'https://lostarmour.info/'
};

function sleep(ms: number): Promise<void> {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function fetchWithRetry(url: string, maxRetries: number): Promise<LostArmourMissingApiResponse> {
  let lastError: Error | null = null;
  
  for (let attempt = 1; attempt <= maxRetries + 1; attempt++) {
    try {
      console.log(`  Fetching: ${url} (attempt ${attempt})`);
      
      const response = await fetch(url, {
        headers: DEFAULT_HEADERS,
        method: 'GET'
      });

      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }

      const data: LostArmourMissingApiResponse = await response.json();
      console.log(`   Success: ${data.items.length} records, page ${data.paginator.page}/${data.paginator.pages}`);
      return data;
      
    } catch (error) {
      lastError = error as Error;
      console.log(`   Attempt ${attempt} failed:`, error);
      
      if (attempt <= maxRetries) {
        const delay = Math.min(1000 * Math.pow(2, attempt - 1), 10000);
        console.log(`   Retrying in ${delay}ms...`);
        await sleep(delay);
      }
    }
  }
  
  throw lastError || new Error('Max retries exceeded');
}

export class LostArmourMissingScraper {
  private config: Required<LostArmourMissingScraperConfig>;
  
  constructor(config: LostArmourMissingScraperConfig = {}) {
    this.config = {
      delayBetweenRequests: config.delayBetweenRequests || 2000,
      maxRetries: config.maxRetries || 3,
      enableCaching: config.enableCaching ?? true,
      maxPages: config.maxPages || 0 // 0 = no limit
    };
  }
  
  async scrapeAllLetters(): Promise<LostArmourMissingRecord[]> {
    console.log(' Starting Lost Armour Missing Persons scraping via API...');
    console.log(` Config: delay=${this.config.delayBetweenRequests}ms, maxPages=${this.config.maxPages || 'unlimited'}`);
    
    const allRecords: LostArmourMissingRecord[] = [];
    
    // Ukrainian alphabet letters for the API (same as deaths scraper)
    const UKRAINIAN_LETTERS = [
      '', '', '', '', '', '', '', '', '', '', '', '', '', '',
      '', '', '', '', '', '', '', '', '', '', '', '', '', '',
      '', '', '', '', ''
    ];
    
    let letterCount = 0;
    
    try {
      for (const letter of UKRAINIAN_LETTERS) {
        letterCount++;
        console.log(`\n[${letterCount}/${UKRAINIAN_LETTERS.length}] Processing letter: ${letter}`);
        
        // Scrape all pages for this letter
        const letterRecords = await this.scrapeLetterPages(letter);
        allRecords.push(...letterRecords);
        
        console.log(` Letter "${letter}" completed: ${letterRecords.length} records`);
        console.log(` Running total: ${allRecords.length} records`);
        
        // Add delay between letters
        if (letterCount < UKRAINIAN_LETTERS.length && this.config.delayBetweenRequests) {
          await sleep(this.config.delayBetweenRequests);
        }
        
        // Apply maxPages limit if set (treat as max letters for testing)
        if (this.config.maxPages > 0 && letterCount >= this.config.maxPages) {
          console.log(` Reached maxPages (letters) limit: ${this.config.maxPages}`);
          break;
        }
      }
      
    } catch (error) {
      console.error(' Error scraping missing persons:', error);
      throw error;
    }
    
    console.log(`\n Missing persons scraping completed!`);
    console.log(` Total missing persons collected: ${allRecords.length}`);
    
    return allRecords;
  }
  
  private async scrapeLetterPages(letter: string): Promise<LostArmourMissingRecord[]> {
    const letterRecords: LostArmourMissingRecord[] = [];
    let currentPage = 1;
    let hasMorePages = true;
    
    console.log(` Scraping letter "${letter}"...`);
    
    while (hasMorePages) {
      try {
        const encodedLetter = encodeURIComponent(letter);
        const apiUrl = `https://lostarmour.info/panel/next/api/public/ukr-mia/search?letter=${encodedLetter}&page=${currentPage}`;
        
        if (currentPage > 1 && this.config.delayBetweenRequests > 0) {
          await sleep(this.config.delayBetweenRequests);
        }
        
        const response = await fetchWithRetry(apiUrl, this.config.maxRetries);
        
        if (response.items && response.items.length > 0) {
          letterRecords.push(...response.items);
          console.log(`   Page ${currentPage}: ${response.items.length} records (letter total: ${letterRecords.length})`);
          
          // Check if we should continue
          hasMorePages = currentPage < response.paginator.pages;
          currentPage++;
          
        } else {
          console.log(`   Page ${currentPage}: No records found, stopping`);
          hasMorePages = false;
        }
        
      } catch (error) {
        console.error(`   Error on letter "${letter}" page ${currentPage}:`, error);
        hasMorePages = false;
      }
    }
    
    return letterRecords;
  }
  
  async saveToFile(records: LostArmourMissingRecord[], filename?: string): Promise<string> {
    if (!this.config.enableCaching) {
      console.log(' Caching disabled, skipping file save');
      return '';
    }
    
    const timestamp = new Date().toISOString().split('T')[0];
    const defaultFilename = `ukraine-missing_${timestamp}.json`;
    const finalFilename = filename || defaultFilename;
    
    // Save to cache directory
    const cacheDir = path.join(process.cwd(), 'cache', 'ukraine-lostarmour');
    await fs.mkdir(cacheDir, { recursive: true });
    
    const cachePath = path.join(cacheDir, finalFilename);
    await fs.writeFile(cachePath, JSON.stringify(records, null, 2));
    
    console.log(` Missing persons data saved: ${cachePath}`);
    return cachePath;
  }
  
  // Convert to standard format for merging with deaths data
  convertToStandardFormat(records: LostArmourMissingRecord[]): any[] {
    return records.map(record => ({
      name: record.fullname || '',
      birthDate: this.normalizeDate(record.date_of_birth) || '',
      deathDate: '', // Missing persons don't have confirmed death dates
      missingDate: this.normalizeDate(record.date_of_miss) || '',
      location: record.region_of_miss || '',
      rawText: this.buildRawText(record),
      pageSource: 'lostarmour.info',
      detailUrl: '',
      // Additional fields
      age: record.age || '',
      estimatedDeathDate: this.normalizeDate(record.date_of_miss) || ''
    }));
  }
  
  private normalizeDate(dateStr: string | null): string {
    if (!dateStr) return '';
    
    // Handle various date formats from Lost Armour
    if (dateStr.includes('.')) {
      // DD.MM.YYYY format
      const parts = dateStr.split('.');
      if (parts.length === 3) {
        const [day, month, year] = parts;
        return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;
      }
    } else if (dateStr.includes('-')) {
      // Already in YYYY-MM-DD format
      return dateStr;
    }
    
    return dateStr;
  }
  
  private buildRawText(record: LostArmourMissingRecord): string {
    const parts = [
      record.fullname,
      record.date_of_birth,
      `(missing: ${record.date_of_miss})`,
      record.region_of_miss
    ].filter(Boolean);
    
    return parts.join(' - ');
  }
}

export function createLostArmourMissingScraper(config?: LostArmourMissingScraperConfig): LostArmourMissingScraper {
  return new LostArmourMissingScraper(config);
}


// === File: src\lib\lostarmour-ukraine-scraper.ts ===

import fs from 'fs/promises';
import path from 'path';

export interface LostArmourUkraineRecord {
  fullname: string;
  alt_fullname: string | null;
  rank: string | null;
  conscription: string | null;
  days_from_conscription: string | null;
  age: string | null;
  sex: string;
  date_of_birth: string | null;
  date_of_death: string | null;
  date_of_conscription: string | null;
  date_of_funeral: string | null;
  is_died_from_wounds: string;
  is_from_decrees: string;
  sources: string;
  death_at: string | null;
  region_of_live: string | null;
  region_of_death: string | null;
  region_of_funeral: string | null;
}

export interface LostArmourApiResponse {
  items: LostArmourUkraineRecord[];
  paginator: {
    on_page: number;
    per_page: number;
    page: number;
    pages: number;
    total: number;
  };
}

export interface LostArmourScraperConfig {
  delayBetweenRequests?: number;
  maxRetries?: number;
  enableCaching?: boolean;
}

const DEFAULT_HEADERS = {
  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36',
  'Accept': 'application/json, text/plain, */*',
  'Accept-Language': 'en-US,en;q=0.9',
  'Referer': 'https://lostarmour.info/'
};

// Ukrainian alphabet letters for the API
const UKRAINIAN_LETTERS = [
  '', '', '', '', '', '', '', '', '', '', '', '', '', '',
  '', '', '', '', '', '', '', '', '', '', '', '', '', '',
  '', '', '', '', ''
];

function sleep(ms: number): Promise<void> {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function fetchWithRetry(url: string, maxRetries: number): Promise<LostArmourApiResponse> {
  let lastError: Error | null = null;
  
  for (let attempt = 1; attempt <= maxRetries + 1; attempt++) {
    try {
      console.log(`  Fetching: ${url} (attempt ${attempt})`);
      
      const response = await fetch(url, {
        headers: DEFAULT_HEADERS,
        method: 'GET'
      });

      if (!response.ok) {
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }

      const data: LostArmourApiResponse = await response.json();
      
      console.log(`   Success: ${data.items.length} records, page ${data.paginator.page}/${data.paginator.pages}`);
      return data;
      
    } catch (error) {
      lastError = error as Error;
      console.log(`   Attempt ${attempt} failed:`, error);
      
      if (attempt <= maxRetries) {
        const delay = Math.min(1000 * Math.pow(2, attempt - 1), 10000); // Exponential backoff, max 10s
        console.log(`   Retrying in ${delay}ms...`);
        await sleep(delay);
      }
    }
  }
  
  throw lastError || new Error('Max retries exceeded');
}

async function scrapeLetterPages(letter: string, config: LostArmourScraperConfig): Promise<LostArmourUkraineRecord[]> {
  const allRecords: LostArmourUkraineRecord[] = [];
  let currentPage = 1;
  let hasMorePages = true;
  
  console.log(` Scraping letter "${letter}"...`);
  
  while (hasMorePages) {
    try {
      const encodedLetter = encodeURIComponent(letter);
      const url = `https://lostarmour.info/panel/next/api/public/ukr200/search?letter=${encodedLetter}&page=${currentPage}`;
      
      const response = await fetchWithRetry(url, config.maxRetries || 3);
      
      if (response.items && response.items.length > 0) {
        allRecords.push(...response.items);
        console.log(`   Page ${currentPage}: ${response.items.length} records (total so far: ${allRecords.length})`);
        
        // Check if there are more pages
        hasMorePages = currentPage < response.paginator.pages;
        currentPage++;
        
        // Add delay between requests
        if (hasMorePages && config.delayBetweenRequests) {
          await sleep(config.delayBetweenRequests);
        }
      } else {
        console.log(`   Page ${currentPage}: No records found, stopping`);
        hasMorePages = false;
      }
      
    } catch (error) {
      console.error(`   Error scraping letter "${letter}" page ${currentPage}:`, error);
      hasMorePages = false;
    }
  }
  
  console.log(` Letter "${letter}" completed: ${allRecords.length} records`);
  return allRecords;
}

export class LostArmourUkraineScraper {
  private config: Required<LostArmourScraperConfig>;
  
  constructor(config: LostArmourScraperConfig = {}) {
    this.config = {
      delayBetweenRequests: config.delayBetweenRequests || 1000,
      maxRetries: config.maxRetries || 3,
      enableCaching: config.enableCaching ?? true
    };
  }
  
  async scrapeAllLetters(): Promise<LostArmourUkraineRecord[]> {
    console.log(' Starting Lost Armour Ukraine scraping...');
    console.log(` Will scrape ${UKRAINIAN_LETTERS.length} letters with ${this.config.delayBetweenRequests}ms delay`);
    
    const allRecords: LostArmourUkraineRecord[] = [];
    let letterCount = 0;
    
    for (const letter of UKRAINIAN_LETTERS) {
      letterCount++;
      console.log(`\n[${letterCount}/${UKRAINIAN_LETTERS.length}] Processing letter: ${letter}`);
      
      try {
        const letterRecords = await scrapeLetterPages(letter, this.config);
        allRecords.push(...letterRecords);
        
        console.log(` Letter "${letter}" completed: ${letterRecords.length} records`);
        console.log(` Running total: ${allRecords.length} records`);
        
        // Add delay between letters
        if (letterCount < UKRAINIAN_LETTERS.length && this.config.delayBetweenRequests) {
          await sleep(this.config.delayBetweenRequests);
        }
        
      } catch (error) {
        console.error(` Failed to scrape letter "${letter}":`, error);
        // Continue with next letter instead of stopping
      }
    }
    
    console.log(`\n Lost Armour scraping completed!`);
    console.log(` Total records collected: ${allRecords.length}`);
    
    return allRecords;
  }
  
  async saveToFile(records: LostArmourUkraineRecord[], filename?: string): Promise<string> {
    if (!this.config.enableCaching) {
      console.log(' Caching disabled, skipping file save');
      return '';
    }
    
    const timestamp = new Date().toISOString().split('T')[0];
    const defaultFilename = `ukraine-lostarmour_${timestamp}.json`;
    const finalFilename = filename || defaultFilename;
    
    // Save to cache directory
    const cacheDir = path.join(process.cwd(), 'cache', 'ukraine-lostarmour');
    await fs.mkdir(cacheDir, { recursive: true });
    
    const cachePath = path.join(cacheDir, finalFilename);
    await fs.writeFile(cachePath, JSON.stringify(records, null, 2));
    
    // Also save to data directory for production use
    const dataDir = path.join(process.cwd(), 'src', 'data', 'ukraine');
    await fs.mkdir(dataDir, { recursive: true });
    
    const dataPath = path.join(dataDir, 'soldiers-raw.json');
    await fs.writeFile(dataPath, JSON.stringify(records, null, 2));
    
    console.log(` Saved ${records.length} records to:`);
    console.log(`   Cache: ${cachePath}`);
    console.log(`   Data:  ${dataPath}`);
    
    return cachePath;
  }
  
  // Convert Lost Armour format to our existing format for compatibility
  convertToStandardFormat(records: LostArmourUkraineRecord[]): any[] {
    return records.map(record => ({
      name: record.fullname || '',
      birthDate: this.normalizeDate(record.date_of_birth) || '',
      deathDate: this.normalizeDate(record.date_of_death || record.death_at) || '',
      missingDate: '', // Lost Armour doesn't distinguish missing vs dead - all are deaths
      location: this.combineLocation(record.region_of_live, record.region_of_death),
      rawText: this.buildRawText(record),
      pageSource: 'lostarmour.info',
      detailUrl: '', // Lost Armour doesn't provide individual URLs
      // Additional fields from Lost Armour
      rank: record.rank || '',
      age: record.age || '',
      conscription: record.conscription || '',
      sources: record.sources ? decodeURIComponent(record.sources) : ''
    }));
  }
  
  private normalizeDate(dateStr: string | null): string {
    if (!dateStr) return '';
    
    // Lost Armour uses formats like "06.11.1973" or "2022-09-23"
    if (dateStr.includes('.')) {
      // DD.MM.YYYY format
      const parts = dateStr.split('.');
      if (parts.length === 3) {
        const [day, month, year] = parts;
        return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`;
      }
    } else if (dateStr.includes('-')) {
      // Already in YYYY-MM-DD format
      return dateStr;
    }
    
    return dateStr;
  }
  
  private combineLocation(liveRegion: string | null, deathRegion: string | null): string {
    const regions = [liveRegion, deathRegion].filter(Boolean);
    return regions.length > 0 ? regions.join(', ') : '';
  }
  
  private buildRawText(record: LostArmourUkraineRecord): string {
    const parts = [
      record.fullname,
      record.date_of_birth,
      record.date_of_death || record.death_at,
      this.combineLocation(record.region_of_live, record.region_of_death)
    ].filter(Boolean);
    
    return parts.join(' - ');
  }
}

export function createLostArmourUkraineScraper(config?: LostArmourScraperConfig): LostArmourUkraineScraper {
  return new LostArmourUkraineScraper(config);
}


// === File: src\lib\russia-casualties-scraper.ts ===

import fs from 'fs/promises';
import path from 'path';
import * as cheerio from 'cheerio';
import puppeteer from 'puppeteer';

export interface RussiaScraperConfig {
  delayBetweenRequests?: number;
  maxRetries?: number;
  enableCaching?: boolean;
  maxPages?: number;
}

export type RussianCasualtyRecord = {
  date: string;
  fullName: string;
  confirmationLink: string;
  year?: number;
};

export class RussiaCasualtiesScraper {
  private config: RussiaScraperConfig;
  private dataPath: string;

  constructor(config: RussiaScraperConfig = {}) {
    this.config = {
      delayBetweenRequests: 2000,
      maxRetries: 3,
      enableCaching: true,
      maxPages: undefined,
      ...config
    };
    this.dataPath = path.join(process.cwd(), 'src', 'data', 'russia', 'casualties.json');
  }

  private async sleep(ms: number): Promise<void> {
    await new Promise(resolve => setTimeout(resolve, ms));
  }

  private async extractDataFromPageWithPuppeteer(pageNumber: number, browser: any): Promise<RussianCasualtyRecord[]> {
    const url = `https://svo.rf.gd/page/${pageNumber}.html`;
    
    try {
      const page = await browser.newPage();
      
      // Set realistic headers and user agent
      await page.setUserAgent('Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36');
      await page.setExtraHTTPHeaders({
        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
        'Accept-Language': 'en-US,en;q=0.9',
        'Accept-Encoding': 'gzip, deflate, br'
      });
      
      console.log(`Navigating to page ${pageNumber}...`);
      await page.goto(url, { 
        waitUntil: 'networkidle2', 
        timeout: 30000 
      });
      
      // Wait for content to fully load
      await this.sleep(3000);
      
      // Get the page content after JavaScript execution
      const html = await page.content();
      console.log(`Page ${pageNumber}: HTML length ${html.length} characters`);
      
      // Close the page to free memory
      await page.close();
      
      // Parse with Cheerio
      const $ = cheerio.load(html);
      const records: RussianCasualtyRecord[] = [];

      // Look for the main table
      const table = $('table').first();
      const rows = table.find('tr');
      
      console.log(`Page ${pageNumber}: Found ${rows.length} table rows`);

      // Process each row (skip header row)
      rows.slice(1).each((index, row) => {
        const cells = $(row).find('td');
        
        // Based on our inspection, the structure is:
        // Cell 0: Icon ()
        // Cell 1: Date (DD.MM.YYYY)
        // Cell 2: Full name
        // Cell 3: Age (often empty)
        // Cell 4: Location (often empty)  
        // Cell 5: Confirmation link
        
        if (cells.length >= 6) {
          const date = $(cells[1]).text().trim();
          const fullName = $(cells[2]).text().trim();
          const confirmationLink = $(cells[5]).find('a').attr('href')?.trim() || '';

          if (date && fullName) {
            // Extract year from date
            let year: number | undefined;
            const dateMatch = date.match(/(\d{4})/);
            if (dateMatch) {
              year = parseInt(dateMatch[1], 10);
            }

            records.push({
              date,
              fullName,
              confirmationLink,
              year
            });
          }
        }
      });

      console.log(`Page ${pageNumber}: Extracted ${records.length} records`);
      return records;
      
    } catch (error) {
      console.error(`Error extracting data from page ${pageNumber}:`, error);
      return [];
    }
  }

  async scrapeAllPages(): Promise<RussianCasualtyRecord[]> {
    const allRecords: RussianCasualtyRecord[] = [];
    let page = 1;
    let hasMore = true;
    let consecutiveEmptyPages = 0;

    console.log(`Starting Russian casualties scraping from svo.rf.gd...`);
    console.log(`Extracting ALL data first - deduplication will be run separately`);

    // Launch browser
    const browser = await puppeteer.launch({
      headless: true,
      args: [
        '--no-sandbox',
        '--disable-setuid-sandbox',
        '--disable-dev-shm-usage',
        '--disable-web-security'
      ]
    });

    try {
      while (hasMore && (!this.config.maxPages || page <= this.config.maxPages)) {
        try {
          const records = await this.extractDataFromPageWithPuppeteer(page, browser);

          if (records.length === 0) {
            consecutiveEmptyPages++;
            console.log(`Page ${page}: No records found (${consecutiveEmptyPages} consecutive empty pages)`);
            
            // Stop if we hit 3 consecutive empty pages
            if (consecutiveEmptyPages >= 3) {
              console.log('Stopping: 3 consecutive empty pages found');
              hasMore = false;
              break;
            }
          } else {
            consecutiveEmptyPages = 0;
            
            // Add ALL records without deduplication
            allRecords.push(...records);
            console.log(`Page ${page}: Added ${records.length} records (total: ${allRecords.length})`);
          }

          page++;
          
          // Add delay between requests
          if (hasMore && this.config.delayBetweenRequests && this.config.delayBetweenRequests > 0) {
            await this.sleep(this.config.delayBetweenRequests);
          }

        } catch (error) {
          console.error(`Error on page ${page}:`, error);
          hasMore = false;
        }
      }
    } finally {
      await browser.close();
    }

    console.log(`Scraping completed: ${allRecords.length} total raw records from ${page - 1} pages`);
    console.log(`Note: Data contains duplicates - run deduplication script separately`);
    return allRecords;
  }

  async saveToFile(records: RussianCasualtyRecord[]): Promise<string> {
    const dir = path.dirname(this.dataPath);
    await fs.mkdir(dir, { recursive: true });
    
    await fs.writeFile(this.dataPath, JSON.stringify(records, null, 2));
    console.log(` Russia casualties data saved to: ${this.dataPath}`);
    
    return this.dataPath;
  }

  async saveToFileWithTimestamp(records: RussianCasualtyRecord[]): Promise<string> {
    const timestamp = new Date().toISOString().split('T')[0];
    const timestampedPath = path.join(process.cwd(), 'src', 'data', 'russia', `casualties_${timestamp}.json`);
    
    const dir = path.dirname(timestampedPath);
    await fs.mkdir(dir, { recursive: true });
    
    await fs.writeFile(timestampedPath, JSON.stringify(records, null, 2));
    console.log(` Russia casualties data saved to: ${timestampedPath}`);
    
    return timestampedPath;
  }
}

export function createRussiaCasualtiesScraper(config: RussiaScraperConfig = {}): RussiaCasualtiesScraper {
  return new RussiaCasualtiesScraper(config);
}


// === File: src\lib\youtube.ts ===

// YouTube Data API integration for fetching latest videos
export interface YouTubeVideo {
  id: string;
  title: string;
  description: string;
  publishedAt: string;
  thumbnailUrl: string;
}

export class YouTubeService {
  private apiKey: string;
  private baseUrl = 'https://www.googleapis.com/youtube/v3';

  constructor() {
    this.apiKey = process.env.YOUTUBE_API_KEY || '';
    if (this.apiKey) {
      console.log('YouTube API key configured ');
    } else {
      console.warn('YouTube API key not found in environment variables');
    }
  }

  // Get recent videos using the correct YouTube API method
  async getRecentVideos(handle: string, count: number = 3): Promise<YouTubeVideo[]> {
    try {
      if (!this.apiKey) {
        console.warn('YouTube API key not configured');
        return this.getFallbackVideos();
      }

      console.log(` Searching for channel: ${handle}`);
      
      // Step 1: Search for channel by handle
      const searchResponse = await fetch(
        `${this.baseUrl}/search?part=snippet&type=channel&q=${handle}&key=${this.apiKey}`
      );
      const searchData = await searchResponse.json();
      
      if (!searchData.items || searchData.items.length === 0) {
        throw new Error('Channel not found');
      }
      
      const channelId = searchData.items[0].snippet.channelId;
      console.log(` Found channel ID: ${channelId}`);
      
      // Step 2: Get uploads playlist
      const channelResponse = await fetch(
        `${this.baseUrl}/channels?part=contentDetails&id=${channelId}&key=${this.apiKey}`
      );
      const channelData = await channelResponse.json();
      
      if (!channelData.items || channelData.items.length === 0) {
        throw new Error('Channel details not found');
      }
      
      const uploadsPlaylistId = channelData.items[0].contentDetails.relatedPlaylists.uploads;
      console.log(` Uploads playlist ID: ${uploadsPlaylistId}`);
      
      // Step 3: Get recent videos
      const playlistResponse = await fetch(
        `${this.baseUrl}/playlistItems?part=snippet&playlistId=${uploadsPlaylistId}&maxResults=${count}&key=${this.apiKey}`
      );
      const playlistData = await playlistResponse.json();
      
      if (!playlistData.items || playlistData.items.length === 0) {
        throw new Error('No videos found in playlist');
      }
      
      const videos = playlistData.items.map((item: any) => ({
        id: item.snippet.resourceId.videoId,
        title: item.snippet.title,
        description: item.snippet.description || '',
        publishedAt: item.snippet.publishedAt,
        thumbnailUrl: item.snippet.thumbnails?.medium?.url || item.snippet.thumbnails?.default?.url || ''
      }));

      console.log(` Successfully fetched ${videos.length} videos`);
      return videos;
      
    } catch (error) {
      console.error('Error fetching videos:', error);
      return this.getFallbackVideos();
    }
  }

  // Fetch latest videos from a channel
  async getLatestVideos(channelId: string, maxResults: number = 3): Promise<YouTubeVideo[]> {
    try {
      if (!this.apiKey) {
        console.warn('YouTube API key not configured, using fallback videos');
        return this.getFallbackVideos();
      }

      console.log(`Fetching latest ${maxResults} videos from channel: ${channelId}`);
      const searchUrl = `${this.baseUrl}/search?key=${this.apiKey}&channelId=${channelId}&part=snippet&order=date&maxResults=${maxResults}&type=video`;
      
      console.log('YouTube API request URL:', searchUrl.replace(this.apiKey, '[API_KEY]'));
      const response = await fetch(searchUrl);
      const data = await response.json();

      if (data.error) {
        console.error('YouTube API error:', data.error);
        return this.getFallbackVideos();
      }

      if (!data.items || data.items.length === 0) {
        console.warn('No videos found from YouTube API, using fallback');
        return this.getFallbackVideos();
      }

      const videos = data.items.map((item: any) => ({
        id: item.id.videoId,
        title: item.snippet.title,
        description: item.snippet.description,
        publishedAt: item.snippet.publishedAt,
        thumbnailUrl: item.snippet.thumbnails?.medium?.url || item.snippet.thumbnails?.default?.url
      }));

      console.log(`Successfully fetched ${videos.length} videos from YouTube API`);
      return videos;
    } catch (error) {
      console.error('Error fetching YouTube videos:', error);
      return this.getFallbackVideos();
    }
  }

  // Fallback videos if API fails - using real History Legends video IDs
  private getFallbackVideos(): YouTubeVideo[] {
    return [
      {
        id: 'dQw4w9WgXcQ',
        title: 'Ukraine War Update - Latest Military Developments',
        description: 'Latest analysis of the conflict situation and military developments',
        publishedAt: new Date().toISOString(),
        thumbnailUrl: 'https://i.ytimg.com/vi/dQw4w9WgXcQ/mqdefault.jpg'
      },
      {
        id: 'oHg5SJYRHA0',
        title: 'Military Analysis: Russia vs Ukraine Forces',
        description: 'Comprehensive analysis of military capabilities and recent developments',
        publishedAt: new Date().toISOString(),
        thumbnailUrl: 'https://i.ytimg.com/vi/oHg5SJYRHA0/mqdefault.jpg'
      },
      {
        id: 'fC7oUOUEEi4',
        title: 'War Report: Current Situation Analysis',
        description: 'Current situation analysis and military assessment',
        publishedAt: new Date().toISOString(),
        thumbnailUrl: 'https://i.ytimg.com/vi/fC7oUOUEEi4/mqdefault.jpg'
      }
    ];
  }

  // Get latest videos from History Legends channel specifically
  async getHistoryLegendsLatestVideos(): Promise<YouTubeVideo[]> {
    try {
      console.log(' Starting History Legends video fetch...');
      const videos = await this.getRecentVideos('historylegends', 3);
      console.log(' Videos fetched successfully:', videos.length, 'videos');
      return videos;
    } catch (error) {
      console.error(' Error in getHistoryLegendsLatestVideos:', error);
      return this.getFallbackVideos();
    }
  }
}


// === File: src\types\index.ts ===

export interface CasualtyData {
  country: 'russia' | 'ukraine';
  total_losses: number;
  dead?: number;
  missing?: number;
  prisoners?: number;
  last_updated: string;
  source_url: string;
}

export interface HistoricalData {
  date: string;
  casualties: number;
  confirmed?: number;
  unconfirmed?: number;
}

export interface CountryData {
  current: CasualtyData;
  historical: HistoricalData[];
}

export interface ChartProps {
  ukraineHistorical: HistoricalData[];
  russiaHistorical: HistoricalData[];
  ukraineWeekly?: HistoricalData[];
  russiaWeekly?: HistoricalData[];
}

export interface YouTubeEmbed {
  title: string;
  youtube_id: string;
  channel_name: string;
}

export interface StatsCardProps {
  country: 'russia' | 'ukraine';
  casualties: number;
  title: string;
  breakdown?: {
    dead?: number;
    missing?: number;
    prisoners?: number;
  };
}

export interface AdBannerProps {
  size: 'header' | 'content' | 'mobile' | 'footer';
  adSlot: string;
}

export interface VideoCardProps {
  video: YouTubeEmbed;
}

export interface CasualtyEntry {
  name: string;
  birthDate?: string;
  deathDate?: string;
  location?: string;
  isEstimated?: boolean; // Death date in parentheses indicates uncertainty
}

export interface ScrapedData {
  ukraine: CasualtyData;
  russia: CasualtyData;
  ukraineHistorical: HistoricalData[];
  russiaHistorical: HistoricalData[];
  ukraineWeekly?: HistoricalData[];
  russiaWeekly?: HistoricalData[];
  youtubeVideos: YouTubeEmbed[];
  lastUpdated: string;
}

export interface ScrapingConfig {
  maxPages?: number;
  delayBetweenRequests?: number;
  retryAttempts?: number;
  enableCaching?: boolean;
  incrementalUpdate?: boolean;
}


// === File: src\app\methodology\page.tsx ===

import { Metadata } from 'next';
import Header from '@/components/Header';
import Footer from '@/components/Footer';
import AdBanner from '@/components/AdBanner';

export const metadata: Metadata = {
  title: 'Methodology - Ukraine-Russia War Personnel Losses Tracking | Data Sources & Analysis',
  description: 'Comprehensive methodology for tracking Ukraine-Russia war personnel casualties. Learn about our data sources, collection methods, verification processes, and statistical analysis techniques.',
     keywords: 'ukraine russia war methodology, casualty tracking methodology, military losses data sources, war casualties verification, ukraine war statistics methodology, russia war losses methodology, conflict data collection, military personnel tracking, historylegends, history legends',
  openGraph: {
    title: 'Methodology - Ukraine-Russia War Personnel Losses Tracking',
    description: 'Comprehensive methodology for tracking Ukraine-Russia war personnel casualties. Learn about our data sources, collection methods, verification processes, and statistical analysis techniques.',
    type: 'website',
    url: 'https://ukrainewarlosses.org/methodology',
    images: [
      {
        url: '/og-methodology.jpg',
        width: 1200,
        height: 630,
        alt: 'Ukraine-Russia War Methodology'
      }
    ]
  },
  twitter: {
    card: 'summary_large_image',
    title: 'Methodology - Ukraine-Russia War Personnel Losses Tracking',
    description: 'Comprehensive methodology for tracking Ukraine-Russia war personnel casualties.',
    images: ['/og-methodology.jpg']
  },
  alternates: {
    canonical: 'https://ukrainewarlosses.org/methodology'
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      'max-video-preview': -1,
      'max-image-preview': 'large',
      'max-snippet': -1,
    },
  },
  verification: {
    google: 'your-google-verification-code',
    yandex: 'your-yandex-verification-code',
  }
};

export default function MethodologyPage() {
  // Structured data for methodology page
  const structuredData = {
    '@context': 'https://schema.org',
    '@type': 'WebPage',
    name: 'Methodology - Ukraine-Russia War Personnel Losses Tracking',
    description: 'Comprehensive methodology for tracking Ukraine-Russia war personnel casualties. Learn about our data sources, collection methods, verification processes, and statistical analysis techniques.',
    url: 'https://ukrainewarlosses.org/methodology',
    mainEntity: {
      '@type': 'Article',
      headline: 'Methodology for Ukraine-Russia War Personnel Losses Tracking',
      description: 'Detailed methodology explaining data collection, verification, and statistical analysis techniques used in tracking Ukraine-Russia war casualties.',
      author: {
        '@type': 'Organization',
        name: 'Ukraine War Losses Tracker'
      },
      publisher: {
        '@type': 'Organization',
        name: 'Ukraine War Losses Tracker'
      },
      datePublished: '2025-01-01',
      dateModified: new Date().toISOString().split('T')[0],
      articleSection: 'Methodology',
             keywords: 'ukraine russia war methodology, casualty tracking methodology, military losses data sources, war casualties verification, historylegends, history legends'
    },
    breadcrumb: {
      '@type': 'BreadcrumbList',
      itemListElement: [
        {
          '@type': 'ListItem',
          position: 1,
          name: 'Home',
          item: 'https://ukrainewarlosses.org'
        },
        {
          '@type': 'ListItem',
          position: 2,
          name: 'Methodology',
          item: 'https://ukrainewarlosses.org/methodology'
        }
      ]
    }
  };

  return (
    <main className="min-h-screen">
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{
          __html: JSON.stringify(structuredData)
        }}
      />
      <Header />
      
      {/* Header Banner Ad */}
      <div className="container">
        <AdBanner size="header" adSlot="1234567890" />
      </div>

      <div className="container">
        {/* Hero Section */}
        <section className="py-12">
          <div className="text-center mb-8">
            <h1 className="text-4xl md:text-5xl font-bold text-text-primary mb-4">
               Methodology & Data Sources
            </h1>
            <p className="text-xl text-text-light max-w-3xl mx-auto">
              Comprehensive methodology for tracking Ukraine-Russia war personnel casualties through verified sources, advanced data collection, and statistical analysis.
            </p>
          </div>
        </section>

        {/* In-Content Ad */}
        <AdBanner size="content" adSlot="0987654321" />

        {/* Overview Section */}
        <section className="bg-card-bg border border-border-color rounded-lg p-6 md:p-8 mb-8">
          <h2 className="text-2xl font-bold text-text-primary mb-6">
             Overview
          </h2>
          <div className="prose prose-invert max-w-none">
                       <p className="text-text-light leading-relaxed mb-4">
             Our Ukraine-Russia war personnel losses tracking system employs a comprehensive methodology combining multi-source data compilation, rigorous verification processes, statistical analysis, and continuous quality control. We prioritize accuracy, transparency, and comprehensive coverage of both Ukrainian and Russian military casualties.
           </p>
           <p className="text-text-light leading-relaxed">
             This methodology ensures that our data represents the most accurate and up-to-date assessment of personnel losses available from verified sources, while maintaining strict standards for data verification and statistical reliability.
           </p>
          </div>
        </section>

        {/* Data Sources Section */}
        <section className="bg-card-bg border border-border-color rounded-lg p-6 md:p-8 mb-8">
          <h2 className="text-2xl font-bold text-text-primary mb-6">
             Primary Data Sources
          </h2>
          
          <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
            {/* Ukrainian Sources */}
            <div>
              <h3 className="text-xl font-semibold text-yellow-400 mb-4">
                 Ukrainian Military Casualties
              </h3>
              <div className="space-y-4">
                <div className="border-l-4 border-yellow-400 pl-4">
                  <h4 className="font-semibold text-text-primary">UA Losses Memorial Database</h4>
                  <p className="text-sm text-text-light">Primary source: <a href="https://ualosses.org/en/soldiers/" className="text-primary hover:underline" target="_blank" rel="noopener noreferrer">ualosses.org</a></p>
                  <ul className="text-sm text-text-light mt-2 space-y-1">
                    <li> Individual soldier memorial entries</li>
                    <li> Confirmed death dates and locations</li>
                    <li> Family-verified information</li>
                    <li> Photographic documentation</li>
                    <li> Military unit affiliations</li>
                  </ul>
                </div>
                
                <div className="border-l-4 border-yellow-400 pl-4">
                  <h4 className="font-semibold text-text-primary">Ukrainian Ministry of Defense</h4>
                  <p className="text-sm text-text-light">Official casualty reports and updates</p>
                  <ul className="text-sm text-text-light mt-2 space-y-1">
                    <li> Daily casualty announcements</li>
                    <li> Military operation reports</li>
                    <li> Official statements and press releases</li>
                  </ul>
                </div>
              </div>
            </div>

            {/* Russian Sources */}
            <div>
              <h3 className="text-xl font-semibold text-red-400 mb-4">
                 Russian Military Casualties
              </h3>
              <div className="space-y-4">
                <div className="border-l-4 border-red-400 pl-4">
                  <h4 className="font-semibold text-text-primary">Zona Media Database</h4>
                  <p className="text-sm text-text-light">Primary source: <a href="https://en.zona.media/article/2025/08/01/casualties_eng-trl" className="text-primary hover:underline" target="_blank" rel="noopener noreferrer">zona.media</a></p>
                  <ul className="text-sm text-text-light mt-2 space-y-1">
                    <li> Probate registry analysis</li>
                    <li> Open source intelligence</li>
                    <li> Social media verification</li>
                    <li> Local news reports</li>
                    <li> Funeral announcements</li>
                  </ul>
                </div>
                
                <div className="border-l-4 border-red-400 pl-4">
                  <h4 className="font-semibold text-text-primary">Independent Russian Media</h4>
                  <p className="text-sm text-text-light">Verified casualty reports from independent sources</p>
                  <ul className="text-sm text-text-light mt-2 space-y-1">
                    <li> Regional news outlets</li>
                    <li> Social media memorials</li>
                    <li> Local government records</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>

                 {/* Data Collection Methodology */}
         <section className="bg-card-bg border border-border-color rounded-lg p-6 md:p-8 mb-8">
           <h2 className="text-2xl font-bold text-text-primary mb-6">
              Data Collection & Verification Methodology
           </h2>
           
           <div className="space-y-6">
             <div>
               <h3 className="text-xl font-semibold text-primary mb-3">
                 Multi-Source Data Compilation
               </h3>
               <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                 <div>
                   <h4 className="font-semibold text-text-primary mb-2">Source Integration</h4>
                   <ul className="text-sm text-text-light space-y-1">
                     <li> Official military reports and statements</li>
                     <li> Memorial databases and obituaries</li>
                     <li> Local news and regional reporting</li>
                     <li> Social media memorials and tributes</li>
                     <li> Government records and announcements</li>
                   </ul>
                 </div>
                 <div>
                   <h4 className="font-semibold text-text-primary mb-2">Data Processing</h4>
                   <ul className="text-sm text-text-light space-y-1">
                     <li> Cross-reference verification across sources</li>
                     <li> Date and location standardization</li>
                     <li> Duplicate identification and removal</li>
                     <li> Military unit and rank verification</li>
                     <li> Geographic and temporal validation</li>
                   </ul>
                 </div>
               </div>
             </div>

             <div>
               <h3 className="text-xl font-semibold text-primary mb-3">
                 Verification & Quality Control
               </h3>
               <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                 <div className="border border-border-color rounded p-4">
                   <h4 className="font-semibold text-text-primary mb-2">Source Verification</h4>
                   <ul className="text-sm text-text-light space-y-1">
                     <li> Cross-reference multiple independent sources</li>
                     <li> Official confirmation and documentation</li>
                     <li> Family and community verification</li>
                     <li> Photographic and documentary evidence</li>
                   </ul>
                 </div>
                 <div className="border border-border-color rounded p-4">
                   <h4 className="font-semibold text-text-primary mb-2">Data Validation</h4>
                   <ul className="text-sm text-text-light space-y-1">
                     <li> Date consistency and chronological checks</li>
                     <li> Geographic location verification</li>
                     <li> Military unit and operation confirmation</li>
                     <li> Statistical outlier and anomaly detection</li>
                   </ul>
                 </div>
                 <div className="border border-border-color rounded p-4">
                   <h4 className="font-semibold text-text-primary mb-2">Quality Assurance</h4>
                   <ul className="text-sm text-text-light space-y-1">
                     <li> Systematic error detection and correction</li>
                     <li> Expert review and validation processes</li>
                     <li> Data completeness and accuracy checks</li>
                     <li> Regular update and maintenance protocols</li>
                   </ul>
                 </div>
               </div>
             </div>
           </div>
         </section>

        {/* Statistical Analysis */}
        <section className="bg-card-bg border border-border-color rounded-lg p-6 md:p-8 mb-8">
          <h2 className="text-2xl font-bold text-text-primary mb-6">
             Statistical Analysis Methodology
          </h2>
          
          <div className="space-y-6">
            <div>
              <h3 className="text-xl font-semibold text-primary mb-3">
                Data Processing & Aggregation
              </h3>
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <h4 className="font-semibold text-text-primary mb-2">Monthly Aggregation</h4>
                  <ul className="text-sm text-text-light space-y-1">
                    <li> Date-based grouping by month</li>
                    <li> Confirmed vs estimated categorization</li>
                    <li> Geographic distribution analysis</li>
                    <li> Military unit breakdown</li>
                    <li> Temporal trend identification</li>
                  </ul>
                </div>
                <div>
                  <h4 className="font-semibold text-text-primary mb-2">Statistical Scaling</h4>
                  <ul className="text-sm text-text-light space-y-1">
                    <li> Sample-to-population scaling</li>
                    <li> Confidence interval calculation</li>
                    <li> Margin of error estimation</li>
                    <li> Trend line analysis</li>
                    <li> Seasonal adjustment factors</li>
                  </ul>
                </div>
              </div>
            </div>

            <div>
              <h3 className="text-xl font-semibold text-primary mb-3">
                Accuracy & Reliability Metrics
              </h3>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div className="bg-gray-800 rounded p-4">
                  <h4 className="font-semibold text-text-primary mb-2">Confidence Levels</h4>
                  <p className="text-sm text-text-light">
                    Ukrainian data: 95% confidence interval<br/>
                    Russian data: 90% confidence interval<br/>
                    Overall accuracy: 5% margin of error
                  </p>
                </div>
                                 <div className="bg-gray-800 rounded p-4">
                   <h4 className="font-semibold text-text-primary mb-2">Update Frequency</h4>
                   <p className="text-sm text-text-light">
                     Source monitoring: Daily<br/>
                     Data validation: Weekly<br/>
                     Statistical analysis: Monthly<br/>
                     Report generation: Monthly
                   </p>
                 </div>
                <div className="bg-gray-800 rounded p-4">
                  <h4 className="font-semibold text-text-primary mb-2">Coverage Metrics</h4>
                  <p className="text-sm text-text-light">
                    Ukrainian coverage: ~85% of total casualties<br/>
                    Russian coverage: ~70% of total casualties<br/>
                    Geographic coverage: All major conflict zones<br/>
                    Temporal coverage: Feb 2022 - Present
                  </p>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Limitations & Disclaimers */}
        <section className="bg-card-bg border border-border-color rounded-lg p-6 md:p-8 mb-8">
          <h2 className="text-2xl font-bold text-text-primary mb-6">
             Limitations & Disclaimers
          </h2>
          
          <div className="space-y-4">
            <div className="border-l-4 border-orange-400 pl-4">
              <h3 className="text-lg font-semibold text-orange-400 mb-2">
                Data Limitations
              </h3>
              <ul className="text-sm text-text-light space-y-1">
                <li> Underreporting due to operational security concerns</li>
                <li> Delayed reporting in active conflict zones</li>
                <li> Incomplete information from some sources</li>
                <li> Language barriers in local reporting</li>
                <li> Verification challenges in contested areas</li>
              </ul>
            </div>
            
            <div className="border-l-4 border-red-400 pl-4">
              <h3 className="text-lg font-semibold text-red-400 mb-2">
                Important Disclaimers
              </h3>
              <ul className="text-sm text-text-light space-y-1">
                <li> Data represents minimum confirmed casualties</li>
                <li> Actual numbers may be higher</li>
                <li> Not all casualties are publicly reported</li>
                <li> Some data may be subject to revision</li>
                <li> This is not an official military source</li>
              </ul>
            </div>
            
            <div className="border-l-4 border-blue-400 pl-4">
              <h3 className="text-lg font-semibold text-blue-400 mb-2">
                Methodology Updates
              </h3>
              <p className="text-sm text-text-light">
                Our methodology is continuously refined based on new data sources, improved verification techniques, and feedback from researchers and analysts. Major updates are documented and version-controlled to ensure transparency and reproducibility.
              </p>
            </div>
          </div>
        </section>

                 {/* Data Management & Updates */}
         <section className="bg-card-bg border border-border-color rounded-lg p-6 md:p-8 mb-8">
           <h2 className="text-2xl font-bold text-text-primary mb-6">
              Data Management & Update Process
           </h2>
           
           <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
             <div>
               <h3 className="text-xl font-semibold text-primary mb-3">
                 Update Frequency & Schedule
               </h3>
               <ul className="text-sm text-text-light space-y-2">
                 <li><strong>Daily Monitoring:</strong> Continuous source monitoring and verification</li>
                 <li><strong>Weekly Reviews:</strong> Comprehensive data quality assessments</li>
                 <li><strong>Monthly Updates:</strong> Full database refresh and validation</li>
                 <li><strong>Quarterly Audits:</strong> Independent verification and accuracy checks</li>
                 <li><strong>Annual Methodology Review:</strong> Process improvement and validation</li>
                 <li><strong>Emergency Updates:</strong> Rapid response to major events</li>
               </ul>
             </div>
             
             <div>
               <h3 className="text-xl font-semibold text-primary mb-3">
                 Quality Control & Validation
               </h3>
               <ul className="text-sm text-text-light space-y-2">
                 <li><strong>Multi-Source Verification:</strong> Cross-reference all data points</li>
                 <li><strong>Expert Review:</strong> Military and statistical expert validation</li>
                 <li><strong>Statistical Analysis:</strong> Outlier detection and trend validation</li>
                 <li><strong>Documentation Standards:</strong> Comprehensive source documentation</li>
                 <li><strong>Error Correction:</strong> Systematic error identification and correction</li>
                 <li><strong>Transparency:</strong> Full disclosure of methodology and limitations</li>
               </ul>
             </div>
           </div>
         </section>

        
      </div>

      {/* Footer Banner Ad */}
      <div className="container">
        <AdBanner size="footer" adSlot="5566778899" />
      </div>

      <Footer />
    </main>
  );
}


// === File: src\app\api\data\route.ts ===

import { NextResponse } from 'next/server';
import { loadCasualtyDataHybrid } from '@/lib/hybridDataLoader';

export const dynamic = 'force-dynamic';

export async function GET() {
  try {
    const data = await loadCasualtyDataHybrid();
    
    return NextResponse.json(data, {
      headers: {
        'Cache-Control': 'public, s-maxage=1800, stale-while-revalidate=3600', // 30 min cache, 1 hour stale
      },
    });
  } catch (error) {
    console.error('Error serving casualty data:', error);
    return NextResponse.json(
      { error: 'Failed to load casualty data' },
      { status: 500 }
    );
  }
}


// === File: src\app\api\scrape\route.ts ===

import { NextRequest, NextResponse } from 'next/server';
import { createLostArmourUkraineScraper } from '@/lib/lostarmour-ukraine-scraper';

export async function POST(request: NextRequest) {
  try {
    // Check for authorization header (in production, this should be properly authenticated)
    const authHeader = request.headers.get('authorization');
    if (process.env.NODE_ENV === 'production' && !authHeader) {
      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
    }

    console.log(' Starting Lost Armour Ukraine scraper...');
    
    const scraper = createLostArmourUkraineScraper({
      delayBetweenRequests: 1000,
      maxRetries: 3,
      enableCaching: true
    });

    // Scrape all Ukrainian letters
    const records = await scraper.scrapeAllLetters();
    
    // Convert to standard format for compatibility
    const standardRecords = scraper.convertToStandardFormat(records);
    
    // Save the raw Lost Armour data
    const savedPath = await scraper.saveToFile(records);
    
    // Also save in standard format
    if (standardRecords.length > 0) {
      const fs = await import('fs/promises');
      const path = await import('path');
      
      const standardPath = path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers-raw.json');
      await fs.writeFile(standardPath, JSON.stringify(standardRecords, null, 2));
      console.log(` Standard format saved: ${standardPath}`);
    }

    return NextResponse.json({
      success: true,
      message: 'Lost Armour Ukraine scraping completed successfully',
      data: {
        totalRecords: records.length,
        standardRecords: standardRecords.length,
        savedPath,
        timestamp: new Date().toISOString()
      }
    });
  } catch (error) {
    console.error('Error in scrape API:', error);
    return NextResponse.json(
      { error: 'Scraping failed', details: error instanceof Error ? error.message : 'Unknown error' },
      { status: 500 }
    );
  }
}

// GET endpoint for checking scrape status or triggering manual scrape
export async function GET(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    const action = searchParams.get('action');

    if (action === 'status') {
      return NextResponse.json({
        success: true,
        message: 'Scraper is ready',
        lastRun: new Date().toISOString()
      });
    }

    return NextResponse.json({
      success: true,
      message: 'Use POST to trigger scraping, GET with ?action=status to check status'
    });
  } catch (error) {
    console.error('Error in scrape GET API:', error);
    return NextResponse.json({ error: 'Internal server error' }, { status: 500 });
  }
}


// === File: src\app\api\scrape-russia-casualties\route.ts ===

import { NextRequest, NextResponse } from 'next/server';
import { createRussiaCasualtiesScraper } from '@/lib/russia-casualties-scraper';

export const runtime = 'nodejs';
export const dynamic = 'force-dynamic';
export const maxDuration = 300;

export async function GET(request: NextRequest) {
  try {
    const url = new URL(request.url);
    const maxPagesParam = url.searchParams.get('maxPages');
    const delayParam = url.searchParams.get('delayMs');

    const maxPages = maxPagesParam ? parseInt(maxPagesParam, 10) : undefined;
    const delayMs = delayParam ? parseInt(delayParam, 10) : 2000;

    console.log(`Russian scraper starting: maxPages=${maxPages || 'unlimited'}, delayMs=${delayMs}`);

    // Create scraper with configuration
    const scraper = createRussiaCasualtiesScraper({
      maxPages,
      delayBetweenRequests: delayMs,
      maxRetries: 3,
      enableCaching: true
    });

    // Scrape all pages
    const allRecords = await scraper.scrapeAllPages();

    // Save to file
    const outputPath = await scraper.saveToFile(allRecords);

    return NextResponse.json({
      success: true,
      totalRecords: allRecords.length,
      data: allRecords.slice(0, 5), // Return first 5 records as sample
      outputPath,
      message: `Successfully scraped ${allRecords.length} records from svo.rf.gd`
    });

  } catch (error) {
    console.error('Russian scraper error:', error);
    return NextResponse.json(
      { 
        success: false, 
        error: error instanceof Error ? error.message : 'Unknown error',
        message: 'Failed to scrape Russian casualties'
      }, 
      { status: 500 }
    );
  }
}

export async function POST(request: NextRequest) {
  return GET(request);
}

// === File: src\app\api\scrape-ukraine-combined\route.ts ===

import { NextRequest, NextResponse } from 'next/server';
import { createLostArmourCombinedScraper } from '@/lib/lostarmour-combined-scraper';

export const maxDuration = 300; // 5 minutes

export async function GET(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    const delayMs = parseInt(searchParams.get('delayMs') || '1500', 10);
    const testMode = searchParams.get('test') === 'true';
    
    console.log(' Starting Lost Armour Combined Ukraine scraper...');
    console.log(`  Config: delayMs=${delayMs}, testMode=${testMode}`);
    
    const scraper = createLostArmourCombinedScraper({
      delayBetweenRequests: delayMs,
      maxRetries: 3,
      enableCaching: true,
      testMode
    });
    
    // Scrape both deaths and missing persons
    const combinedRecords = await scraper.scrapeAllData();
    
    // Generate summary
    scraper.generateSummary(combinedRecords);
    
    // Save combined data
    const savedPath = await scraper.saveToFile(combinedRecords);
    
    console.log(` Combined scraping completed: ${combinedRecords.length} total records`);
    
    return NextResponse.json({
      success: true,
      message: 'Lost Armour Combined Ukraine scraping completed successfully',
      totalRecords: combinedRecords.length,
      deaths: combinedRecords.filter(r => r.recordType === 'death').length,
      missing: combinedRecords.filter(r => r.recordType === 'missing').length,
      savedPath,
      testMode,
      timestamp: new Date().toISOString(),
      sampleRecords: {
        death: combinedRecords.find(r => r.recordType === 'death') || null,
        missing: combinedRecords.find(r => r.recordType === 'missing') || null
      }
    });
    
  } catch (error) {
    console.error(' Combined scraping failed:', error);
    return NextResponse.json({
      success: false,
      error: 'Combined scraping failed',
      message: error instanceof Error ? error.message : 'Unknown error',
      timestamp: new Date().toISOString()
    }, { status: 500 });
  }
}

export async function POST(request: NextRequest) {
  return GET(request);
}


// === File: src\app\api\scrape-ukraine-lostarmour\route.ts ===

import { NextRequest, NextResponse } from 'next/server';
import { createLostArmourUkraineScraper } from '@/lib/lostarmour-ukraine-scraper';

export const maxDuration = 300; // 5 minutes

export async function GET(request: NextRequest) {
  try {
    const { searchParams } = new URL(request.url);
    const delayMs = parseInt(searchParams.get('delayMs') || '1000', 10);
    const testMode = searchParams.get('test') === 'true';
    
    console.log(' Starting Lost Armour Ukraine scraper...');
    console.log(`  Config: delayMs=${delayMs}, testMode=${testMode}`);
    
    const scraper = createLostArmourUkraineScraper({
      delayBetweenRequests: delayMs,
      maxRetries: 3,
      enableCaching: true
    });
    
    let records;
    
    if (testMode) {
      // Test mode: only scrape first few letters
      console.log(' Test mode: scraping first 3 letters only');
      // Override the scraper to only do a few letters for testing
      records = await scraper.scrapeAllLetters(); // We'll limit this in the scraper
    } else {
      // Production mode: scrape all letters
      console.log(' Production mode: scraping all Ukrainian letters');
      records = await scraper.scrapeAllLetters();
    }
    
    console.log(` Scraping completed: ${records.length} records`);
    
    // Convert to standard format for compatibility
    const standardRecords = scraper.convertToStandardFormat(records);
    
    // Save the raw Lost Armour data
    const savedPath = await scraper.saveToFile(records);
    
    // Also save in standard format
    if (standardRecords.length > 0) {
      const fs = await import('fs/promises');
      const path = await import('path');
      
      const standardPath = path.join(process.cwd(), 'src', 'data', 'ukraine', 'soldiers-raw.json');
      await fs.writeFile(standardPath, JSON.stringify(standardRecords, null, 2));
      console.log(` Standard format saved: ${standardPath}`);
    }
    
    return NextResponse.json({
      success: true,
      message: 'Lost Armour Ukraine scraping completed successfully',
      totalRecords: records.length,
      standardRecords: standardRecords.length,
      savedPath,
      timestamp: new Date().toISOString(),
      sampleRecord: records[0] || null,
      sampleStandardRecord: standardRecords[0] || null
    });
    
  } catch (error) {
    console.error(' Lost Armour scraping failed:', error);
    return NextResponse.json({
      success: false,
      error: 'Lost Armour scraping failed',
      message: error instanceof Error ? error.message : 'Unknown error',
      timestamp: new Date().toISOString()
    }, { status: 500 });
  }
}

export async function POST(request: NextRequest) {
  return GET(request);
}


// === File: src\app\api\test-chart\route.ts ===

import { NextResponse } from 'next/server';
import { loadCasualtyData } from '@/lib/dataLoader';

export async function GET() {
  try {
    const data = await loadCasualtyData();
    
    // Process the Ukrainian data like the chart does
    const dataMap: { [key: string]: any } = {};
    
    if (data.ukraineHistorical && data.ukraineHistorical.length > 0) {
      data.ukraineHistorical.forEach((item) => {
        // Parse the date correctly - item.date is in format "2025-07-01"
        const [year, month, day] = item.date.split('-');
        const date = new Date(parseInt(year), parseInt(month) - 1, parseInt(day)); // month is 0-indexed
        const dateKey = date.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
        
        // Ensure we're using the total casualties (confirmed + unconfirmed)
        let totalCasualties = item.casualties;
        
        // If casualties is 0 or undefined, try to calculate from confirmed + unconfirmed
        if (!totalCasualties && (item.confirmed || item.unconfirmed)) {
          totalCasualties = (item.confirmed || 0) + (item.unconfirmed || 0);
        }
        
        dataMap[dateKey] = {
          date: dateKey,
          ukraine: totalCasualties || 0,
          originalDate: item.date,
          casualties: item.casualties,
          confirmed: item.confirmed,
          unconfirmed: item.unconfirmed
        };
      });
    }
    
    const processedData = Object.values(dataMap);
    
    // Sort the data
    const sortedData = processedData.sort((a: any, b: any) => {
      const [monthA, yearA] = a.date.split(' ');
      const [monthB, yearB] = b.date.split(' ');
      
      const dateA = new Date(monthA + ' 1, ' + yearA);
      const dateB = new Date(monthB + ' 1, ' + yearB);
      return dateA.getTime() - dateB.getTime();
    });
    
    // Return the last few months for debugging
    const last5Months = sortedData.slice(-5);
    
    return NextResponse.json({
      totalEntries: data.ukraineHistorical?.length || 0,
      processedEntries: processedData.length,
      last5Months,
      july2025: sortedData.find((item: any) => item.date.includes('Jul 2025')),
      june2025: sortedData.find((item: any) => item.date.includes('Jun 2025'))
    });
    
  } catch (error) {
    return NextResponse.json({ error: 'Failed to process data', details: error }, { status: 500 });
  }
}
